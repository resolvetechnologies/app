(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["@walletconnect/universal-provider"], {
     "0140": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.fromMiliseconds = t.toMiliseconds = void 0; const n = r("0e4f"); function i(e) { return e * n.ONE_THOUSAND } function s(e) { return Math.floor(e / n.ONE_THOUSAND) } t.toMiliseconds = i, t.fromMiliseconds = s }, "0391": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.pino = void 0; const n = r("9ab4"), i = n.__importDefault(r("a28f")); Object.defineProperty(t, "pino", { enumerable: !0, get: function () { return i.default } }), n.__exportStar(r("40bb"), t), n.__exportStar(r("c100"), t) }, "0ca8": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"); const i = n.rfc4648({ prefix: "f", name: "base16", alphabet: "0123456789abcdef", bitsPerChar: 4 }), s = n.rfc4648({ prefix: "F", name: "base16upper", alphabet: "0123456789ABCDEF", bitsPerChar: 4 }); t.base16 = i, t.base16upper = s }, "0e4f": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = r("9ab4"); n.__exportStar(r("3fa3"), t), n.__exportStar(r("ced8"), t) }, "0ef4": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.IKeyValueStorage = void 0; class n { } t.IKeyValueStorage = n }, "11f1": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"); const i = n.rfc4648({ prefix: "7", name: "base8", alphabet: "01234567", bitsPerChar: 3 }); t.base8 = i }, 12: function (e, t) { }, "12b0": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = r("9ab4"); n.__exportStar(r("0ef4"), t), n.__exportStar(r("f72d"), t) }, "17fb": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"); const i = n.rfc4648({ prefix: "b", name: "base32", alphabet: "abcdefghijklmnopqrstuvwxyz234567", bitsPerChar: 5 }), s = n.rfc4648({ prefix: "B", name: "base32upper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567", bitsPerChar: 5 }), o = n.rfc4648({ prefix: "c", name: "base32pad", alphabet: "abcdefghijklmnopqrstuvwxyz234567=", bitsPerChar: 5 }), a = n.rfc4648({ prefix: "C", name: "base32padupper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=", bitsPerChar: 5 }), c = n.rfc4648({ prefix: "v", name: "base32hex", alphabet: "0123456789abcdefghijklmnopqrstuv", bitsPerChar: 5 }), u = n.rfc4648({ prefix: "V", name: "base32hexupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV", bitsPerChar: 5 }), h = n.rfc4648({ prefix: "t", name: "base32hexpad", alphabet: "0123456789abcdefghijklmnopqrstuv=", bitsPerChar: 5 }), l = n.rfc4648({ prefix: "T", name: "base32hexpadupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=", bitsPerChar: 5 }), f = n.rfc4648({ prefix: "h", name: "base32z", alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769", bitsPerChar: 5 }); t.base32 = i, t.base32hex = c, t.base32hexpad = h, t.base32hexpadupper = l, t.base32hexupper = u, t.base32pad = o, t.base32padupper = a, t.base32upper = s, t.base32z = f }, "182d": function (e, t, r) { var n = r("f8cd"), i = RangeError; e.exports = function (e, t) { var r = n(e); if (r % t) throw i("Wrong offset"); return r } }, "18cd": function (e, t, r) { "use strict"; r("acd6"); var n = r("cbd4"); r.d(t, "parseConnectionError", (function () { return n["d"] })); var i = r("4797"); r.o(i, "IJsonRpcProvider") && r.d(t, "IJsonRpcProvider", (function () { return i["IJsonRpcProvider"] })), r.o(i, "formatJsonRpcError") && r.d(t, "formatJsonRpcError", (function () { return i["formatJsonRpcError"] })), r.o(i, "formatJsonRpcRequest") && r.d(t, "formatJsonRpcRequest", (function () { return i["formatJsonRpcRequest"] })), r.o(i, "formatJsonRpcResult") && r.d(t, "formatJsonRpcResult", (function () { return i["formatJsonRpcResult"] })), r.o(i, "getBigIntRpcId") && r.d(t, "getBigIntRpcId", (function () { return i["getBigIntRpcId"] })), r.o(i, "isHttpUrl") && r.d(t, "isHttpUrl", (function () { return i["isHttpUrl"] })), r.o(i, "isJsonRpcError") && r.d(t, "isJsonRpcError", (function () { return i["isJsonRpcError"] })), r.o(i, "isJsonRpcRequest") && r.d(t, "isJsonRpcRequest", (function () { return i["isJsonRpcRequest"] })), r.o(i, "isJsonRpcResponse") && r.d(t, "isJsonRpcResponse", (function () { return i["isJsonRpcResponse"] })), r.o(i, "isJsonRpcResult") && r.d(t, "isJsonRpcResult", (function () { return i["isJsonRpcResult"] })), r.o(i, "isLocalhostUrl") && r.d(t, "isLocalhostUrl", (function () { return i["isLocalhostUrl"] })), r.o(i, "isReactNative") && r.d(t, "isReactNative", (function () { return i["isReactNative"] })), r.o(i, "isWsUrl") && r.d(t, "isWsUrl", (function () { return i["isWsUrl"] })); var s = r("c9ad"); r.d(t, "formatJsonRpcError", (function () { return s["a"] })), r.d(t, "formatJsonRpcRequest", (function () { return s["b"] })), r.d(t, "formatJsonRpcResult", (function () { return s["c"] })), r.d(t, "getBigIntRpcId", (function () { return s["d"] })); r("a80d"); var o = r("fca1"); r.d(t, "IJsonRpcProvider", (function () { return o["a"] })); var a = r("7896"); r.d(t, "isHttpUrl", (function () { return a["a"] })), r.d(t, "isLocalhostUrl", (function () { return a["b"] })), r.d(t, "isWsUrl", (function () { return a["c"] })); var c = r("cad0"); r.d(t, "isJsonRpcError", (function () { return c["a"] })), r.d(t, "isJsonRpcRequest", (function () { return c["b"] })), r.d(t, "isJsonRpcResponse", (function () { return c["c"] })), r.d(t, "isJsonRpcResult", (function () { return c["d"] })) }, "1b5b": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"); const i = n.rfc4648({ prefix: "m", name: "base64", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", bitsPerChar: 6 }), s = n.rfc4648({ prefix: "M", name: "base64pad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", bitsPerChar: 6 }), o = n.rfc4648({ prefix: "u", name: "base64url", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_", bitsPerChar: 6 }), a = n.rfc4648({ prefix: "U", name: "base64urlpad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=", bitsPerChar: 6 }); t.base64 = i, t.base64pad = s, t.base64url = o, t.base64urlpad = a }, "1d02": function (e, t, r) { "use strict"; var n = r("ebb5"), i = r("a258").findLastIndex, s = n.aTypedArray, o = n.exportTypedArrayMethod; o("findLastIndex", (function (e) { return i(s(this), e, arguments.length > 1 ? arguments[1] : void 0) })) }, "1db5": function (e, t, r) { "use strict"; var n = r("3b5a"); r.d(t, "generateKeyPair", (function () { return n["a"] })), r.d(t, "signJWT", (function () { return n["b"] })); r("3d45"); var i = r("f900"); r.o(i, "encodeIss") && r.d(t, "encodeIss", (function () { return i["encodeIss"] })); var s = r("ef2c"); r.d(t, "encodeIss", (function () { return s["d"] })) }, "1fbd": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dd7b"), i = r("29f9"); const s = 0, o = "identity", a = n.coerce, c = e => i.create(s, a(e)), u = { code: s, name: o, encode: a, digest: c }; t.identity = u }, "226e": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("bc60"), i = r("a828"), s = r("b2af"), o = r("bdff"), a = r("eaf0"), c = r("dcf9"); t.compare = n.compare, t.concat = i.concat, t.equals = s.equals, t.fromString = o.fromString, t.toString = a.toString, t.xor = c.xor }, "27b4": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.HeartBeat = void 0; const n = r("9ab4"), i = r("faa1"), s = r("a383"), o = r("b32a"), a = r("abb6"); class c extends o.IHeartBeat { constructor(e) { super(e), this.events = new i.EventEmitter, this.interval = a.HEARTBEAT_INTERVAL, this.interval = (null === e || void 0 === e ? void 0 : e.interval) || a.HEARTBEAT_INTERVAL } static init(e) { return n.__awaiter(this, void 0, void 0, (function* () { const t = new c(e); return yield t.init(), t })) } init() { return n.__awaiter(this, void 0, void 0, (function* () { yield this.initialize() })) } stop() { clearInterval(this.intervalRef) } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } initialize() { return n.__awaiter(this, void 0, void 0, (function* () { this.intervalRef = setInterval(() => this.pulse(), s.toMiliseconds(this.interval)) })) } pulse() { this.events.emit(a.HEARTBEAT_EVENTS.pulse) } } t.HeartBeat = c }, 2834: function (e, t, r) { "use strict"; var n = r("ebb5"), i = r("e330"), s = r("59ed"), o = r("dfb9"), a = n.aTypedArray, c = n.getTypedArrayConstructor, u = n.exportTypedArrayMethod, h = i(n.TypedArrayPrototype.sort); u("toSorted", (function (e) { void 0 !== e && s(e); var t = a(this), r = o(c(t), t); return h(r, e) })) }, "290c": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("ed96"); function i(e, t) { return void 0 === t && (t = 0), (e[t + 0] << 8 | e[t + 1]) << 16 >> 16 } function s(e, t) { return void 0 === t && (t = 0), (e[t + 0] << 8 | e[t + 1]) >>> 0 } function o(e, t) { return void 0 === t && (t = 0), (e[t + 1] << 8 | e[t]) << 16 >> 16 } function a(e, t) { return void 0 === t && (t = 0), (e[t + 1] << 8 | e[t]) >>> 0 } function c(e, t, r) { return void 0 === t && (t = new Uint8Array(2)), void 0 === r && (r = 0), t[r + 0] = e >>> 8, t[r + 1] = e >>> 0, t } function u(e, t, r) { return void 0 === t && (t = new Uint8Array(2)), void 0 === r && (r = 0), t[r + 0] = e >>> 0, t[r + 1] = e >>> 8, t } function h(e, t) { return void 0 === t && (t = 0), e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3] } function l(e, t) { return void 0 === t && (t = 0), (e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3]) >>> 0 } function f(e, t) { return void 0 === t && (t = 0), e[t + 3] << 24 | e[t + 2] << 16 | e[t + 1] << 8 | e[t] } function d(e, t) { return void 0 === t && (t = 0), (e[t + 3] << 24 | e[t + 2] << 16 | e[t + 1] << 8 | e[t]) >>> 0 } function p(e, t, r) { return void 0 === t && (t = new Uint8Array(4)), void 0 === r && (r = 0), t[r + 0] = e >>> 24, t[r + 1] = e >>> 16, t[r + 2] = e >>> 8, t[r + 3] = e >>> 0, t } function g(e, t, r) { return void 0 === t && (t = new Uint8Array(4)), void 0 === r && (r = 0), t[r + 0] = e >>> 0, t[r + 1] = e >>> 8, t[r + 2] = e >>> 16, t[r + 3] = e >>> 24, t } function b(e, t) { void 0 === t && (t = 0); var r = h(e, t), n = h(e, t + 4); return 4294967296 * r + n - 4294967296 * (n >> 31) } function y(e, t) { void 0 === t && (t = 0); var r = l(e, t), n = l(e, t + 4); return 4294967296 * r + n } function v(e, t) { void 0 === t && (t = 0); var r = f(e, t), n = f(e, t + 4); return 4294967296 * n + r - 4294967296 * (r >> 31) } function _(e, t) { void 0 === t && (t = 0); var r = d(e, t), n = d(e, t + 4); return 4294967296 * n + r } function m(e, t, r) { return void 0 === t && (t = new Uint8Array(8)), void 0 === r && (r = 0), p(e / 4294967296 >>> 0, t, r), p(e >>> 0, t, r + 4), t } function w(e, t, r) { return void 0 === t && (t = new Uint8Array(8)), void 0 === r && (r = 0), g(e >>> 0, t, r), g(e / 4294967296 >>> 0, t, r + 4), t } function E(e, t, r) { if (void 0 === r && (r = 0), e % 8 !== 0) throw new Error("readUintBE supports only bitLengths divisible by 8"); if (e / 8 > t.length - r) throw new Error("readUintBE: array is too short for the given bitLength"); for (var n = 0, i = 1, s = e / 8 + r - 1; s >= r; s--)n += t[s] * i, i *= 256; return n } function O(e, t, r) { if (void 0 === r && (r = 0), e % 8 !== 0) throw new Error("readUintLE supports only bitLengths divisible by 8"); if (e / 8 > t.length - r) throw new Error("readUintLE: array is too short for the given bitLength"); for (var n = 0, i = 1, s = r; s < r + e / 8; s++)n += t[s] * i, i *= 256; return n } function S(e, t, r, i) { if (void 0 === r && (r = new Uint8Array(e / 8)), void 0 === i && (i = 0), e % 8 !== 0) throw new Error("writeUintBE supports only bitLengths divisible by 8"); if (!n.isSafeInteger(t)) throw new Error("writeUintBE value must be an integer"); for (var s = 1, o = e / 8 + i - 1; o >= i; o--)r[o] = t / s & 255, s *= 256; return r } function I(e, t, r, i) { if (void 0 === r && (r = new Uint8Array(e / 8)), void 0 === i && (i = 0), e % 8 !== 0) throw new Error("writeUintLE supports only bitLengths divisible by 8"); if (!n.isSafeInteger(t)) throw new Error("writeUintLE value must be an integer"); for (var s = 1, o = i; o < i + e / 8; o++)r[o] = t / s & 255, s *= 256; return r } function j(e, t) { void 0 === t && (t = 0); var r = new DataView(e.buffer, e.byteOffset, e.byteLength); return r.getFloat32(t) } function P(e, t) { void 0 === t && (t = 0); var r = new DataView(e.buffer, e.byteOffset, e.byteLength); return r.getFloat32(t, !0) } function A(e, t) { void 0 === t && (t = 0); var r = new DataView(e.buffer, e.byteOffset, e.byteLength); return r.getFloat64(t) } function R(e, t) { void 0 === t && (t = 0); var r = new DataView(e.buffer, e.byteOffset, e.byteLength); return r.getFloat64(t, !0) } function x(e, t, r) { void 0 === t && (t = new Uint8Array(4)), void 0 === r && (r = 0); var n = new DataView(t.buffer, t.byteOffset, t.byteLength); return n.setFloat32(r, e), t } function N(e, t, r) { void 0 === t && (t = new Uint8Array(4)), void 0 === r && (r = 0); var n = new DataView(t.buffer, t.byteOffset, t.byteLength); return n.setFloat32(r, e, !0), t } function T(e, t, r) { void 0 === t && (t = new Uint8Array(8)), void 0 === r && (r = 0); var n = new DataView(t.buffer, t.byteOffset, t.byteLength); return n.setFloat64(r, e), t } function C(e, t, r) { void 0 === t && (t = new Uint8Array(8)), void 0 === r && (r = 0); var n = new DataView(t.buffer, t.byteOffset, t.byteLength); return n.setFloat64(r, e, !0), t } t.readInt16BE = i, t.readUint16BE = s, t.readInt16LE = o, t.readUint16LE = a, t.writeUint16BE = c, t.writeInt16BE = c, t.writeUint16LE = u, t.writeInt16LE = u, t.readInt32BE = h, t.readUint32BE = l, t.readInt32LE = f, t.readUint32LE = d, t.writeUint32BE = p, t.writeInt32BE = p, t.writeUint32LE = g, t.writeInt32LE = g, t.readInt64BE = b, t.readUint64BE = y, t.readInt64LE = v, t.readUint64LE = _, t.writeUint64BE = m, t.writeInt64BE = m, t.writeUint64LE = w, t.writeInt64LE = w, t.readUintBE = E, t.readUintLE = O, t.writeUintBE = S, t.writeUintLE = I, t.readFloat32BE = j, t.readFloat32LE = P, t.readFloat64BE = A, t.readFloat64LE = R, t.writeFloat32BE = x, t.writeFloat32LE = N, t.writeFloat64BE = T, t.writeFloat64LE = C }, "29f9": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dd7b"), i = r("ac1b"); const s = (e, t) => { const r = t.byteLength, n = i.encodingLength(e), s = n + i.encodingLength(r), o = new Uint8Array(s + r); return i.encodeTo(e, o, 0), i.encodeTo(r, o, n), o.set(t, s), new c(e, r, t, o) }, o = e => { const t = n.coerce(e), [r, s] = i.decode(t), [o, a] = i.decode(t.subarray(s)), u = t.subarray(s + a); if (u.byteLength !== o) throw new Error("Incorrect length"); return new c(r, o, u, t) }, a = (e, t) => e === t || e.code === t.code && e.size === t.size && n.equals(e.bytes, t.bytes); class c { constructor(e, t, r, n) { this.code = e, this.size = t, this.digest = r, this.bytes = n } } t.Digest = c, t.create = s, t.decode = o, t.equals = a }, "2a8a": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.convertSecretKeyToX25519 = t.convertPublicKeyToX25519 = t.verify = t.sign = t.extractPublicKeyFromSecretKey = t.generateKeyPair = t.generateKeyPairFromSeed = t.SEED_LENGTH = t.SECRET_KEY_LENGTH = t.PUBLIC_KEY_LENGTH = t.SIGNATURE_LENGTH = void 0; const n = r("e5f1"), i = r("c162"), s = r("ff6a"); function o(e) { const t = new Float64Array(16); if (e) for (let r = 0; r < e.length; r++)t[r] = e[r]; return t } t.SIGNATURE_LENGTH = 64, t.PUBLIC_KEY_LENGTH = 32, t.SECRET_KEY_LENGTH = 64, t.SEED_LENGTH = 32; const a = new Uint8Array(32); a[0] = 9; const c = o(), u = o([1]), h = o([30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585, 16505, 36039, 65139, 11119, 27886, 20995]), l = o([61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171, 33010, 6542, 64743, 22239, 55772, 9222]), f = o([54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412, 64982, 57905, 49316, 21502, 52590, 14035, 8553]), d = o([26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214]), p = o([41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867, 153, 11085, 57099, 20417, 9344, 11139]); function g(e, t) { for (let r = 0; r < 16; r++)e[r] = 0 | t[r] } function b(e) { let t = 1; for (let r = 0; r < 16; r++) { let n = e[r] + t + 65535; t = Math.floor(n / 65536), e[r] = n - 65536 * t } e[0] += t - 1 + 37 * (t - 1) } function y(e, t, r) { const n = ~(r - 1); for (let i = 0; i < 16; i++) { const r = n & (e[i] ^ t[i]); e[i] ^= r, t[i] ^= r } } function v(e, t) { const r = o(), n = o(); for (let i = 0; i < 16; i++)n[i] = t[i]; b(n), b(n), b(n); for (let i = 0; i < 2; i++) { r[0] = n[0] - 65517; for (let t = 1; t < 15; t++)r[t] = n[t] - 65535 - (r[t - 1] >> 16 & 1), r[t - 1] &= 65535; r[15] = n[15] - 32767 - (r[14] >> 16 & 1); const e = r[15] >> 16 & 1; r[14] &= 65535, y(n, r, 1 - e) } for (let i = 0; i < 16; i++)e[2 * i] = 255 & n[i], e[2 * i + 1] = n[i] >> 8 } function _(e, t) { let r = 0; for (let n = 0; n < 32; n++)r |= e[n] ^ t[n]; return (1 & r - 1 >>> 8) - 1 } function m(e, t) { const r = new Uint8Array(32), n = new Uint8Array(32); return v(r, e), v(n, t), _(r, n) } function w(e) { const t = new Uint8Array(32); return v(t, e), 1 & t[0] } function E(e, t) { for (let r = 0; r < 16; r++)e[r] = t[2 * r] + (t[2 * r + 1] << 8); e[15] &= 32767 } function O(e, t, r) { for (let n = 0; n < 16; n++)e[n] = t[n] + r[n] } function S(e, t, r) { for (let n = 0; n < 16; n++)e[n] = t[n] - r[n] } function I(e, t, r) { let n, i, s = 0, o = 0, a = 0, c = 0, u = 0, h = 0, l = 0, f = 0, d = 0, p = 0, g = 0, b = 0, y = 0, v = 0, _ = 0, m = 0, w = 0, E = 0, O = 0, S = 0, I = 0, j = 0, P = 0, A = 0, R = 0, x = 0, N = 0, T = 0, C = 0, U = 0, D = 0, L = r[0], M = r[1], k = r[2], z = r[3], B = r[4], H = r[5], q = r[6], V = r[7], K = r[8], F = r[9], $ = r[10], W = r[11], J = r[12], G = r[13], Y = r[14], X = r[15]; n = t[0], s += n * L, o += n * M, a += n * k, c += n * z, u += n * B, h += n * H, l += n * q, f += n * V, d += n * K, p += n * F, g += n * $, b += n * W, y += n * J, v += n * G, _ += n * Y, m += n * X, n = t[1], o += n * L, a += n * M, c += n * k, u += n * z, h += n * B, l += n * H, f += n * q, d += n * V, p += n * K, g += n * F, b += n * $, y += n * W, v += n * J, _ += n * G, m += n * Y, w += n * X, n = t[2], a += n * L, c += n * M, u += n * k, h += n * z, l += n * B, f += n * H, d += n * q, p += n * V, g += n * K, b += n * F, y += n * $, v += n * W, _ += n * J, m += n * G, w += n * Y, E += n * X, n = t[3], c += n * L, u += n * M, h += n * k, l += n * z, f += n * B, d += n * H, p += n * q, g += n * V, b += n * K, y += n * F, v += n * $, _ += n * W, m += n * J, w += n * G, E += n * Y, O += n * X, n = t[4], u += n * L, h += n * M, l += n * k, f += n * z, d += n * B, p += n * H, g += n * q, b += n * V, y += n * K, v += n * F, _ += n * $, m += n * W, w += n * J, E += n * G, O += n * Y, S += n * X, n = t[5], h += n * L, l += n * M, f += n * k, d += n * z, p += n * B, g += n * H, b += n * q, y += n * V, v += n * K, _ += n * F, m += n * $, w += n * W, E += n * J, O += n * G, S += n * Y, I += n * X, n = t[6], l += n * L, f += n * M, d += n * k, p += n * z, g += n * B, b += n * H, y += n * q, v += n * V, _ += n * K, m += n * F, w += n * $, E += n * W, O += n * J, S += n * G, I += n * Y, j += n * X, n = t[7], f += n * L, d += n * M, p += n * k, g += n * z, b += n * B, y += n * H, v += n * q, _ += n * V, m += n * K, w += n * F, E += n * $, O += n * W, S += n * J, I += n * G, j += n * Y, P += n * X, n = t[8], d += n * L, p += n * M, g += n * k, b += n * z, y += n * B, v += n * H, _ += n * q, m += n * V, w += n * K, E += n * F, O += n * $, S += n * W, I += n * J, j += n * G, P += n * Y, A += n * X, n = t[9], p += n * L, g += n * M, b += n * k, y += n * z, v += n * B, _ += n * H, m += n * q, w += n * V, E += n * K, O += n * F, S += n * $, I += n * W, j += n * J, P += n * G, A += n * Y, R += n * X, n = t[10], g += n * L, b += n * M, y += n * k, v += n * z, _ += n * B, m += n * H, w += n * q, E += n * V, O += n * K, S += n * F, I += n * $, j += n * W, P += n * J, A += n * G, R += n * Y, x += n * X, n = t[11], b += n * L, y += n * M, v += n * k, _ += n * z, m += n * B, w += n * H, E += n * q, O += n * V, S += n * K, I += n * F, j += n * $, P += n * W, A += n * J, R += n * G, x += n * Y, N += n * X, n = t[12], y += n * L, v += n * M, _ += n * k, m += n * z, w += n * B, E += n * H, O += n * q, S += n * V, I += n * K, j += n * F, P += n * $, A += n * W, R += n * J, x += n * G, N += n * Y, T += n * X, n = t[13], v += n * L, _ += n * M, m += n * k, w += n * z, E += n * B, O += n * H, S += n * q, I += n * V, j += n * K, P += n * F, A += n * $, R += n * W, x += n * J, N += n * G, T += n * Y, C += n * X, n = t[14], _ += n * L, m += n * M, w += n * k, E += n * z, O += n * B, S += n * H, I += n * q, j += n * V, P += n * K, A += n * F, R += n * $, x += n * W, N += n * J, T += n * G, C += n * Y, U += n * X, n = t[15], m += n * L, w += n * M, E += n * k, O += n * z, S += n * B, I += n * H, j += n * q, P += n * V, A += n * K, R += n * F, x += n * $, N += n * W, T += n * J, C += n * G, U += n * Y, D += n * X, s += 38 * w, o += 38 * E, a += 38 * O, c += 38 * S, u += 38 * I, h += 38 * j, l += 38 * P, f += 38 * A, d += 38 * R, p += 38 * x, g += 38 * N, b += 38 * T, y += 38 * C, v += 38 * U, _ += 38 * D, i = 1, n = s + i + 65535, i = Math.floor(n / 65536), s = n - 65536 * i, n = o + i + 65535, i = Math.floor(n / 65536), o = n - 65536 * i, n = a + i + 65535, i = Math.floor(n / 65536), a = n - 65536 * i, n = c + i + 65535, i = Math.floor(n / 65536), c = n - 65536 * i, n = u + i + 65535, i = Math.floor(n / 65536), u = n - 65536 * i, n = h + i + 65535, i = Math.floor(n / 65536), h = n - 65536 * i, n = l + i + 65535, i = Math.floor(n / 65536), l = n - 65536 * i, n = f + i + 65535, i = Math.floor(n / 65536), f = n - 65536 * i, n = d + i + 65535, i = Math.floor(n / 65536), d = n - 65536 * i, n = p + i + 65535, i = Math.floor(n / 65536), p = n - 65536 * i, n = g + i + 65535, i = Math.floor(n / 65536), g = n - 65536 * i, n = b + i + 65535, i = Math.floor(n / 65536), b = n - 65536 * i, n = y + i + 65535, i = Math.floor(n / 65536), y = n - 65536 * i, n = v + i + 65535, i = Math.floor(n / 65536), v = n - 65536 * i, n = _ + i + 65535, i = Math.floor(n / 65536), _ = n - 65536 * i, n = m + i + 65535, i = Math.floor(n / 65536), m = n - 65536 * i, s += i - 1 + 37 * (i - 1), i = 1, n = s + i + 65535, i = Math.floor(n / 65536), s = n - 65536 * i, n = o + i + 65535, i = Math.floor(n / 65536), o = n - 65536 * i, n = a + i + 65535, i = Math.floor(n / 65536), a = n - 65536 * i, n = c + i + 65535, i = Math.floor(n / 65536), c = n - 65536 * i, n = u + i + 65535, i = Math.floor(n / 65536), u = n - 65536 * i, n = h + i + 65535, i = Math.floor(n / 65536), h = n - 65536 * i, n = l + i + 65535, i = Math.floor(n / 65536), l = n - 65536 * i, n = f + i + 65535, i = Math.floor(n / 65536), f = n - 65536 * i, n = d + i + 65535, i = Math.floor(n / 65536), d = n - 65536 * i, n = p + i + 65535, i = Math.floor(n / 65536), p = n - 65536 * i, n = g + i + 65535, i = Math.floor(n / 65536), g = n - 65536 * i, n = b + i + 65535, i = Math.floor(n / 65536), b = n - 65536 * i, n = y + i + 65535, i = Math.floor(n / 65536), y = n - 65536 * i, n = v + i + 65535, i = Math.floor(n / 65536), v = n - 65536 * i, n = _ + i + 65535, i = Math.floor(n / 65536), _ = n - 65536 * i, n = m + i + 65535, i = Math.floor(n / 65536), m = n - 65536 * i, s += i - 1 + 37 * (i - 1), e[0] = s, e[1] = o, e[2] = a, e[3] = c, e[4] = u, e[5] = h, e[6] = l, e[7] = f, e[8] = d, e[9] = p, e[10] = g, e[11] = b, e[12] = y, e[13] = v, e[14] = _, e[15] = m } function j(e, t) { I(e, t, t) } function P(e, t) { const r = o(); let n; for (n = 0; n < 16; n++)r[n] = t[n]; for (n = 253; n >= 0; n--)j(r, r), 2 !== n && 4 !== n && I(r, r, t); for (n = 0; n < 16; n++)e[n] = r[n] } function A(e, t) { const r = o(); let n; for (n = 0; n < 16; n++)r[n] = t[n]; for (n = 250; n >= 0; n--)j(r, r), 1 !== n && I(r, r, t); for (n = 0; n < 16; n++)e[n] = r[n] } function R(e, t) { const r = o(), n = o(), i = o(), s = o(), a = o(), c = o(), u = o(), h = o(), f = o(); S(r, e[1], e[0]), S(f, t[1], t[0]), I(r, r, f), O(n, e[0], e[1]), O(f, t[0], t[1]), I(n, n, f), I(i, e[3], t[3]), I(i, i, l), I(s, e[2], t[2]), O(s, s, s), S(a, n, r), S(c, s, i), O(u, s, i), O(h, n, r), I(e[0], a, c), I(e[1], h, u), I(e[2], u, c), I(e[3], a, h) } function x(e, t, r) { for (let n = 0; n < 4; n++)y(e[n], t[n], r) } function N(e, t) { const r = o(), n = o(), i = o(); P(i, t[2]), I(r, t[0], i), I(n, t[1], i), v(e, n), e[31] ^= w(r) << 7 } function T(e, t, r) { g(e[0], c), g(e[1], u), g(e[2], u), g(e[3], c); for (let n = 255; n >= 0; --n) { const i = r[n / 8 | 0] >> (7 & n) & 1; x(e, t, i), R(t, e), R(e, e), x(e, t, i) } } function C(e, t) { const r = [o(), o(), o(), o()]; g(r[0], f), g(r[1], d), g(r[2], u), I(r[3], f, d), T(e, r, t) } function U(e) { if (e.length !== t.SEED_LENGTH) throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`); const r = (0, i.hash)(e); r[0] &= 248, r[31] &= 127, r[31] |= 64; const n = new Uint8Array(32), s = [o(), o(), o(), o()]; C(s, r), N(n, s); const a = new Uint8Array(64); return a.set(e), a.set(n, 32), { publicKey: n, secretKey: a } } function D(e) { const t = (0, n.randomBytes)(32, e), r = U(t); return (0, s.wipe)(t), r } function L(e) { if (e.length !== t.SECRET_KEY_LENGTH) throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`); return new Uint8Array(e.subarray(32)) } t.generateKeyPairFromSeed = U, t.generateKeyPair = D, t.extractPublicKeyFromSecretKey = L; const M = new Float64Array([237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16]); function k(e, t) { let r, n, i, s; for (n = 63; n >= 32; --n) { for (r = 0, i = n - 32, s = n - 12; i < s; ++i)t[i] += r - 16 * t[n] * M[i - (n - 32)], r = Math.floor((t[i] + 128) / 256), t[i] -= 256 * r; t[i] += r, t[n] = 0 } for (r = 0, i = 0; i < 32; i++)t[i] += r - (t[31] >> 4) * M[i], r = t[i] >> 8, t[i] &= 255; for (i = 0; i < 32; i++)t[i] -= r * M[i]; for (n = 0; n < 32; n++)t[n + 1] += t[n] >> 8, e[n] = 255 & t[n] } function z(e) { const t = new Float64Array(64); for (let r = 0; r < 64; r++)t[r] = e[r]; for (let r = 0; r < 64; r++)e[r] = 0; k(e, t) } function B(e, t) { const r = new Float64Array(64), n = [o(), o(), o(), o()], s = (0, i.hash)(e.subarray(0, 32)); s[0] &= 248, s[31] &= 127, s[31] |= 64; const a = new Uint8Array(64); a.set(s.subarray(32), 32); const c = new i.SHA512; c.update(a.subarray(32)), c.update(t); const u = c.digest(); c.clean(), z(u), C(n, u), N(a, n), c.reset(), c.update(a.subarray(0, 32)), c.update(e.subarray(32)), c.update(t); const h = c.digest(); z(h); for (let i = 0; i < 32; i++)r[i] = u[i]; for (let i = 0; i < 32; i++)for (let e = 0; e < 32; e++)r[i + e] += h[i] * s[e]; return k(a.subarray(32), r), a } function H(e, t) { const r = o(), n = o(), i = o(), s = o(), a = o(), l = o(), f = o(); return g(e[2], u), E(e[1], t), j(i, e[1]), I(s, i, h), S(i, i, e[2]), O(s, e[2], s), j(a, s), j(l, a), I(f, l, a), I(r, f, i), I(r, r, s), A(r, r), I(r, r, i), I(r, r, s), I(r, r, s), I(e[0], r, s), j(n, e[0]), I(n, n, s), m(n, i) && I(e[0], e[0], p), j(n, e[0]), I(n, n, s), m(n, i) ? -1 : (w(e[0]) === t[31] >> 7 && S(e[0], c, e[0]), I(e[3], e[0], e[1]), 0) } function q(e, r, n) { const s = new Uint8Array(32), a = [o(), o(), o(), o()], c = [o(), o(), o(), o()]; if (n.length !== t.SIGNATURE_LENGTH) throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`); if (H(c, e)) return !1; const u = new i.SHA512; u.update(n.subarray(0, 32)), u.update(e), u.update(r); const h = u.digest(); return z(h), T(a, c, h), C(c, n.subarray(32)), R(a, c), N(s, a), !_(n, s) } function V(e) { let t = [o(), o(), o(), o()]; if (H(t, e)) throw new Error("Ed25519: invalid public key"); let r = o(), n = o(), i = t[1]; O(r, u, i), S(n, u, i), P(n, n), I(r, r, n); let s = new Uint8Array(32); return v(s, r), s } function K(e) { const t = (0, i.hash)(e.subarray(0, 32)); t[0] &= 248, t[31] &= 127, t[31] |= 64; const r = new Uint8Array(t.subarray(0, 32)); return (0, s.wipe)(t), r } t.sign = B, t.verify = q, t.convertPublicKeyToX25519 = V, t.convertSecretKeyToX25519 = K }, "2b7d": function (e, t, r) { "use strict"; function n(e) { return new Promise(t => { setTimeout(() => { t(!0) }, e) }) } Object.defineProperty(t, "__esModule", { value: !0 }), t.delay = void 0, t.delay = n }, 3174: function (e, t, r) { "use strict"; (function (t) { (function () { let r; function n() { } r = n, r.prototype.getItem = function (e) { return this.hasOwnProperty(e) ? String(this[e]) : null }, r.prototype.setItem = function (e, t) { this[e] = String(t) }, r.prototype.removeItem = function (e) { delete this[e] }, r.prototype.clear = function () { const e = this; Object.keys(e).forEach((function (t) { e[t] = void 0, delete e[t] })) }, r.prototype.key = function (e) { return e = e || 0, Object.keys(this)[e] }, r.prototype.__defineGetter__("length", (function () { return Object.keys(this).length })), "undefined" !== typeof t && t.localStorage ? e.exports = t.localStorage : "undefined" !== typeof window && window.localStorage ? e.exports = window.localStorage : e.exports = new n })() }).call(this, r("c8ba")) }, "33d1": function (e, t, r) { "use strict"; var n = r("23e7"), i = r("7b0b"), s = r("07fa"), o = r("5926"), a = r("44d2"); n({ target: "Array", proto: !0 }, { at: function (e) { var t = i(this), r = s(t), n = o(e), a = n >= 0 ? n : r + n; return a < 0 || a >= r ? void 0 : t[a] } }), a("at") }, 3583: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("290c"), i = r("ff6a"), s = 20; function o(e, t, r) { for (var i = 1634760805, o = 857760878, a = 2036477234, c = 1797285236, u = r[3] << 24 | r[2] << 16 | r[1] << 8 | r[0], h = r[7] << 24 | r[6] << 16 | r[5] << 8 | r[4], l = r[11] << 24 | r[10] << 16 | r[9] << 8 | r[8], f = r[15] << 24 | r[14] << 16 | r[13] << 8 | r[12], d = r[19] << 24 | r[18] << 16 | r[17] << 8 | r[16], p = r[23] << 24 | r[22] << 16 | r[21] << 8 | r[20], g = r[27] << 24 | r[26] << 16 | r[25] << 8 | r[24], b = r[31] << 24 | r[30] << 16 | r[29] << 8 | r[28], y = t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0], v = t[7] << 24 | t[6] << 16 | t[5] << 8 | t[4], _ = t[11] << 24 | t[10] << 16 | t[9] << 8 | t[8], m = t[15] << 24 | t[14] << 16 | t[13] << 8 | t[12], w = i, E = o, O = a, S = c, I = u, j = h, P = l, A = f, R = d, x = p, N = g, T = b, C = y, U = v, D = _, L = m, M = 0; M < s; M += 2)w = w + I | 0, C ^= w, C = C >>> 16 | C << 16, R = R + C | 0, I ^= R, I = I >>> 20 | I << 12, E = E + j | 0, U ^= E, U = U >>> 16 | U << 16, x = x + U | 0, j ^= x, j = j >>> 20 | j << 12, O = O + P | 0, D ^= O, D = D >>> 16 | D << 16, N = N + D | 0, P ^= N, P = P >>> 20 | P << 12, S = S + A | 0, L ^= S, L = L >>> 16 | L << 16, T = T + L | 0, A ^= T, A = A >>> 20 | A << 12, O = O + P | 0, D ^= O, D = D >>> 24 | D << 8, N = N + D | 0, P ^= N, P = P >>> 25 | P << 7, S = S + A | 0, L ^= S, L = L >>> 24 | L << 8, T = T + L | 0, A ^= T, A = A >>> 25 | A << 7, E = E + j | 0, U ^= E, U = U >>> 24 | U << 8, x = x + U | 0, j ^= x, j = j >>> 25 | j << 7, w = w + I | 0, C ^= w, C = C >>> 24 | C << 8, R = R + C | 0, I ^= R, I = I >>> 25 | I << 7, w = w + j | 0, L ^= w, L = L >>> 16 | L << 16, N = N + L | 0, j ^= N, j = j >>> 20 | j << 12, E = E + P | 0, C ^= E, C = C >>> 16 | C << 16, T = T + C | 0, P ^= T, P = P >>> 20 | P << 12, O = O + A | 0, U ^= O, U = U >>> 16 | U << 16, R = R + U | 0, A ^= R, A = A >>> 20 | A << 12, S = S + I | 0, D ^= S, D = D >>> 16 | D << 16, x = x + D | 0, I ^= x, I = I >>> 20 | I << 12, O = O + A | 0, U ^= O, U = U >>> 24 | U << 8, R = R + U | 0, A ^= R, A = A >>> 25 | A << 7, S = S + I | 0, D ^= S, D = D >>> 24 | D << 8, x = x + D | 0, I ^= x, I = I >>> 25 | I << 7, E = E + P | 0, C ^= E, C = C >>> 24 | C << 8, T = T + C | 0, P ^= T, P = P >>> 25 | P << 7, w = w + j | 0, L ^= w, L = L >>> 24 | L << 8, N = N + L | 0, j ^= N, j = j >>> 25 | j << 7; n.writeUint32LE(w + i | 0, e, 0), n.writeUint32LE(E + o | 0, e, 4), n.writeUint32LE(O + a | 0, e, 8), n.writeUint32LE(S + c | 0, e, 12), n.writeUint32LE(I + u | 0, e, 16), n.writeUint32LE(j + h | 0, e, 20), n.writeUint32LE(P + l | 0, e, 24), n.writeUint32LE(A + f | 0, e, 28), n.writeUint32LE(R + d | 0, e, 32), n.writeUint32LE(x + p | 0, e, 36), n.writeUint32LE(N + g | 0, e, 40), n.writeUint32LE(T + b | 0, e, 44), n.writeUint32LE(C + y | 0, e, 48), n.writeUint32LE(U + v | 0, e, 52), n.writeUint32LE(D + _ | 0, e, 56), n.writeUint32LE(L + m | 0, e, 60) } function a(e, t, r, n, s) { if (void 0 === s && (s = 0), 32 !== e.length) throw new Error("ChaCha: key size must be 32 bytes"); if (n.length < r.length) throw new Error("ChaCha: destination is shorter than source"); var a, c; if (0 === s) { if (8 !== t.length && 12 !== t.length) throw new Error("ChaCha nonce must be 8 or 12 bytes"); a = new Uint8Array(16), c = a.length - t.length, a.set(t, c) } else { if (16 !== t.length) throw new Error("ChaCha nonce with counter must be 16 bytes"); a = t, c = s } for (var h = new Uint8Array(64), l = 0; l < r.length; l += 64) { o(h, a, e); for (var f = l; f < l + 64 && f < r.length; f++)n[f] = r[f] ^ h[f - l]; u(a, 0, c) } return i.wipe(h), 0 === s && i.wipe(a), n } function c(e, t, r, n) { return void 0 === n && (n = 0), i.wipe(r), a(e, t, r, r, n) } function u(e, t, r) { var n = 1; while (r--) n = n + (255 & e[t]) | 0, e[t] = 255 & n, n >>>= 8, t++; if (n > 0) throw new Error("ChaCha: counter overflow") } t.streamXOR = a, t.stream = c }, "37e8": function (e, t, r) { var n = r("83ab"), i = r("aed9"), s = r("9bf2"), o = r("825a"), a = r("fc6a"), c = r("df75"); t.f = n && !i ? Object.defineProperties : function (e, t) { o(e); var r, n = a(t), i = c(t), u = i.length, h = 0; while (u > h) s.f(e, r = i[h++], n[r]); return e } }, "3b5a": function (e, t, r) { "use strict"; r.d(t, "a", (function () { return c })), r.d(t, "b", (function () { return u })); r("d9e2"); var n = r("2a8a"), i = r("e5f1"), s = r("a383"), o = r("3d45"), a = r("ef2c"); function c(e = Object(i["randomBytes"])(o["j"])) { return n["generateKeyPairFromSeed"](e) } async function u(e, t, r, i, c = Object(s["fromMiliseconds"])(Date.now())) { const u = { alg: o["h"], typ: o["i"] }, h = Object(a["d"])(i.publicKey), l = c + r, f = { iss: h, sub: e, aud: t, iat: c, exp: l }, d = Object(a["c"])({ header: u, payload: f }), p = n["sign"](i.secretKey, d); return Object(a["e"])({ header: u, payload: f, signature: p }) } }, "3c5d": function (e, t, r) { "use strict"; var n = r("da84"), i = r("c65b"), s = r("ebb5"), o = r("07fa"), a = r("182d"), c = r("7b0b"), u = r("d039"), h = n.RangeError, l = n.Int8Array, f = l && l.prototype, d = f && f.set, p = s.aTypedArray, g = s.exportTypedArrayMethod, b = !u((function () { var e = new Uint8ClampedArray(2); return i(d, e, { length: 1, 0: 3 }, 1), 3 !== e[1] })), y = b && s.NATIVE_ARRAY_BUFFER_VIEWS && u((function () { var e = new l(2); return e.set(1), e.set("2", 1), 0 !== e[0] || 2 !== e[1] })); g("set", (function (e) { p(this); var t = a(arguments.length > 1 ? arguments[1] : void 0, 1), r = c(e); if (b) return i(d, this, r, t); var n = this.length, s = o(r), u = 0; if (s + t > n) throw h("Wrong length"); while (u < s) this[t + u] = r[u++] }), !b || y) }, "3d1f": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = r("9ab4"); n.__exportStar(r("27b4"), t), n.__exportStar(r("b32a"), t), n.__exportStar(r("abb6"), t) }, "3d45": function (e, t, r) { "use strict"; r.d(t, "h", (function () { return n })), r.d(t, "i", (function () { return i })), r.d(t, "f", (function () { return s })), r.d(t, "g", (function () { return o })), r.d(t, "e", (function () { return a })), r.d(t, "a", (function () { return c })), r.d(t, "b", (function () { return u })), r.d(t, "d", (function () { return h })), r.d(t, "c", (function () { return l })), r.d(t, "l", (function () { return f })), r.d(t, "k", (function () { return d })), r.d(t, "m", (function () { return p })), r.d(t, "n", (function () { return g })), r.d(t, "j", (function () { return b })); const n = "EdDSA", i = "JWT", s = ".", o = "base64url", a = "utf8", c = "utf8", u = ":", h = "did", l = "key", f = "base58btc", d = "z", p = "K36", g = 32, b = 32 }, "3d5f": function (e, t, r) { "use strict"; function n(e) { try { return JSON.stringify(e) } catch (t) { return '"[Circular]"' } } function i(e, t, r) { var i = r && r.stringify || n, s = 1; if ("object" === typeof e && null !== e) { var o = t.length + s; if (1 === o) return e; var a = new Array(o); a[0] = i(e); for (var c = 1; c < o; c++)a[c] = i(t[c]); return a.join(" ") } if ("string" !== typeof e) return e; var u = t.length; if (0 === u) return e; for (var h = "", l = 1 - s, f = -1, d = e && e.length || 0, p = 0; p < d;) { if (37 === e.charCodeAt(p) && p + 1 < d) { switch (f = f > -1 ? f : 0, e.charCodeAt(p + 1)) { case 100: case 102: if (l >= u) break; if (null == t[l]) break; f < p && (h += e.slice(f, p)), h += Number(t[l]), f = p + 2, p++; break; case 105: if (l >= u) break; if (null == t[l]) break; f < p && (h += e.slice(f, p)), h += Math.floor(Number(t[l])), f = p + 2, p++; break; case 79: case 111: case 106: if (l >= u) break; if (void 0 === t[l]) break; f < p && (h += e.slice(f, p)); var g = typeof t[l]; if ("string" === g) { h += "'" + t[l] + "'", f = p + 2, p++; break } if ("function" === g) { h += t[l].name || "<anonymous>", f = p + 2, p++; break } h += i(t[l]), f = p + 2, p++; break; case 115: if (l >= u) break; f < p && (h += e.slice(f, p)), h += String(t[l]), f = p + 2, p++; break; case 37: f < p && (h += e.slice(f, p)), h += "%", f = p + 2, p++, l--; break }++l } ++p } return -1 === f ? e : (f < d && (h += e.slice(f)), h) } e.exports = i }, "3e67": function (e, t, r) { "use strict"; e.exports = e => encodeURIComponent(e).replace(/[!'()*]/g, e => "%" + e.charCodeAt(0).toString(16).toUpperCase()) }, "3fa3": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.ONE_THOUSAND = t.ONE_HUNDRED = void 0, t.ONE_HUNDRED = 100, t.ONE_THOUSAND = 1e3 }, "40bb": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.PINO_CUSTOM_CONTEXT_KEY = t.PINO_LOGGER_DEFAULTS = void 0, t.PINO_LOGGER_DEFAULTS = { level: "info" }, t.PINO_CUSTOM_CONTEXT_KEY = "custom_context" }, "40e5": function (e, t, r) { "use strict"; r("14d9"), Object.defineProperty(t, "__esModule", { value: !0 }), t.getWindowMetadata = void 0; const n = r("aae3"); function i() { let e, t; try { e = n.getDocumentOrThrow(), t = n.getLocationOrThrow() } catch (f) { return null } function r() { const r = e.getElementsByTagName("link"), n = []; for (let e = 0; e < r.length; e++) { const i = r[e], s = i.getAttribute("rel"); if (s && s.toLowerCase().indexOf("icon") > -1) { const e = i.getAttribute("href"); if (e) if (-1 === e.toLowerCase().indexOf("https:") && -1 === e.toLowerCase().indexOf("http:") && 0 !== e.indexOf("//")) { let r = t.protocol + "//" + t.host; if (0 === e.indexOf("/")) r += e; else { const n = t.pathname.split("/"); n.pop(); const i = n.join("/"); r += i + "/" + e } n.push(r) } else if (0 === e.indexOf("//")) { const r = t.protocol + e; n.push(r) } else n.push(e) } } return n } function i(...t) { const r = e.getElementsByTagName("meta"); for (let e = 0; e < r.length; e++) { const n = r[e], i = ["itemprop", "property", "name"].map(e => n.getAttribute(e)).filter(e => !!e && t.includes(e)); if (i.length && i) { const e = n.getAttribute("content"); if (e) return e } } return "" } function s() { let t = i("name", "og:site_name", "og:title", "twitter:title"); return t || (t = e.title), t } function o() { const e = i("description", "og:description", "twitter:description", "keywords"); return e } const a = s(), c = o(), u = t.origin, h = r(), l = { description: c, url: u, icons: h, name: a }; return l } t.getWindowMetadata = i }, "44d2": function (e, t, r) { var n = r("b622"), i = r("7c73"), s = r("9bf2").f, o = n("unscopables"), a = Array.prototype; void 0 == a[o] && s(a, o, { configurable: !0, value: i(null) }), e.exports = function (e) { a[o][e] = !0 } }, "477e": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("7dcf"), i = r("47c4"), s = r("ff6a"), o = function () { function e(e, t) { this._finished = !1, this._inner = new e, this._outer = new e, this.blockSize = this._outer.blockSize, this.digestLength = this._outer.digestLength; var r = new Uint8Array(this.blockSize); t.length > this.blockSize ? this._inner.update(t).finish(r).clean() : r.set(t); for (var i = 0; i < r.length; i++)r[i] ^= 54; this._inner.update(r); for (i = 0; i < r.length; i++)r[i] ^= 106; this._outer.update(r), n.isSerializableHash(this._inner) && n.isSerializableHash(this._outer) && (this._innerKeyedState = this._inner.saveState(), this._outerKeyedState = this._outer.saveState()), s.wipe(r) } return e.prototype.reset = function () { if (!n.isSerializableHash(this._inner) || !n.isSerializableHash(this._outer)) throw new Error("hmac: can't reset() because hash doesn't implement restoreState()"); return this._inner.restoreState(this._innerKeyedState), this._outer.restoreState(this._outerKeyedState), this._finished = !1, this }, e.prototype.clean = function () { n.isSerializableHash(this._inner) && this._inner.cleanSavedState(this._innerKeyedState), n.isSerializableHash(this._outer) && this._outer.cleanSavedState(this._outerKeyedState), this._inner.clean(), this._outer.clean() }, e.prototype.update = function (e) { return this._inner.update(e), this }, e.prototype.finish = function (e) { return this._finished ? (this._outer.finish(e), this) : (this._inner.finish(e), this._outer.update(e.subarray(0, this.digestLength)).finish(e), this._finished = !0, this) }, e.prototype.digest = function () { var e = new Uint8Array(this.digestLength); return this.finish(e), e }, e.prototype.saveState = function () { if (!n.isSerializableHash(this._inner)) throw new Error("hmac: can't saveState() because hash doesn't implement it"); return this._inner.saveState() }, e.prototype.restoreState = function (e) { if (!n.isSerializableHash(this._inner) || !n.isSerializableHash(this._outer)) throw new Error("hmac: can't restoreState() because hash doesn't implement it"); return this._inner.restoreState(e), this._outer.restoreState(this._outerKeyedState), this._finished = !1, this }, e.prototype.cleanSavedState = function (e) { if (!n.isSerializableHash(this._inner)) throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it"); this._inner.cleanSavedState(e) }, e }(); function a(e, t, r) { var n = new o(e, t); n.update(r); var i = n.digest(); return n.clean(), i } t.HMAC = o, t.hmac = a, t.equal = i.equal }, 4797: function (e, t, r) { "use strict"; var n = r("bdea"); r.o(n, "IJsonRpcProvider") && r.d(t, "IJsonRpcProvider", (function () { return n["IJsonRpcProvider"] })), r.o(n, "formatJsonRpcError") && r.d(t, "formatJsonRpcError", (function () { return n["formatJsonRpcError"] })), r.o(n, "formatJsonRpcRequest") && r.d(t, "formatJsonRpcRequest", (function () { return n["formatJsonRpcRequest"] })), r.o(n, "formatJsonRpcResult") && r.d(t, "formatJsonRpcResult", (function () { return n["formatJsonRpcResult"] })), r.o(n, "getBigIntRpcId") && r.d(t, "getBigIntRpcId", (function () { return n["getBigIntRpcId"] })), r.o(n, "isHttpUrl") && r.d(t, "isHttpUrl", (function () { return n["isHttpUrl"] })), r.o(n, "isJsonRpcError") && r.d(t, "isJsonRpcError", (function () { return n["isJsonRpcError"] })), r.o(n, "isJsonRpcRequest") && r.d(t, "isJsonRpcRequest", (function () { return n["isJsonRpcRequest"] })), r.o(n, "isJsonRpcResponse") && r.d(t, "isJsonRpcResponse", (function () { return n["isJsonRpcResponse"] })), r.o(n, "isJsonRpcResult") && r.d(t, "isJsonRpcResult", (function () { return n["isJsonRpcResult"] })), r.o(n, "isLocalhostUrl") && r.d(t, "isLocalhostUrl", (function () { return n["isLocalhostUrl"] })), r.o(n, "isReactNative") && r.d(t, "isReactNative", (function () { return n["isReactNative"] })), r.o(n, "isWsUrl") && r.d(t, "isWsUrl", (function () { return n["isWsUrl"] })); n["isNode"] }, "47c4": function (e, t, r) { "use strict"; function n(e, t, r) { return ~(e - 1) & t | e - 1 & r } function i(e, t) { return (0 | e) - (0 | t) - 1 >>> 31 & 1 } function s(e, t) { if (e.length !== t.length) return 0; for (var r = 0, n = 0; n < e.length; n++)r |= e[n] ^ t[n]; return 1 & r - 1 >>> 8 } function o(e, t) { return 0 !== e.length && 0 !== t.length && 0 !== s(e, t) } Object.defineProperty(t, "__esModule", { value: !0 }), t.select = n, t.lessOrEqual = i, t.compare = s, t.equal = o }, "4b11": function (e, t) { e.exports = "undefined" != typeof ArrayBuffer && "undefined" != typeof DataView }, "4ea1": function (e, t, r) { "use strict"; var n = r("d429"), i = r("ebb5"), s = r("bcbf"), o = r("5926"), a = r("f495"), c = i.aTypedArray, u = i.getTypedArrayConstructor, h = i.exportTypedArrayMethod, l = !!function () { try { new Int8Array(1)["with"](2, { valueOf: function () { throw 8 } }) } catch (e) { return 8 === e } }(); h("with", { with: function (e, t) { var r = c(this), i = o(e), h = s(r) ? a(t) : +t; return n(r, u(r), i, h) } }["with"], !l) }, "4f40": function (e, t, r) { "use strict"; var n = r("6d20"); r.o(n, "RELAY_JSONRPC") && r.d(t, "RELAY_JSONRPC", (function () { return n["RELAY_JSONRPC"] })); r("b754"); var i = r("9268"); r.d(t, "RELAY_JSONRPC", (function () { return i["a"] })); r("6fbc") }, "510bc": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"); const i = n.baseX({ prefix: "k", name: "base36", alphabet: "0123456789abcdefghijklmnopqrstuvwxyz" }), s = n.baseX({ prefix: "K", name: "base36upper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ" }); t.base36 = i, t.base36upper = s }, 5494: function (e, t, r) { "use strict"; var n = r("83ab"), i = r("e330"), s = r("edd0"), o = URLSearchParams.prototype, a = i(o.forEach); n && !("size" in o) && s(o, "size", { get: function () { var e = 0; return a(this, (function () { e++ })), e }, configurable: !0, enumerable: !0 }) }, "55a8": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.IWatch = void 0; class n { } t.IWatch = n }, 5621: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("47c4"), i = r("ff6a"); t.DIGEST_LENGTH = 16; var s = function () { function e(e) { this.digestLength = t.DIGEST_LENGTH, this._buffer = new Uint8Array(16), this._r = new Uint16Array(10), this._h = new Uint16Array(10), this._pad = new Uint16Array(8), this._leftover = 0, this._fin = 0, this._finished = !1; var r = e[0] | e[1] << 8; this._r[0] = 8191 & r; var n = e[2] | e[3] << 8; this._r[1] = 8191 & (r >>> 13 | n << 3); var i = e[4] | e[5] << 8; this._r[2] = 7939 & (n >>> 10 | i << 6); var s = e[6] | e[7] << 8; this._r[3] = 8191 & (i >>> 7 | s << 9); var o = e[8] | e[9] << 8; this._r[4] = 255 & (s >>> 4 | o << 12), this._r[5] = o >>> 1 & 8190; var a = e[10] | e[11] << 8; this._r[6] = 8191 & (o >>> 14 | a << 2); var c = e[12] | e[13] << 8; this._r[7] = 8065 & (a >>> 11 | c << 5); var u = e[14] | e[15] << 8; this._r[8] = 8191 & (c >>> 8 | u << 8), this._r[9] = u >>> 5 & 127, this._pad[0] = e[16] | e[17] << 8, this._pad[1] = e[18] | e[19] << 8, this._pad[2] = e[20] | e[21] << 8, this._pad[3] = e[22] | e[23] << 8, this._pad[4] = e[24] | e[25] << 8, this._pad[5] = e[26] | e[27] << 8, this._pad[6] = e[28] | e[29] << 8, this._pad[7] = e[30] | e[31] << 8 } return e.prototype._blocks = function (e, t, r) { var n = this._fin ? 0 : 2048, i = this._h[0], s = this._h[1], o = this._h[2], a = this._h[3], c = this._h[4], u = this._h[5], h = this._h[6], l = this._h[7], f = this._h[8], d = this._h[9], p = this._r[0], g = this._r[1], b = this._r[2], y = this._r[3], v = this._r[4], _ = this._r[5], m = this._r[6], w = this._r[7], E = this._r[8], O = this._r[9]; while (r >= 16) { var S = e[t + 0] | e[t + 1] << 8; i += 8191 & S; var I = e[t + 2] | e[t + 3] << 8; s += 8191 & (S >>> 13 | I << 3); var j = e[t + 4] | e[t + 5] << 8; o += 8191 & (I >>> 10 | j << 6); var P = e[t + 6] | e[t + 7] << 8; a += 8191 & (j >>> 7 | P << 9); var A = e[t + 8] | e[t + 9] << 8; c += 8191 & (P >>> 4 | A << 12), u += A >>> 1 & 8191; var R = e[t + 10] | e[t + 11] << 8; h += 8191 & (A >>> 14 | R << 2); var x = e[t + 12] | e[t + 13] << 8; l += 8191 & (R >>> 11 | x << 5); var N = e[t + 14] | e[t + 15] << 8; f += 8191 & (x >>> 8 | N << 8), d += N >>> 5 | n; var T = 0, C = T; C += i * p, C += s * (5 * O), C += o * (5 * E), C += a * (5 * w), C += c * (5 * m), T = C >>> 13, C &= 8191, C += u * (5 * _), C += h * (5 * v), C += l * (5 * y), C += f * (5 * b), C += d * (5 * g), T += C >>> 13, C &= 8191; var U = T; U += i * g, U += s * p, U += o * (5 * O), U += a * (5 * E), U += c * (5 * w), T = U >>> 13, U &= 8191, U += u * (5 * m), U += h * (5 * _), U += l * (5 * v), U += f * (5 * y), U += d * (5 * b), T += U >>> 13, U &= 8191; var D = T; D += i * b, D += s * g, D += o * p, D += a * (5 * O), D += c * (5 * E), T = D >>> 13, D &= 8191, D += u * (5 * w), D += h * (5 * m), D += l * (5 * _), D += f * (5 * v), D += d * (5 * y), T += D >>> 13, D &= 8191; var L = T; L += i * y, L += s * b, L += o * g, L += a * p, L += c * (5 * O), T = L >>> 13, L &= 8191, L += u * (5 * E), L += h * (5 * w), L += l * (5 * m), L += f * (5 * _), L += d * (5 * v), T += L >>> 13, L &= 8191; var M = T; M += i * v, M += s * y, M += o * b, M += a * g, M += c * p, T = M >>> 13, M &= 8191, M += u * (5 * O), M += h * (5 * E), M += l * (5 * w), M += f * (5 * m), M += d * (5 * _), T += M >>> 13, M &= 8191; var k = T; k += i * _, k += s * v, k += o * y, k += a * b, k += c * g, T = k >>> 13, k &= 8191, k += u * p, k += h * (5 * O), k += l * (5 * E), k += f * (5 * w), k += d * (5 * m), T += k >>> 13, k &= 8191; var z = T; z += i * m, z += s * _, z += o * v, z += a * y, z += c * b, T = z >>> 13, z &= 8191, z += u * g, z += h * p, z += l * (5 * O), z += f * (5 * E), z += d * (5 * w), T += z >>> 13, z &= 8191; var B = T; B += i * w, B += s * m, B += o * _, B += a * v, B += c * y, T = B >>> 13, B &= 8191, B += u * b, B += h * g, B += l * p, B += f * (5 * O), B += d * (5 * E), T += B >>> 13, B &= 8191; var H = T; H += i * E, H += s * w, H += o * m, H += a * _, H += c * v, T = H >>> 13, H &= 8191, H += u * y, H += h * b, H += l * g, H += f * p, H += d * (5 * O), T += H >>> 13, H &= 8191; var q = T; q += i * O, q += s * E, q += o * w, q += a * m, q += c * _, T = q >>> 13, q &= 8191, q += u * v, q += h * y, q += l * b, q += f * g, q += d * p, T += q >>> 13, q &= 8191, T = (T << 2) + T | 0, T = T + C | 0, C = 8191 & T, T >>>= 13, U += T, i = C, s = U, o = D, a = L, c = M, u = k, h = z, l = B, f = H, d = q, t += 16, r -= 16 } this._h[0] = i, this._h[1] = s, this._h[2] = o, this._h[3] = a, this._h[4] = c, this._h[5] = u, this._h[6] = h, this._h[7] = l, this._h[8] = f, this._h[9] = d }, e.prototype.finish = function (e, t) { void 0 === t && (t = 0); var r, n, i, s, o = new Uint16Array(10); if (this._leftover) { for (s = this._leftover, this._buffer[s++] = 1; s < 16; s++)this._buffer[s] = 0; this._fin = 1, this._blocks(this._buffer, 0, 16) } for (r = this._h[1] >>> 13, this._h[1] &= 8191, s = 2; s < 10; s++)this._h[s] += r, r = this._h[s] >>> 13, this._h[s] &= 8191; for (this._h[0] += 5 * r, r = this._h[0] >>> 13, this._h[0] &= 8191, this._h[1] += r, r = this._h[1] >>> 13, this._h[1] &= 8191, this._h[2] += r, o[0] = this._h[0] + 5, r = o[0] >>> 13, o[0] &= 8191, s = 1; s < 10; s++)o[s] = this._h[s] + r, r = o[s] >>> 13, o[s] &= 8191; for (o[9] -= 8192, n = (1 ^ r) - 1, s = 0; s < 10; s++)o[s] &= n; for (n = ~n, s = 0; s < 10; s++)this._h[s] = this._h[s] & n | o[s]; for (this._h[0] = 65535 & (this._h[0] | this._h[1] << 13), this._h[1] = 65535 & (this._h[1] >>> 3 | this._h[2] << 10), this._h[2] = 65535 & (this._h[2] >>> 6 | this._h[3] << 7), this._h[3] = 65535 & (this._h[3] >>> 9 | this._h[4] << 4), this._h[4] = 65535 & (this._h[4] >>> 12 | this._h[5] << 1 | this._h[6] << 14), this._h[5] = 65535 & (this._h[6] >>> 2 | this._h[7] << 11), this._h[6] = 65535 & (this._h[7] >>> 5 | this._h[8] << 8), this._h[7] = 65535 & (this._h[8] >>> 8 | this._h[9] << 5), i = this._h[0] + this._pad[0], this._h[0] = 65535 & i, s = 1; s < 8; s++)i = (this._h[s] + this._pad[s] | 0) + (i >>> 16) | 0, this._h[s] = 65535 & i; return e[t + 0] = this._h[0] >>> 0, e[t + 1] = this._h[0] >>> 8, e[t + 2] = this._h[1] >>> 0, e[t + 3] = this._h[1] >>> 8, e[t + 4] = this._h[2] >>> 0, e[t + 5] = this._h[2] >>> 8, e[t + 6] = this._h[3] >>> 0, e[t + 7] = this._h[3] >>> 8, e[t + 8] = this._h[4] >>> 0, e[t + 9] = this._h[4] >>> 8, e[t + 10] = this._h[5] >>> 0, e[t + 11] = this._h[5] >>> 8, e[t + 12] = this._h[6] >>> 0, e[t + 13] = this._h[6] >>> 8, e[t + 14] = this._h[7] >>> 0, e[t + 15] = this._h[7] >>> 8, this._finished = !0, this }, e.prototype.update = function (e) { var t, r = 0, n = e.length; if (this._leftover) { t = 16 - this._leftover, t > n && (t = n); for (var i = 0; i < t; i++)this._buffer[this._leftover + i] = e[r + i]; if (n -= t, r += t, this._leftover += t, this._leftover < 16) return this; this._blocks(this._buffer, 0, 16), this._leftover = 0 } if (n >= 16 && (t = n - n % 16, this._blocks(e, r, t), r += t, n -= t), n) { for (i = 0; i < n; i++)this._buffer[this._leftover + i] = e[r + i]; this._leftover += n } return this }, e.prototype.digest = function () { if (this._finished) throw new Error("Poly1305 was finished"); var e = new Uint8Array(16); return this.finish(e), e }, e.prototype.clean = function () { return i.wipe(this._buffer), i.wipe(this._r), i.wipe(this._h), i.wipe(this._pad), this._leftover = 0, this._fin = 0, this._finished = !0, this }, e }(); function o(e, t) { var r = new s(e); r.update(t); var n = r.digest(); return r.clean(), n } function a(e, r) { return e.length === t.DIGEST_LENGTH && r.length === t.DIGEST_LENGTH && n.equal(e, r) } t.Poly1305 = s, t.oneTimeAuth = o, t.equal = a }, "57e3": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.IHeartBeat = void 0; const n = r("db00"); class i extends n.IEvents { constructor(e) { super() } } t.IHeartBeat = i }, "58d2": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.HEARTBEAT_EVENTS = t.HEARTBEAT_INTERVAL = void 0; const n = r("a383"); t.HEARTBEAT_INTERVAL = n.FIVE_SECONDS, t.HEARTBEAT_EVENTS = { pulse: "heartbeat_pulse" } }, "5cc4": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.SystemRandomSource = void 0; const n = r("843f"), i = r("e512"); class s { constructor() { return this.isAvailable = !1, this.name = "", this._source = new n.BrowserRandomSource, this._source.isAvailable ? (this.isAvailable = !0, void (this.name = "Browser")) : (this._source = new i.NodeRandomSource, this._source.isAvailable ? (this.isAvailable = !0, void (this.name = "Node")) : void 0) } randomBytes(e) { if (!this.isAvailable) throw new Error("System random byte generator is not available."); return this._source.randomBytes(e) } } t.SystemRandomSource = s }, "5d15": function (e, t, r) { "use strict"; r("d9e2"), e.exports = function () { throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object") } }, "5d61": function (e, t) { var r = "undefined" !== typeof self ? self : this, n = function () { function e() { this.fetch = !1, this.DOMException = r.DOMException } return e.prototype = r, new e }(); (function (e) { (function (t) { var r = { searchParams: "URLSearchParams" in e, iterable: "Symbol" in e && "iterator" in Symbol, blob: "FileReader" in e && "Blob" in e && function () { try { return new Blob, !0 } catch (e) { return !1 } }(), formData: "FormData" in e, arrayBuffer: "ArrayBuffer" in e }; function n(e) { return e && DataView.prototype.isPrototypeOf(e) } if (r.arrayBuffer) var i = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"], s = ArrayBuffer.isView || function (e) { return e && i.indexOf(Object.prototype.toString.call(e)) > -1 }; function o(e) { if ("string" !== typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name"); return e.toLowerCase() } function a(e) { return "string" !== typeof e && (e = String(e)), e } function c(e) { var t = { next: function () { var t = e.shift(); return { done: void 0 === t, value: t } } }; return r.iterable && (t[Symbol.iterator] = function () { return t }), t } function u(e) { this.map = {}, e instanceof u ? e.forEach((function (e, t) { this.append(t, e) }), this) : Array.isArray(e) ? e.forEach((function (e) { this.append(e[0], e[1]) }), this) : e && Object.getOwnPropertyNames(e).forEach((function (t) { this.append(t, e[t]) }), this) } function h(e) { if (e.bodyUsed) return Promise.reject(new TypeError("Already read")); e.bodyUsed = !0 } function l(e) { return new Promise((function (t, r) { e.onload = function () { t(e.result) }, e.onerror = function () { r(e.error) } })) } function f(e) { var t = new FileReader, r = l(t); return t.readAsArrayBuffer(e), r } function d(e) { var t = new FileReader, r = l(t); return t.readAsText(e), r } function p(e) { for (var t = new Uint8Array(e), r = new Array(t.length), n = 0; n < t.length; n++)r[n] = String.fromCharCode(t[n]); return r.join("") } function g(e) { if (e.slice) return e.slice(0); var t = new Uint8Array(e.byteLength); return t.set(new Uint8Array(e)), t.buffer } function b() { return this.bodyUsed = !1, this._initBody = function (e) { this._bodyInit = e, e ? "string" === typeof e ? this._bodyText = e : r.blob && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : r.formData && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : r.searchParams && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : r.arrayBuffer && r.blob && n(e) ? (this._bodyArrayBuffer = g(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : r.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || s(e)) ? this._bodyArrayBuffer = g(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = "", this.headers.get("content-type") || ("string" === typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : r.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8")) }, r.blob && (this.blob = function () { var e = h(this); if (e) return e; if (this._bodyBlob) return Promise.resolve(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer])); if (this._bodyFormData) throw new Error("could not read FormData body as blob"); return Promise.resolve(new Blob([this._bodyText])) }, this.arrayBuffer = function () { return this._bodyArrayBuffer ? h(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(f) }), this.text = function () { var e = h(this); if (e) return e; if (this._bodyBlob) return d(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(p(this._bodyArrayBuffer)); if (this._bodyFormData) throw new Error("could not read FormData body as text"); return Promise.resolve(this._bodyText) }, r.formData && (this.formData = function () { return this.text().then(m) }), this.json = function () { return this.text().then(JSON.parse) }, this } u.prototype.append = function (e, t) { e = o(e), t = a(t); var r = this.map[e]; this.map[e] = r ? r + ", " + t : t }, u.prototype["delete"] = function (e) { delete this.map[o(e)] }, u.prototype.get = function (e) { return e = o(e), this.has(e) ? this.map[e] : null }, u.prototype.has = function (e) { return this.map.hasOwnProperty(o(e)) }, u.prototype.set = function (e, t) { this.map[o(e)] = a(t) }, u.prototype.forEach = function (e, t) { for (var r in this.map) this.map.hasOwnProperty(r) && e.call(t, this.map[r], r, this) }, u.prototype.keys = function () { var e = []; return this.forEach((function (t, r) { e.push(r) })), c(e) }, u.prototype.values = function () { var e = []; return this.forEach((function (t) { e.push(t) })), c(e) }, u.prototype.entries = function () { var e = []; return this.forEach((function (t, r) { e.push([r, t]) })), c(e) }, r.iterable && (u.prototype[Symbol.iterator] = u.prototype.entries); var y = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"]; function v(e) { var t = e.toUpperCase(); return y.indexOf(t) > -1 ? t : e } function _(e, t) { t = t || {}; var r = t.body; if (e instanceof _) { if (e.bodyUsed) throw new TypeError("Already read"); this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new u(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, r || null == e._bodyInit || (r = e._bodyInit, e.bodyUsed = !0) } else this.url = String(e); if (this.credentials = t.credentials || this.credentials || "same-origin", !t.headers && this.headers || (this.headers = new u(t.headers)), this.method = v(t.method || this.method || "GET"), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && r) throw new TypeError("Body not allowed for GET or HEAD requests"); this._initBody(r) } function m(e) { var t = new FormData; return e.trim().split("&").forEach((function (e) { if (e) { var r = e.split("="), n = r.shift().replace(/\+/g, " "), i = r.join("=").replace(/\+/g, " "); t.append(decodeURIComponent(n), decodeURIComponent(i)) } })), t } function w(e) { var t = new u, r = e.replace(/\r?\n[\t ]+/g, " "); return r.split(/\r?\n/).forEach((function (e) { var r = e.split(":"), n = r.shift().trim(); if (n) { var i = r.join(":").trim(); t.append(n, i) } })), t } function E(e, t) { t || (t = {}), this.type = "default", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in t ? t.statusText : "OK", this.headers = new u(t.headers), this.url = t.url || "", this._initBody(e) } _.prototype.clone = function () { return new _(this, { body: this._bodyInit }) }, b.call(_.prototype), b.call(E.prototype), E.prototype.clone = function () { return new E(this._bodyInit, { status: this.status, statusText: this.statusText, headers: new u(this.headers), url: this.url }) }, E.error = function () { var e = new E(null, { status: 0, statusText: "" }); return e.type = "error", e }; var O = [301, 302, 303, 307, 308]; E.redirect = function (e, t) { if (-1 === O.indexOf(t)) throw new RangeError("Invalid status code"); return new E(null, { status: t, headers: { location: e } }) }, t.DOMException = e.DOMException; try { new t.DOMException } catch (I) { t.DOMException = function (e, t) { this.message = e, this.name = t; var r = Error(e); this.stack = r.stack }, t.DOMException.prototype = Object.create(Error.prototype), t.DOMException.prototype.constructor = t.DOMException } function S(e, n) { return new Promise((function (i, s) { var o = new _(e, n); if (o.signal && o.signal.aborted) return s(new t.DOMException("Aborted", "AbortError")); var a = new XMLHttpRequest; function c() { a.abort() } a.onload = function () { var e = { status: a.status, statusText: a.statusText, headers: w(a.getAllResponseHeaders() || "") }; e.url = "responseURL" in a ? a.responseURL : e.headers.get("X-Request-URL"); var t = "response" in a ? a.response : a.responseText; i(new E(t, e)) }, a.onerror = function () { s(new TypeError("Network request failed")) }, a.ontimeout = function () { s(new TypeError("Network request failed")) }, a.onabort = function () { s(new t.DOMException("Aborted", "AbortError")) }, a.open(o.method, o.url, !0), "include" === o.credentials ? a.withCredentials = !0 : "omit" === o.credentials && (a.withCredentials = !1), "responseType" in a && r.blob && (a.responseType = "blob"), o.headers.forEach((function (e, t) { a.setRequestHeader(t, e) })), o.signal && (o.signal.addEventListener("abort", c), a.onreadystatechange = function () { 4 === a.readyState && o.signal.removeEventListener("abort", c) }), a.send("undefined" === typeof o._bodyInit ? null : o._bodyInit) })) } S.polyfill = !0, e.fetch || (e.fetch = S, e.Headers = u, e.Request = _, e.Response = E), t.Headers = u, t.Request = _, t.Response = E, t.fetch = S, Object.defineProperty(t, "__esModule", { value: !0 }) })({}) })(n), n.fetch.ponyfill = !0, delete n.fetch.polyfill; var i = n; t = i.fetch, t.default = i.fetch, t.fetch = i.fetch, t.Headers = i.Headers, t.Request = i.Request, t.Response = i.Response, e.exports = t }, "5da1": function (e, t, r) { (function (e, r) { var n = 200, i = "__lodash_hash_undefined__", s = 1, o = 2, a = 9007199254740991, c = "[object Arguments]", u = "[object Array]", h = "[object AsyncFunction]", l = "[object Boolean]", f = "[object Date]", d = "[object Error]", p = "[object Function]", g = "[object GeneratorFunction]", b = "[object Map]", y = "[object Number]", v = "[object Null]", _ = "[object Object]", m = "[object Promise]", w = "[object Proxy]", E = "[object RegExp]", O = "[object Set]", S = "[object String]", I = "[object Symbol]", j = "[object Undefined]", P = "[object WeakMap]", A = "[object ArrayBuffer]", R = "[object DataView]", x = "[object Float32Array]", N = "[object Float64Array]", T = "[object Int8Array]", C = "[object Int16Array]", U = "[object Int32Array]", D = "[object Uint8Array]", L = "[object Uint8ClampedArray]", M = "[object Uint16Array]", k = "[object Uint32Array]", z = /[\\^$.*+?()[\]{}|]/g, B = /^\[object .+?Constructor\]$/, H = /^(?:0|[1-9]\d*)$/, q = {}; q[x] = q[N] = q[T] = q[C] = q[U] = q[D] = q[L] = q[M] = q[k] = !0, q[c] = q[u] = q[A] = q[l] = q[R] = q[f] = q[d] = q[p] = q[b] = q[y] = q[_] = q[E] = q[O] = q[S] = q[P] = !1; var V = "object" == typeof e && e && e.Object === Object && e, K = "object" == typeof self && self && self.Object === Object && self, F = V || K || Function("return this")(), $ = t && !t.nodeType && t, W = $ && "object" == typeof r && r && !r.nodeType && r, J = W && W.exports === $, G = J && V.process, Y = function () { try { return G && G.binding && G.binding("util") } catch (e) { } }(), X = Y && Y.isTypedArray; function Z(e, t) { var r = -1, n = null == e ? 0 : e.length, i = 0, s = []; while (++r < n) { var o = e[r]; t(o, r, e) && (s[i++] = o) } return s } function Q(e, t) { var r = -1, n = t.length, i = e.length; while (++r < n) e[i + r] = t[r]; return e } function ee(e, t) { var r = -1, n = null == e ? 0 : e.length; while (++r < n) if (t(e[r], r, e)) return !0; return !1 } function te(e, t) { var r = -1, n = Array(e); while (++r < e) n[r] = t(r); return n } function re(e) { return function (t) { return e(t) } } function ne(e, t) { return e.has(t) } function ie(e, t) { return null == e ? void 0 : e[t] } function se(e) { var t = -1, r = Array(e.size); return e.forEach((function (e, n) { r[++t] = [n, e] })), r } function oe(e, t) { return function (r) { return e(t(r)) } } function ae(e) { var t = -1, r = Array(e.size); return e.forEach((function (e) { r[++t] = e })), r } var ce = Array.prototype, ue = Function.prototype, he = Object.prototype, le = F["__core-js_shared__"], fe = ue.toString, de = he.hasOwnProperty, pe = function () { var e = /[^.]+$/.exec(le && le.keys && le.keys.IE_PROTO || ""); return e ? "Symbol(src)_1." + e : "" }(), ge = he.toString, be = RegExp("^" + fe.call(de).replace(z, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), ye = J ? F.Buffer : void 0, ve = F.Symbol, _e = F.Uint8Array, me = he.propertyIsEnumerable, we = ce.splice, Ee = ve ? ve.toStringTag : void 0, Oe = Object.getOwnPropertySymbols, Se = ye ? ye.isBuffer : void 0, Ie = oe(Object.keys, Object), je = Pt(F, "DataView"), Pe = Pt(F, "Map"), Ae = Pt(F, "Promise"), Re = Pt(F, "Set"), xe = Pt(F, "WeakMap"), Ne = Pt(Object, "create"), Te = Lt(je), Ce = Lt(Pe), Ue = Lt(Ae), De = Lt(Re), Le = Lt(xe), Me = ve ? ve.prototype : void 0, ke = Me ? Me.valueOf : void 0; function ze(e) { var t = -1, r = null == e ? 0 : e.length; this.clear(); while (++t < r) { var n = e[t]; this.set(n[0], n[1]) } } function Be() { this.__data__ = Ne ? Ne(null) : {}, this.size = 0 } function He(e) { var t = this.has(e) && delete this.__data__[e]; return this.size -= t ? 1 : 0, t } function qe(e) { var t = this.__data__; if (Ne) { var r = t[e]; return r === i ? void 0 : r } return de.call(t, e) ? t[e] : void 0 } function Ve(e) { var t = this.__data__; return Ne ? void 0 !== t[e] : de.call(t, e) } function Ke(e, t) { var r = this.__data__; return this.size += this.has(e) ? 0 : 1, r[e] = Ne && void 0 === t ? i : t, this } function Fe(e) { var t = -1, r = null == e ? 0 : e.length; this.clear(); while (++t < r) { var n = e[t]; this.set(n[0], n[1]) } } function $e() { this.__data__ = [], this.size = 0 } function We(e) { var t = this.__data__, r = dt(t, e); if (r < 0) return !1; var n = t.length - 1; return r == n ? t.pop() : we.call(t, r, 1), --this.size, !0 } function Je(e) { var t = this.__data__, r = dt(t, e); return r < 0 ? void 0 : t[r][1] } function Ge(e) { return dt(this.__data__, e) > -1 } function Ye(e, t) { var r = this.__data__, n = dt(r, e); return n < 0 ? (++this.size, r.push([e, t])) : r[n][1] = t, this } function Xe(e) { var t = -1, r = null == e ? 0 : e.length; this.clear(); while (++t < r) { var n = e[t]; this.set(n[0], n[1]) } } function Ze() { this.size = 0, this.__data__ = { hash: new ze, map: new (Pe || Fe), string: new ze } } function Qe(e) { var t = jt(this, e)["delete"](e); return this.size -= t ? 1 : 0, t } function et(e) { return jt(this, e).get(e) } function tt(e) { return jt(this, e).has(e) } function rt(e, t) { var r = jt(this, e), n = r.size; return r.set(e, t), this.size += r.size == n ? 0 : 1, this } function nt(e) { var t = -1, r = null == e ? 0 : e.length; this.__data__ = new Xe; while (++t < r) this.add(e[t]) } function it(e) { return this.__data__.set(e, i), this } function st(e) { return this.__data__.has(e) } function ot(e) { var t = this.__data__ = new Fe(e); this.size = t.size } function at() { this.__data__ = new Fe, this.size = 0 } function ct(e) { var t = this.__data__, r = t["delete"](e); return this.size = t.size, r } function ut(e) { return this.__data__.get(e) } function ht(e) { return this.__data__.has(e) } function lt(e, t) { var r = this.__data__; if (r instanceof Fe) { var i = r.__data__; if (!Pe || i.length < n - 1) return i.push([e, t]), this.size = ++r.size, this; r = this.__data__ = new Xe(i) } return r.set(e, t), this.size = r.size, this } function ft(e, t) { var r = zt(e), n = !r && kt(e), i = !r && !n && Ht(e), s = !r && !n && !i && Wt(e), o = r || n || i || s, a = o ? te(e.length, String) : [], c = a.length; for (var u in e) !t && !de.call(e, u) || o && ("length" == u || i && ("offset" == u || "parent" == u) || s && ("buffer" == u || "byteLength" == u || "byteOffset" == u) || Nt(u, c)) || a.push(u); return a } function dt(e, t) { var r = e.length; while (r--) if (Mt(e[r][0], t)) return r; return -1 } function pt(e, t, r) { var n = t(e); return zt(e) ? n : Q(n, r(e)) } function gt(e) { return null == e ? void 0 === e ? j : v : Ee && Ee in Object(e) ? At(e) : Dt(e) } function bt(e) { return $t(e) && gt(e) == c } function yt(e, t, r, n, i) { return e === t || (null == e || null == t || !$t(e) && !$t(t) ? e !== e && t !== t : vt(e, t, r, n, yt, i)) } function vt(e, t, r, n, i, o) { var a = zt(e), h = zt(t), l = a ? u : xt(e), f = h ? u : xt(t); l = l == c ? _ : l, f = f == c ? _ : f; var d = l == _, p = f == _, g = l == f; if (g && Ht(e)) { if (!Ht(t)) return !1; a = !0, d = !1 } if (g && !d) return o || (o = new ot), a || Wt(e) ? Et(e, t, r, n, i, o) : Ot(e, t, l, r, n, i, o); if (!(r & s)) { var b = d && de.call(e, "__wrapped__"), y = p && de.call(t, "__wrapped__"); if (b || y) { var v = b ? e.value() : e, m = y ? t.value() : t; return o || (o = new ot), i(v, m, r, n, o) } } return !!g && (o || (o = new ot), St(e, t, r, n, i, o)) } function _t(e) { if (!Ft(e) || Ct(e)) return !1; var t = Vt(e) ? be : B; return t.test(Lt(e)) } function mt(e) { return $t(e) && Kt(e.length) && !!q[gt(e)] } function wt(e) { if (!Ut(e)) return Ie(e); var t = []; for (var r in Object(e)) de.call(e, r) && "constructor" != r && t.push(r); return t } function Et(e, t, r, n, i, a) { var c = r & s, u = e.length, h = t.length; if (u != h && !(c && h > u)) return !1; var l = a.get(e); if (l && a.get(t)) return l == t; var f = -1, d = !0, p = r & o ? new nt : void 0; a.set(e, t), a.set(t, e); while (++f < u) { var g = e[f], b = t[f]; if (n) var y = c ? n(b, g, f, t, e, a) : n(g, b, f, e, t, a); if (void 0 !== y) { if (y) continue; d = !1; break } if (p) { if (!ee(t, (function (e, t) { if (!ne(p, t) && (g === e || i(g, e, r, n, a))) return p.push(t) }))) { d = !1; break } } else if (g !== b && !i(g, b, r, n, a)) { d = !1; break } } return a["delete"](e), a["delete"](t), d } function Ot(e, t, r, n, i, a, c) { switch (r) { case R: if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1; e = e.buffer, t = t.buffer; case A: return !(e.byteLength != t.byteLength || !a(new _e(e), new _e(t))); case l: case f: case y: return Mt(+e, +t); case d: return e.name == t.name && e.message == t.message; case E: case S: return e == t + ""; case b: var u = se; case O: var h = n & s; if (u || (u = ae), e.size != t.size && !h) return !1; var p = c.get(e); if (p) return p == t; n |= o, c.set(e, t); var g = Et(u(e), u(t), n, i, a, c); return c["delete"](e), g; case I: if (ke) return ke.call(e) == ke.call(t) }return !1 } function St(e, t, r, n, i, o) { var a = r & s, c = It(e), u = c.length, h = It(t), l = h.length; if (u != l && !a) return !1; var f = u; while (f--) { var d = c[f]; if (!(a ? d in t : de.call(t, d))) return !1 } var p = o.get(e); if (p && o.get(t)) return p == t; var g = !0; o.set(e, t), o.set(t, e); var b = a; while (++f < u) { d = c[f]; var y = e[d], v = t[d]; if (n) var _ = a ? n(v, y, d, t, e, o) : n(y, v, d, e, t, o); if (!(void 0 === _ ? y === v || i(y, v, r, n, o) : _)) { g = !1; break } b || (b = "constructor" == d) } if (g && !b) { var m = e.constructor, w = t.constructor; m == w || !("constructor" in e) || !("constructor" in t) || "function" == typeof m && m instanceof m && "function" == typeof w && w instanceof w || (g = !1) } return o["delete"](e), o["delete"](t), g } function It(e) { return pt(e, Jt, Rt) } function jt(e, t) { var r = e.__data__; return Tt(t) ? r["string" == typeof t ? "string" : "hash"] : r.map } function Pt(e, t) { var r = ie(e, t); return _t(r) ? r : void 0 } function At(e) { var t = de.call(e, Ee), r = e[Ee]; try { e[Ee] = void 0; var n = !0 } catch (s) { } var i = ge.call(e); return n && (t ? e[Ee] = r : delete e[Ee]), i } ze.prototype.clear = Be, ze.prototype["delete"] = He, ze.prototype.get = qe, ze.prototype.has = Ve, ze.prototype.set = Ke, Fe.prototype.clear = $e, Fe.prototype["delete"] = We, Fe.prototype.get = Je, Fe.prototype.has = Ge, Fe.prototype.set = Ye, Xe.prototype.clear = Ze, Xe.prototype["delete"] = Qe, Xe.prototype.get = et, Xe.prototype.has = tt, Xe.prototype.set = rt, nt.prototype.add = nt.prototype.push = it, nt.prototype.has = st, ot.prototype.clear = at, ot.prototype["delete"] = ct, ot.prototype.get = ut, ot.prototype.has = ht, ot.prototype.set = lt; var Rt = Oe ? function (e) { return null == e ? [] : (e = Object(e), Z(Oe(e), (function (t) { return me.call(e, t) }))) } : Gt, xt = gt; function Nt(e, t) { return t = null == t ? a : t, !!t && ("number" == typeof e || H.test(e)) && e > -1 && e % 1 == 0 && e < t } function Tt(e) { var t = typeof e; return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e } function Ct(e) { return !!pe && pe in e } function Ut(e) { var t = e && e.constructor, r = "function" == typeof t && t.prototype || he; return e === r } function Dt(e) { return ge.call(e) } function Lt(e) { if (null != e) { try { return fe.call(e) } catch (t) { } try { return e + "" } catch (t) { } } return "" } function Mt(e, t) { return e === t || e !== e && t !== t } (je && xt(new je(new ArrayBuffer(1))) != R || Pe && xt(new Pe) != b || Ae && xt(Ae.resolve()) != m || Re && xt(new Re) != O || xe && xt(new xe) != P) && (xt = function (e) { var t = gt(e), r = t == _ ? e.constructor : void 0, n = r ? Lt(r) : ""; if (n) switch (n) { case Te: return R; case Ce: return b; case Ue: return m; case De: return O; case Le: return P }return t }); var kt = bt(function () { return arguments }()) ? bt : function (e) { return $t(e) && de.call(e, "callee") && !me.call(e, "callee") }, zt = Array.isArray; function Bt(e) { return null != e && Kt(e.length) && !Vt(e) } var Ht = Se || Yt; function qt(e, t) { return yt(e, t) } function Vt(e) { if (!Ft(e)) return !1; var t = gt(e); return t == p || t == g || t == h || t == w } function Kt(e) { return "number" == typeof e && e > -1 && e % 1 == 0 && e <= a } function Ft(e) { var t = typeof e; return null != e && ("object" == t || "function" == t) } function $t(e) { return null != e && "object" == typeof e } var Wt = X ? re(X) : mt; function Jt(e) { return Bt(e) ? ft(e) : wt(e) } function Gt() { return [] } function Yt() { return !1 } r.exports = qt }).call(this, r("c8ba"), r("62e4")(e)) }, "67b0": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("d029"); function i(e = 0) { return null != globalThis.Buffer && null != globalThis.Buffer.alloc ? n.asUint8Array(globalThis.Buffer.alloc(e)) : new Uint8Array(e) } function s(e = 0) { return null != globalThis.Buffer && null != globalThis.Buffer.allocUnsafe ? n.asUint8Array(globalThis.Buffer.allocUnsafe(e)) : new Uint8Array(e) } t.alloc = i, t.allocUnsafe = s }, "68b7": function (e, t, r) { "use strict"; var n = c, i = 128, s = 127, o = ~s, a = Math.pow(2, 31); function c(e, t, r) { t = t || [], r = r || 0; var n = r; while (e >= a) t[r++] = 255 & e | i, e /= 128; while (e & o) t[r++] = 255 & e | i, e >>>= 7; return t[r] = 0 | e, c.bytes = r - n + 1, t } var u = f, h = 128, l = 127; function f(e, t) { var r, n = 0, i = (t = t || 0, 0), s = t, o = e.length; do { if (s >= o) throw f.bytes = 0, new RangeError("Could not decode varint"); r = e[s++], n += i < 28 ? (r & l) << i : (r & l) * Math.pow(2, i), i += 7 } while (r >= h); return f.bytes = s - t, n } var d = Math.pow(2, 7), p = Math.pow(2, 14), g = Math.pow(2, 21), b = Math.pow(2, 28), y = Math.pow(2, 35), v = Math.pow(2, 42), _ = Math.pow(2, 49), m = Math.pow(2, 56), w = Math.pow(2, 63), E = function (e) { return e < d ? 1 : e < p ? 2 : e < g ? 3 : e < b ? 4 : e < y ? 5 : e < v ? 6 : e < _ ? 7 : e < m ? 8 : e < w ? 9 : 10 }, O = { encode: n, decode: u, encodingLength: E }, S = O, I = S; e.exports = I }, "6ce5": function (e, t, r) { "use strict"; var n = r("df7e"), i = r("ebb5"), s = i.aTypedArray, o = i.exportTypedArrayMethod, a = i.getTypedArrayConstructor; o("toReversed", (function () { return n(s(this), a(this)) })) }, "6d20": function (e, t) { }, "6e41": function (e, t, r) { "use strict"; function n(e, t) { if (e.length >= 255) throw new TypeError("Alphabet too long"); for (var r = new Uint8Array(256), n = 0; n < r.length; n++)r[n] = 255; for (var i = 0; i < e.length; i++) { var s = e.charAt(i), o = s.charCodeAt(0); if (255 !== r[o]) throw new TypeError(s + " is ambiguous"); r[o] = i } var a = e.length, c = e.charAt(0), u = Math.log(a) / Math.log(256), h = Math.log(256) / Math.log(a); function l(t) { if (t instanceof Uint8Array || (ArrayBuffer.isView(t) ? t = new Uint8Array(t.buffer, t.byteOffset, t.byteLength) : Array.isArray(t) && (t = Uint8Array.from(t))), !(t instanceof Uint8Array)) throw new TypeError("Expected Uint8Array"); if (0 === t.length) return ""; var r = 0, n = 0, i = 0, s = t.length; while (i !== s && 0 === t[i]) i++, r++; var o = (s - i) * h + 1 >>> 0, u = new Uint8Array(o); while (i !== s) { for (var l = t[i], f = 0, d = o - 1; (0 !== l || f < n) && -1 !== d; d--, f++)l += 256 * u[d] >>> 0, u[d] = l % a >>> 0, l = l / a >>> 0; if (0 !== l) throw new Error("Non-zero carry"); n = f, i++ } var p = o - n; while (p !== o && 0 === u[p]) p++; for (var g = c.repeat(r); p < o; ++p)g += e.charAt(u[p]); return g } function f(e) { if ("string" !== typeof e) throw new TypeError("Expected String"); if (0 === e.length) return new Uint8Array; var t = 0; if (" " !== e[t]) { var n = 0, i = 0; while (e[t] === c) n++, t++; var s = (e.length - t) * u + 1 >>> 0, o = new Uint8Array(s); while (e[t]) { var h = r[e.charCodeAt(t)]; if (255 === h) return; for (var l = 0, f = s - 1; (0 !== h || l < i) && -1 !== f; f--, l++)h += a * o[f] >>> 0, o[f] = h % 256 >>> 0, h = h / 256 >>> 0; if (0 !== h) throw new Error("Non-zero carry"); i = l, t++ } if (" " !== e[t]) { var d = s - i; while (d !== s && 0 === o[d]) d++; var p = new Uint8Array(n + (s - d)), g = n; while (d !== s) p[g++] = o[d++]; return p } } } function d(e) { var r = f(e); if (r) return r; throw new Error(`Non-${t} character`) } return { encode: l, decodeUnsafe: f, decode: d } } var i = n, s = i; e.exports = s }, "6fbc": function (e, t, r) { "use strict"; r.d(t, "c", (function () { return i })), r.d(t, "d", (function () { return s })), r.d(t, "a", (function () { return o })), r.d(t, "b", (function () { return a })), r.d(t, "g", (function () { return c })), r.d(t, "h", (function () { return u })), r.d(t, "e", (function () { return h })), r.d(t, "f", (function () { return l })); var n = r("86f2"); function i(e) { return Object(n["c"])(e, "subscribe") } function s(e) { const t = ["topic"], r = []; return Object(n["b"])(e, t, r) } function o(e) { return Object(n["c"])(e, "publish") } function a(e) { const t = ["message", "topic", "ttl"], r = ["prompt", "tag"]; return Object(n["b"])(e, t, r) } function c(e) { return Object(n["c"])(e, "unsubscribe") } function u(e) { const t = ["id", "topic"], r = []; return Object(n["b"])(e, t, r) } function h(e) { return Object(n["c"])(e, "subscription") } function l(e) { const t = ["id", "data"], r = []; return Object(n["b"])(e, t, r) } }, "71b4": function (e, t, r) { "use strict"; var n = r("23e7"), i = r("a258").findLastIndex, s = r("44d2"); n({ target: "Array", proto: !0 }, { findLastIndex: function (e) { return i(this, e, arguments.length > 1 ? arguments[1] : void 0) } }), s("findLastIndex") }, "72bf": function (e, t, r) { "use strict"; const n = r("3e67"), i = r("f234"), s = r("f32c"), o = r("7348"), a = e => null === e || void 0 === e, c = Symbol("encodeFragmentIdentifier"); function u(e) { switch (e.arrayFormat) { case "index": return t => (r, n) => { const i = r.length; return void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? r : null === n ? [...r, [f(t, e), "[", i, "]"].join("")] : [...r, [f(t, e), "[", f(i, e), "]=", f(n, e)].join("")] }; case "bracket": return t => (r, n) => void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? r : null === n ? [...r, [f(t, e), "[]"].join("")] : [...r, [f(t, e), "[]=", f(n, e)].join("")]; case "colon-list-separator": return t => (r, n) => void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? r : null === n ? [...r, [f(t, e), ":list="].join("")] : [...r, [f(t, e), ":list=", f(n, e)].join("")]; case "comma": case "separator": case "bracket-separator": { const t = "bracket-separator" === e.arrayFormat ? "[]=" : "="; return r => (n, i) => void 0 === i || e.skipNull && null === i || e.skipEmptyString && "" === i ? n : (i = null === i ? "" : i, 0 === n.length ? [[f(r, e), t, f(i, e)].join("")] : [[n, f(i, e)].join(e.arrayFormatSeparator)]) } default: return t => (r, n) => void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? r : null === n ? [...r, f(t, e)] : [...r, [f(t, e), "=", f(n, e)].join("")] } } function h(e) { let t; switch (e.arrayFormat) { case "index": return (e, r, n) => { t = /\[(\d*)\]$/.exec(e), e = e.replace(/\[\d*\]$/, ""), t ? (void 0 === n[e] && (n[e] = {}), n[e][t[1]] = r) : n[e] = r }; case "bracket": return (e, r, n) => { t = /(\[\])$/.exec(e), e = e.replace(/\[\]$/, ""), t ? void 0 !== n[e] ? n[e] = [].concat(n[e], r) : n[e] = [r] : n[e] = r }; case "colon-list-separator": return (e, r, n) => { t = /(:list)$/.exec(e), e = e.replace(/:list$/, ""), t ? void 0 !== n[e] ? n[e] = [].concat(n[e], r) : n[e] = [r] : n[e] = r }; case "comma": case "separator": return (t, r, n) => { const i = "string" === typeof r && r.includes(e.arrayFormatSeparator), s = "string" === typeof r && !i && d(r, e).includes(e.arrayFormatSeparator); r = s ? d(r, e) : r; const o = i || s ? r.split(e.arrayFormatSeparator).map(t => d(t, e)) : null === r ? r : d(r, e); n[t] = o }; case "bracket-separator": return (t, r, n) => { const i = /(\[\])$/.test(t); if (t = t.replace(/\[\]$/, ""), !i) return void (n[t] = r ? d(r, e) : r); const s = null === r ? [] : r.split(e.arrayFormatSeparator).map(t => d(t, e)); void 0 !== n[t] ? n[t] = [].concat(n[t], s) : n[t] = s }; default: return (e, t, r) => { void 0 !== r[e] ? r[e] = [].concat(r[e], t) : r[e] = t } } } function l(e) { if ("string" !== typeof e || 1 !== e.length) throw new TypeError("arrayFormatSeparator must be single character string") } function f(e, t) { return t.encode ? t.strict ? n(e) : encodeURIComponent(e) : e } function d(e, t) { return t.decode ? i(e) : e } function p(e) { return Array.isArray(e) ? e.sort() : "object" === typeof e ? p(Object.keys(e)).sort((e, t) => Number(e) - Number(t)).map(t => e[t]) : e } function g(e) { const t = e.indexOf("#"); return -1 !== t && (e = e.slice(0, t)), e } function b(e) { let t = ""; const r = e.indexOf("#"); return -1 !== r && (t = e.slice(r)), t } function y(e) { e = g(e); const t = e.indexOf("?"); return -1 === t ? "" : e.slice(t + 1) } function v(e, t) { return t.parseNumbers && !Number.isNaN(Number(e)) && "string" === typeof e && "" !== e.trim() ? e = Number(e) : !t.parseBooleans || null === e || "true" !== e.toLowerCase() && "false" !== e.toLowerCase() || (e = "true" === e.toLowerCase()), e } function _(e, t) { t = Object.assign({ decode: !0, sort: !0, arrayFormat: "none", arrayFormatSeparator: ",", parseNumbers: !1, parseBooleans: !1 }, t), l(t.arrayFormatSeparator); const r = h(t), n = Object.create(null); if ("string" !== typeof e) return n; if (e = e.trim().replace(/^[?#&]/, ""), !e) return n; for (const i of e.split("&")) { if ("" === i) continue; let [e, o] = s(t.decode ? i.replace(/\+/g, " ") : i, "="); o = void 0 === o ? null : ["comma", "separator", "bracket-separator"].includes(t.arrayFormat) ? o : d(o, t), r(d(e, t), o, n) } for (const i of Object.keys(n)) { const e = n[i]; if ("object" === typeof e && null !== e) for (const r of Object.keys(e)) e[r] = v(e[r], t); else n[i] = v(e, t) } return !1 === t.sort ? n : (!0 === t.sort ? Object.keys(n).sort() : Object.keys(n).sort(t.sort)).reduce((e, t) => { const r = n[t]; return Boolean(r) && "object" === typeof r && !Array.isArray(r) ? e[t] = p(r) : e[t] = r, e }, Object.create(null)) } t.extract = y, t.parse = _, t.stringify = (e, t) => { if (!e) return ""; t = Object.assign({ encode: !0, strict: !0, arrayFormat: "none", arrayFormatSeparator: "," }, t), l(t.arrayFormatSeparator); const r = r => t.skipNull && a(e[r]) || t.skipEmptyString && "" === e[r], n = u(t), i = {}; for (const o of Object.keys(e)) r(o) || (i[o] = e[o]); const s = Object.keys(i); return !1 !== t.sort && s.sort(t.sort), s.map(r => { const i = e[r]; return void 0 === i ? "" : null === i ? f(r, t) : Array.isArray(i) ? 0 === i.length && "bracket-separator" === t.arrayFormat ? f(r, t) + "[]" : i.reduce(n(r), []).join("&") : f(r, t) + "=" + f(i, t) }).filter(e => e.length > 0).join("&") }, t.parseUrl = (e, t) => { t = Object.assign({ decode: !0 }, t); const [r, n] = s(e, "#"); return Object.assign({ url: r.split("?")[0] || "", query: _(y(e), t) }, t && t.parseFragmentIdentifier && n ? { fragmentIdentifier: d(n, t) } : {}) }, t.stringifyUrl = (e, r) => { r = Object.assign({ encode: !0, strict: !0, [c]: !0 }, r); const n = g(e.url).split("?")[0] || "", i = t.extract(e.url), s = t.parse(i, { sort: !1 }), o = Object.assign(s, e.query); let a = t.stringify(o, r); a && (a = "?" + a); let u = b(e.url); return e.fragmentIdentifier && (u = "#" + (r[c] ? f(e.fragmentIdentifier, r) : e.fragmentIdentifier)), `${n}${a}${u}` }, t.pick = (e, r, n) => { n = Object.assign({ parseFragmentIdentifier: !0, [c]: !1 }, n); const { url: i, query: s, fragmentIdentifier: a } = t.parseUrl(e, n); return t.stringifyUrl({ url: i, query: o(s, r), fragmentIdentifier: a }, n) }, t.exclude = (e, r, n) => { const i = Array.isArray(r) ? e => !r.includes(e) : (e, t) => !r(e, t); return t.pick(e, i, n) } }, 7348: function (e, t, r) { "use strict"; e.exports = function (e, t) { for (var r = {}, n = Object.keys(e), i = Array.isArray(t), s = 0; s < n.length; s++) { var o = n[s], a = e[o]; (i ? -1 !== t.indexOf(o) : t(o, a, e)) && (r[o] = a) } return r } }, 7635: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("3583"), i = r("5621"), s = r("ff6a"), o = r("290c"), a = r("47c4"); t.KEY_LENGTH = 32, t.NONCE_LENGTH = 12, t.TAG_LENGTH = 16; var c = new Uint8Array(16), u = function () { function e(e) { if (this.nonceLength = t.NONCE_LENGTH, this.tagLength = t.TAG_LENGTH, e.length !== t.KEY_LENGTH) throw new Error("ChaCha20Poly1305 needs 32-byte key"); this._key = new Uint8Array(e) } return e.prototype.seal = function (e, t, r, i) { if (e.length > 16) throw new Error("ChaCha20Poly1305: incorrect nonce length"); var o = new Uint8Array(16); o.set(e, o.length - e.length); var a = new Uint8Array(32); n.stream(this._key, o, a, 4); var c, u = t.length + this.tagLength; if (i) { if (i.length !== u) throw new Error("ChaCha20Poly1305: incorrect destination length"); c = i } else c = new Uint8Array(u); return n.streamXOR(this._key, o, t, c, 4), this._authenticate(c.subarray(c.length - this.tagLength, c.length), a, c.subarray(0, c.length - this.tagLength), r), s.wipe(o), c }, e.prototype.open = function (e, t, r, i) { if (e.length > 16) throw new Error("ChaCha20Poly1305: incorrect nonce length"); if (t.length < this.tagLength) return null; var o = new Uint8Array(16); o.set(e, o.length - e.length); var c = new Uint8Array(32); n.stream(this._key, o, c, 4); var u = new Uint8Array(this.tagLength); if (this._authenticate(u, c, t.subarray(0, t.length - this.tagLength), r), !a.equal(u, t.subarray(t.length - this.tagLength, t.length))) return null; var h, l = t.length - this.tagLength; if (i) { if (i.length !== l) throw new Error("ChaCha20Poly1305: incorrect destination length"); h = i } else h = new Uint8Array(l); return n.streamXOR(this._key, o, t.subarray(0, t.length - this.tagLength), h, 4), s.wipe(o), h }, e.prototype.clean = function () { return s.wipe(this._key), this }, e.prototype._authenticate = function (e, t, r, n) { var a = new i.Poly1305(t); n && (a.update(n), n.length % 16 > 0 && a.update(c.subarray(n.length % 16))), a.update(r), r.length % 16 > 0 && a.update(c.subarray(r.length % 16)); var u = new Uint8Array(8); n && o.writeUint64LE(n.length, u), a.update(u), o.writeUint64LE(r.length, u), a.update(u); for (var h = a.digest(), l = 0; l < h.length; l++)e[l] = h[l]; a.clean(), s.wipe(h), s.wipe(u) }, e }(); t.ChaCha20Poly1305 = u }, 7896: function (e, t, r) { "use strict"; r.d(t, "a", (function () { return a })), r.d(t, "c", (function () { return c })), r.d(t, "b", (function () { return u })); const n = "^https?:", i = "^wss?:"; function s(e) { const t = e.match(new RegExp(/^\w+:/, "gi")); if (t && t.length) return t[0] } function o(e, t) { const r = s(e); return "undefined" !== typeof r && new RegExp(t).test(r) } function a(e) { return o(e, n) } function c(e) { return o(e, i) } function u(e) { return new RegExp("wss?://localhost(:d{2,5})?").test(e) } }, "7a568": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"); const i = Array.from(""), s = i.reduce((e, t, r) => (e[r] = t, e), []), o = i.reduce((e, t, r) => (e[t.codePointAt(0)] = r, e), []); function a(e) { return e.reduce((e, t) => (e += s[t], e), "") } function c(e) { const t = []; for (const r of e) { const e = o[r.codePointAt(0)]; if (void 0 === e) throw new Error("Non-base256emoji character: " + r); t.push(e) } return new Uint8Array(t) } const u = n.from({ prefix: "", name: "base256emoji", encode: a, decode: c }); t.base256emoji = u }, "7b46": function (e, t, r) { "use strict"; (function (e) { r.d(t, "a", (function () { return p })); var n = function (e, t, r) { if (r || 2 === arguments.length) for (var n, i = 0, s = t.length; i < s; i++)!n && i in t || (n || (n = Array.prototype.slice.call(t, 0, i)), n[i] = t[i]); return e.concat(n || Array.prototype.slice.call(t)) }, i = function () { function e(e, t, r) { this.name = e, this.version = t, this.os = r, this.type = "browser" } return e }(), s = function () { function t(t) { this.version = t, this.type = "node", this.name = "node", this.os = e.platform } return t }(), o = function () { function e(e, t, r, n) { this.name = e, this.version = t, this.os = r, this.bot = n, this.type = "bot-device" } return e }(), a = function () { function e() { this.type = "bot", this.bot = !0, this.name = "bot", this.version = null, this.os = null } return e }(), c = function () { function e() { this.type = "react-native", this.name = "react-native", this.version = null, this.os = null } return e }(), u = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/, h = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/, l = 3, f = [["aol", /AOLShield\/([0-9\._]+)/], ["edge", /Edge\/([0-9\._]+)/], ["edge-ios", /EdgiOS\/([0-9\._]+)/], ["yandexbrowser", /YaBrowser\/([0-9\._]+)/], ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/], ["samsung", /SamsungBrowser\/([0-9\.]+)/], ["silk", /\bSilk\/([0-9._-]+)\b/], ["miui", /MiuiBrowser\/([0-9\.]+)$/], ["beaker", /BeakerBrowser\/([0-9\.]+)/], ["edge-chromium", /EdgA?\/([0-9\.]+)/], ["chromium-webview", /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/], ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/], ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/], ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/], ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/], ["fxios", /FxiOS\/([0-9\.]+)/], ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/], ["opera", /Opera\/([0-9\.]+)(?:\s|$)/], ["opera", /OPR\/([0-9\.]+)(:?\s|$)/], ["pie", /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/], ["pie", /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/], ["netfront", /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/], ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/], ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/], ["ie", /MSIE\s(7\.0)/], ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/], ["android", /Android\s([0-9\.]+)/], ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/], ["safari", /Version\/([0-9\._]+).*Safari/], ["facebook", /FB[AS]V\/([0-9\.]+)/], ["instagram", /Instagram\s([0-9\.]+)/], ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/], ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/], ["curl", /^curl\/([0-9\.]+)$/], ["searchbot", u]], d = [["iOS", /iP(hone|od|ad)/], ["Android OS", /Android/], ["BlackBerry OS", /BlackBerry|BB10/], ["Windows Mobile", /IEMobile/], ["Amazon OS", /Kindle/], ["Windows 3.11", /Win16/], ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/], ["Windows 98", /(Windows 98)|(Win98)/], ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/], ["Windows XP", /(Windows NT 5.1)|(Windows XP)/], ["Windows Server 2003", /(Windows NT 5.2)/], ["Windows Vista", /(Windows NT 6.0)/], ["Windows 7", /(Windows NT 6.1)/], ["Windows 8", /(Windows NT 6.2)/], ["Windows 8.1", /(Windows NT 6.3)/], ["Windows 10", /(Windows NT 10.0)/], ["Windows ME", /Windows ME/], ["Windows CE", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/], ["Open BSD", /OpenBSD/], ["Sun OS", /SunOS/], ["Chrome OS", /CrOS/], ["Linux", /(Linux)|(X11)/], ["Mac OS", /(Mac_PowerPC)|(Macintosh)/], ["QNX", /QNX/], ["BeOS", /BeOS/], ["OS/2", /OS\/2/]]; function p(e) { return e ? b(e) : "undefined" === typeof document && "undefined" !== typeof navigator && "ReactNative" === navigator.product ? new c : "undefined" !== typeof navigator ? b(navigator.userAgent) : v() } function g(e) { return "" !== e && f.reduce((function (t, r) { var n = r[0], i = r[1]; if (t) return t; var s = i.exec(e); return !!s && [n, s] }), !1) } function b(e) { var t = g(e); if (!t) return null; var r = t[0], s = t[1]; if ("searchbot" === r) return new a; var c = s[1] && s[1].split(".").join("_").split("_").slice(0, 3); c ? c.length < l && (c = n(n([], c, !0), _(l - c.length), !0)) : c = []; var u = c.join("."), f = y(e), d = h.exec(e); return d && d[1] ? new o(r, u, f, d[1]) : new i(r, u, f) } function y(e) { for (var t = 0, r = d.length; t < r; t++) { var n = d[t], i = n[0], s = n[1], o = s.exec(e); if (o) return i } return null } function v() { var t = "undefined" !== typeof e && e.version; return t ? new s(e.version.slice(1)) : null } function _(e) { for (var t = [], r = 0; r < e; r++)t.push("0"); return t } }).call(this, r("4362")) }, "7c73": function (e, t, r) { var n, i = r("825a"), s = r("37e8"), o = r("7839"), a = r("d012"), c = r("1be4"), u = r("cc12"), h = r("f772"), l = ">", f = "<", d = "prototype", p = "script", g = h("IE_PROTO"), b = function () { }, y = function (e) { return f + p + l + e + f + "/" + p + l }, v = function (e) { e.write(y("")), e.close(); var t = e.parentWindow.Object; return e = null, t }, _ = function () { var e, t = u("iframe"), r = "java" + p + ":"; return t.style.display = "none", c.appendChild(t), t.src = String(r), e = t.contentWindow.document, e.open(), e.write(y("document.F=Object")), e.close(), e.F }, m = function () { try { n = new ActiveXObject("htmlfile") } catch (t) { } m = "undefined" != typeof document ? document.domain && n ? v(n) : _() : v(n); var e = o.length; while (e--) delete m[d][o[e]]; return m() }; a[g] = !0, e.exports = Object.create || function (e, t) { var r; return null !== e ? (b[d] = i(e), r = new b, b[d] = null, r[g] = e) : r = m(), void 0 === t ? r : s.f(r, t) } }, "7dcf": function (e, t, r) { "use strict"; function n(e) { return "undefined" !== typeof e.saveState && "undefined" !== typeof e.restoreState && "undefined" !== typeof e.cleanSavedState } Object.defineProperty(t, "__esModule", { value: !0 }), t.isSerializableHash = n }, "7f0c": function (e, t, r) { "use strict"; r("d9e2"), Object.defineProperty(t, "__esModule", { value: !0 }), t.Watch = void 0; class n { constructor() { this.timestamps = new Map } start(e) { if (this.timestamps.has(e)) throw new Error("Watch already started for label: " + e); this.timestamps.set(e, { started: Date.now() }) } stop(e) { const t = this.get(e); if ("undefined" !== typeof t.elapsed) throw new Error("Watch already stopped for label: " + e); const r = Date.now() - t.started; this.timestamps.set(e, { started: t.started, elapsed: r }) } get(e) { const t = this.timestamps.get(e); if ("undefined" === typeof t) throw new Error("No timestamp found for label: " + e); return t } elapsed(e) { const t = this.get(e), r = t.elapsed || Date.now() - t.started; return r } } t.Watch = n, t.default = n }, "81e9": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = new TextEncoder, i = new TextDecoder, s = "json", o = 512, a = e => n.encode(JSON.stringify(e)), c = e => JSON.parse(i.decode(e)); t.code = o, t.decode = c, t.encode = a, t.name = s }, "843f": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.BrowserRandomSource = void 0; const n = 65536; class i { constructor() { this.isAvailable = !1, this.isInstantiated = !1; const e = "undefined" !== typeof self ? self.crypto || self.msCrypto : null; e && void 0 !== e.getRandomValues && (this._crypto = e, this.isAvailable = !0, this.isInstantiated = !0) } randomBytes(e) { if (!this.isAvailable || !this._crypto) throw new Error("Browser random byte generator is not available."); const t = new Uint8Array(e); for (let r = 0; r < t.length; r += n)this._crypto.getRandomValues(t.subarray(r, r + Math.min(t.length - r, n))); return t } } t.BrowserRandomSource = i }, "86f2": function (e, t, r) { "use strict"; r.d(t, "a", (function () { return n })), r.d(t, "b", (function () { return a })), r.d(t, "c", (function () { return c })); r("d9e2"); function n(e, t, r = "string") { if (!e[t] || typeof e[t] !== r) throw new Error(`Missing or invalid "${t}" param`) } function i(e, t) { let r = !0; return t.forEach(t => { const n = t in e; n || (r = !1) }), r } function s(e, t) { return Array.isArray(e) ? e.length === t : Object.keys(e).length === t } function o(e, t) { return Array.isArray(e) ? e.length >= t : Object.keys(e).length >= t } function a(e, t, r) { const n = !r.length, a = n ? s(e, t.length) : o(e, t.length); return !!a && i(e, t) } function c(e, t, r = "_") { const n = e.split(r); return n[n.length - 1].trim().toLowerCase() === t.trim().toLowerCase() } }, "88db": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("9a44"); const i = e => async t => new Uint8Array(await crypto.subtle.digest(e, t)), s = n.from({ name: "sha2-256", code: 18, encode: i("SHA-256") }), o = n.from({ name: "sha2-512", code: 19, encode: i("SHA-512") }); t.sha256 = s, t.sha512 = o }, "8bd5": function (e, t, r) { "use strict"; var n = r("23e7"), i = r("a258").findLast, s = r("44d2"); n({ target: "Array", proto: !0 }, { findLast: function (e) { return i(this, e, arguments.length > 1 ? arguments[1] : void 0) } }), s("findLast") }, "907a": function (e, t, r) { "use strict"; var n = r("ebb5"), i = r("07fa"), s = r("5926"), o = n.aTypedArray, a = n.exportTypedArrayMethod; a("at", (function (e) { var t = o(this), r = i(t), n = s(e), a = n >= 0 ? n : r + n; return a < 0 || a >= r ? void 0 : t[a] })) }, 9268: function (e, t, r) { "use strict"; r.d(t, "a", (function () { return n })); const n = { waku: { publish: "waku_publish", batchPublish: "waku_batchPublish", subscribe: "waku_subscribe", batchSubscribe: "waku_batchSubscribe", subscription: "waku_subscription", unsubscribe: "waku_unsubscribe", batchUnsubscribe: "waku_batchUnsubscribe" }, irn: { publish: "irn_publish", batchPublish: "irn_batchPublish", subscribe: "irn_subscribe", batchSubscribe: "irn_batchSubscribe", subscription: "irn_subscription", unsubscribe: "irn_unsubscribe", batchUnsubscribe: "irn_batchUnsubscribe" }, iridium: { publish: "iridium_publish", batchPublish: "iridium_batchPublish", subscribe: "iridium_subscribe", batchSubscribe: "iridium_batchSubscribe", subscription: "iridium_subscription", unsubscribe: "iridium_unsubscribe", batchUnsubscribe: "iridium_batchUnsubscribe" } } }, 9480: function (e, t, r) { "use strict"; (function (e) { r("d9e2"); var n = r("faa1"), i = r("cbe5"), s = r("18cd"); const o = 10, a = () => "undefined" !== typeof e && "undefined" !== typeof e.WebSocket ? e.WebSocket : "undefined" !== typeof window && "undefined" !== typeof window.WebSocket ? window.WebSocket : r("5d15"), c = () => "undefined" !== typeof window, u = a(); class h { constructor(e) { if (this.url = e, this.events = new n["EventEmitter"], this.registering = !1, !Object(s["isWsUrl"])(e)) throw new Error("Provided URL is not compatible with WebSocket connection: " + e); this.url = e } get connected() { return "undefined" !== typeof this.socket } get connecting() { return this.registering } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } async open(e = this.url) { await this.register(e) } async close() { return new Promise((e, t) => { "undefined" !== typeof this.socket ? (this.socket.onclose = t => { this.onClose(t), e() }, this.socket.close()) : t(new Error("Connection already closed")) }) } async send(e, t) { "undefined" === typeof this.socket && (this.socket = await this.register()); try { this.socket.send(Object(i["b"])(e)) } catch (r) { this.onError(e.id, r) } } register(e = this.url) { if (!Object(s["isWsUrl"])(e)) throw new Error("Provided URL is not compatible with WebSocket connection: " + e); if (this.registering) { const e = this.events.getMaxListeners(); return (this.events.listenerCount("register_error") >= e || this.events.listenerCount("open") >= e) && this.events.setMaxListeners(e + 1), new Promise((e, t) => { this.events.once("register_error", e => { this.resetMaxListeners(), t(e) }), this.events.once("open", () => { if (this.resetMaxListeners(), "undefined" === typeof this.socket) return t(new Error("WebSocket connection is missing or invalid")); e(this.socket) }) }) } return this.url = e, this.registering = !0, new Promise((t, r) => { const n = Object(s["isReactNative"])() ? void 0 : { rejectUnauthorized: !Object(s["isLocalhostUrl"])(e) }, i = new u(e, [], n); c() ? i.onerror = e => { const t = e; r(this.emitError(t.error)) } : i.on("error", e => { r(this.emitError(e)) }), i.onopen = () => { this.onOpen(i), t(i) } }) } onOpen(e) { e.onmessage = e => this.onPayload(e), e.onclose = e => this.onClose(e), this.socket = e, this.registering = !1, this.events.emit("open") } onClose(e) { this.socket = void 0, this.registering = !1, this.events.emit("close", e) } onPayload(e) { if ("undefined" === typeof e.data) return; const t = "string" === typeof e.data ? Object(i["a"])(e.data) : e.data; this.events.emit("payload", t) } onError(e, t) { const r = this.parseError(t), n = r.message || r.toString(), i = Object(s["formatJsonRpcError"])(e, n); this.events.emit("payload", i) } parseError(e, t = this.url) { return Object(s["parseConnectionError"])(e, t, "WS") } resetMaxListeners() { this.events.getMaxListeners() > o && this.events.setMaxListeners(o) } emitError(e) { const t = this.parseError(new Error((null === e || void 0 === e ? void 0 : e.message) || "WebSocket connection failed for URL: " + this.url)); return this.events.emit("register_error", t), t } } t["a"] = h }).call(this, r("c8ba")) }, "97db": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = r("9ab4"); n.__exportStar(r("2b7d"), t), n.__exportStar(r("0140"), t) }, "986a": function (e, t, r) { "use strict"; var n = r("ebb5"), i = r("a258").findLast, s = n.aTypedArray, o = n.exportTypedArrayMethod; o("findLast", (function (e) { return i(s(this), e, arguments.length > 1 ? arguments[1] : void 0) })) }, 9894: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"), i = r("dd7b"); const s = n.from({ prefix: "\0", name: "identity", encode: e => i.toString(e), decode: e => i.fromString(e) }); t.identity = s }, "9a2e": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dd7b"); const i = "raw", s = 85, o = e => n.coerce(e), a = e => n.coerce(e); t.code = s, t.decode = a, t.encode = o, t.name = i }, "9a44": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("29f9"); const i = ({ name: e, code: t, encode: r }) => new s(e, t, r); class s { constructor(e, t, r) { this.name = e, this.code = t, this.encode = r } digest(e) { if (e instanceof Uint8Array) { const t = this.encode(e); return t instanceof Uint8Array ? n.create(this.code, t) : t.then(e => n.create(this.code, e)) } throw Error("Unknown type, must be binary type") } } t.Hasher = s, t.from = i }, "9ab4": function (e, t, r) {
          "use strict"; r.r(t), r.d(t, "__extends", (function () { return i })), r.d(t, "__assign", (function () { return s })), r.d(t, "__rest", (function () { return o })), r.d(t, "__decorate", (function () { return a })), r.d(t, "__param", (function () { return c })), r.d(t, "__metadata", (function () { return u })), r.d(t, "__awaiter", (function () { return h })), r.d(t, "__generator", (function () { return l })), r.d(t, "__createBinding", (function () { return f })), r.d(t, "__exportStar", (function () { return d })), r.d(t, "__values", (function () { return p })), r.d(t, "__read", (function () { return g })), r.d(t, "__spread", (function () { return b })), r.d(t, "__spreadArrays", (function () { return y })), r.d(t, "__await", (function () { return v })), r.d(t, "__asyncGenerator", (function () { return _ })), r.d(t, "__asyncDelegator", (function () { return m })), r.d(t, "__asyncValues", (function () { return w })), r.d(t, "__makeTemplateObject", (function () { return E })), r.d(t, "__importStar", (function () { return O })), r.d(t, "__importDefault", (function () { return S })), r.d(t, "__classPrivateFieldGet", (function () { return I })), r.d(t, "__classPrivateFieldSet", (function () { return j }));
          /*! *****************************************************************************
          Copyright (c) Microsoft Corporation.
          
          Permission to use, copy, modify, and/or distribute this software for any
          purpose with or without fee is hereby granted.
          
          THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
          REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
          AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
          INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
          LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
          OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
          PERFORMANCE OF THIS SOFTWARE.
          ***************************************************************************** */
          var n = function (e, t) { return n = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r]) }, n(e, t) }; function i(e, t) { function r() { this.constructor = e } n(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r) } var s = function () { return s = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var i in t = arguments[r], t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e }, s.apply(this, arguments) }; function o(e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" === typeof Object.getOwnPropertySymbols) { var i = 0; for (n = Object.getOwnPropertySymbols(e); i < n.length; i++)t.indexOf(n[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[i]) && (r[n[i]] = e[n[i]]) } return r } function a(e, t, r, n) { var i, s = arguments.length, o = s < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, r) : n; if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) o = Reflect.decorate(e, t, r, n); else for (var a = e.length - 1; a >= 0; a--)(i = e[a]) && (o = (s < 3 ? i(o) : s > 3 ? i(t, r, o) : i(t, r)) || o); return s > 3 && o && Object.defineProperty(t, r, o), o } function c(e, t) { return function (r, n) { t(r, n, e) } } function u(e, t) { if ("object" === typeof Reflect && "function" === typeof Reflect.metadata) return Reflect.metadata(e, t) } function h(e, t, r, n) { function i(e) { return e instanceof r ? e : new r((function (t) { t(e) })) } return new (r || (r = Promise))((function (r, s) { function o(e) { try { c(n.next(e)) } catch (t) { s(t) } } function a(e) { try { c(n["throw"](e)) } catch (t) { s(t) } } function c(e) { e.done ? r(e.value) : i(e.value).then(o, a) } c((n = n.apply(e, t || [])).next()) })) } function l(e, t) { var r, n, i, s, o = { label: 0, sent: function () { if (1 & i[0]) throw i[1]; return i[1] }, trys: [], ops: [] }; return s = { next: a(0), throw: a(1), return: a(2) }, "function" === typeof Symbol && (s[Symbol.iterator] = function () { return this }), s; function a(e) { return function (t) { return c([e, t]) } } function c(s) { if (r) throw new TypeError("Generator is already executing."); while (o) try { if (r = 1, n && (i = 2 & s[0] ? n["return"] : s[0] ? n["throw"] || ((i = n["return"]) && i.call(n), 0) : n.next) && !(i = i.call(n, s[1])).done) return i; switch (n = 0, i && (s = [2 & s[0], i.value]), s[0]) { case 0: case 1: i = s; break; case 4: return o.label++, { value: s[1], done: !1 }; case 5: o.label++, n = s[1], s = [0]; continue; case 7: s = o.ops.pop(), o.trys.pop(); continue; default: if (i = o.trys, !(i = i.length > 0 && i[i.length - 1]) && (6 === s[0] || 2 === s[0])) { o = 0; continue } if (3 === s[0] && (!i || s[1] > i[0] && s[1] < i[3])) { o.label = s[1]; break } if (6 === s[0] && o.label < i[1]) { o.label = i[1], i = s; break } if (i && o.label < i[2]) { o.label = i[2], o.ops.push(s); break } i[2] && o.ops.pop(), o.trys.pop(); continue }s = t.call(e, o) } catch (a) { s = [6, a], n = 0 } finally { r = i = 0 } if (5 & s[0]) throw s[1]; return { value: s[0] ? s[1] : void 0, done: !0 } } } function f(e, t, r, n) { void 0 === n && (n = r), e[n] = t[r] } function d(e, t) { for (var r in e) "default" === r || t.hasOwnProperty(r) || (t[r] = e[r]) } function p(e) { var t = "function" === typeof Symbol && Symbol.iterator, r = t && e[t], n = 0; if (r) return r.call(e); if (e && "number" === typeof e.length) return { next: function () { return e && n >= e.length && (e = void 0), { value: e && e[n++], done: !e } } }; throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.") } function g(e, t) { var r = "function" === typeof Symbol && e[Symbol.iterator]; if (!r) return e; var n, i, s = r.call(e), o = []; try { while ((void 0 === t || t-- > 0) && !(n = s.next()).done) o.push(n.value) } catch (a) { i = { error: a } } finally { try { n && !n.done && (r = s["return"]) && r.call(s) } finally { if (i) throw i.error } } return o } function b() { for (var e = [], t = 0; t < arguments.length; t++)e = e.concat(g(arguments[t])); return e } function y() { for (var e = 0, t = 0, r = arguments.length; t < r; t++)e += arguments[t].length; var n = Array(e), i = 0; for (t = 0; t < r; t++)for (var s = arguments[t], o = 0, a = s.length; o < a; o++, i++)n[i] = s[o]; return n } function v(e) { return this instanceof v ? (this.v = e, this) : new v(e) } function _(e, t, r) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var n, i = r.apply(e, t || []), s = []; return n = {}, o("next"), o("throw"), o("return"), n[Symbol.asyncIterator] = function () { return this }, n; function o(e) { i[e] && (n[e] = function (t) { return new Promise((function (r, n) { s.push([e, t, r, n]) > 1 || a(e, t) })) }) } function a(e, t) { try { c(i[e](t)) } catch (r) { l(s[0][3], r) } } function c(e) { e.value instanceof v ? Promise.resolve(e.value.v).then(u, h) : l(s[0][2], e) } function u(e) { a("next", e) } function h(e) { a("throw", e) } function l(e, t) { e(t), s.shift(), s.length && a(s[0][0], s[0][1]) } } function m(e) { var t, r; return t = {}, n("next"), n("throw", (function (e) { throw e })), n("return"), t[Symbol.iterator] = function () { return this }, t; function n(n, i) { t[n] = e[n] ? function (t) { return (r = !r) ? { value: v(e[n](t)), done: "return" === n } : i ? i(t) : t } : i } } function w(e) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var t, r = e[Symbol.asyncIterator]; return r ? r.call(e) : (e = "function" === typeof p ? p(e) : e[Symbol.iterator](), t = {}, n("next"), n("throw"), n("return"), t[Symbol.asyncIterator] = function () { return this }, t); function n(r) { t[r] = e[r] && function (t) { return new Promise((function (n, s) { t = e[r](t), i(n, s, t.done, t.value) })) } } function i(e, t, r, n) { Promise.resolve(n).then((function (t) { e({ value: t, done: r }) }), t) } } function E(e, t) { return Object.defineProperty ? Object.defineProperty(e, "raw", { value: t }) : e.raw = t, e } function O(e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var r in e) Object.hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.default = e, t } function S(e) { return e && e.__esModule ? e : { default: e } } function I(e, t) { if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance"); return t.get(e) } function j(e, t, r) { if (!t.has(e)) throw new TypeError("attempted to set private field on non-instance"); return t.set(e, r), r }
     }, a054: function (e, t, r) { "use strict"; (function (e, n) { r.d(t, "a", (function () { return v })), r.d(t, "b", (function () { return E })), r.d(t, "c", (function () { return ge })), r.d(t, "d", (function () { return ue })), r.d(t, "e", (function () { return he })), r.d(t, "f", (function () { return C })), r.d(t, "g", (function () { return D })), r.d(t, "h", (function () { return R })), r.d(t, "i", (function () { return M })), r.d(t, "j", (function () { return U })), r.d(t, "k", (function () { return ye })), r.d(t, "l", (function () { return de })), r.d(t, "m", (function () { return se })), r.d(t, "n", (function () { return fe })), r.d(t, "o", (function () { return Ce })), r.d(t, "p", (function () { return P })), r.d(t, "q", (function () { return A })), r.d(t, "r", (function () { return te })), r.d(t, "s", (function () { return Ve })), r.d(t, "t", (function () { return Ee })), r.d(t, "u", (function () { return we })), r.d(t, "v", (function () { return ke })), r.d(t, "w", (function () { return Ke })), r.d(t, "x", (function () { return _e })), r.d(t, "y", (function () { return x })), r.d(t, "z", (function () { return N })), r.d(t, "A", (function () { return Z })), r.d(t, "B", (function () { return ze })), r.d(t, "C", (function () { return Ot })), r.d(t, "D", (function () { return be })), r.d(t, "E", (function () { return Y })), r.d(t, "F", (function () { return et })), r.d(t, "G", (function () { return X })), r.d(t, "H", (function () { return Ye })), r.d(t, "I", (function () { return tt })), r.d(t, "J", (function () { return B })), r.d(t, "K", (function () { return We })), r.d(t, "L", (function () { return Fe })), r.d(t, "M", (function () { return rt })), r.d(t, "N", (function () { return bt })), r.d(t, "O", (function () { return _t })), r.d(t, "P", (function () { return pt })), r.d(t, "Q", (function () { return lt })), r.d(t, "R", (function () { return mt })), r.d(t, "S", (function () { return Et })), r.d(t, "T", (function () { return wt })), r.d(t, "U", (function () { return $e })), r.d(t, "V", (function () { return gt })), r.d(t, "W", (function () { return ft })), r.d(t, "X", (function () { return dt })), r.d(t, "Y", (function () { return yt })), r.d(t, "Z", (function () { return Pt })), r.d(t, "ab", (function () { return ht })), r.d(t, "bb", (function () { return vt })), r.d(t, "cb", (function () { return Je })), r.d(t, "db", (function () { return Qe })), r.d(t, "eb", (function () { return ae })), r.d(t, "fb", (function () { return ve })), r.d(t, "gb", (function () { return ce })), r.d(t, "hb", (function () { return pe })), r.d(t, "ib", (function () { return Be })), r.d(t, "jb", (function () { return xe })), r.d(t, "kb", (function () { return k })), r.d(t, "lb", (function () { return z })); r("14d9"), r("d9e2"), r("5494"); var i = r("7635"), s = r("f4f9"), o = r("e5f1"), a = r("ca74"), c = r("e060"), u = r("226e"), h = r("7b46"), l = r("a383"), f = r("aae3"), d = r("40e5"), p = r("72bf"), g = r("4f40"); function b(e, t) { return e.includes(":") ? [e] : t.chains || [] } const y = "base10", v = "base16", _ = "base64pad", m = "utf8", w = 0, E = 1, O = 0, S = 1, I = 12, j = 32; function P() { const e = c["generateKeyPair"](); return { privateKey: Object(u["toString"])(e.secretKey, v), publicKey: Object(u["toString"])(e.publicKey, v) } } function A() { const e = Object(o["randomBytes"])(j); return Object(u["toString"])(e, v) } function R(e, t) { const r = c["sharedKey"](Object(u["fromString"])(e, v), Object(u["fromString"])(t, v)), n = new s["HKDF"](a["SHA256"], r).expand(j); return Object(u["toString"])(n, v) } function x(e) { const t = Object(a["hash"])(Object(u["fromString"])(e, v)); return Object(u["toString"])(t, v) } function N(e) { const t = Object(a["hash"])(Object(u["fromString"])(e, m)); return Object(u["toString"])(t, v) } function T(e) { return Object(u["fromString"])("" + e, y) } function C(e) { return Number(Object(u["toString"])(e, y)) } function U(e) { const t = T(typeof e.type < "u" ? e.type : w); if (C(t) === E && typeof e.senderPublicKey > "u") throw new Error("Missing sender public key for type 1 envelope"); const r = typeof e.senderPublicKey < "u" ? Object(u["fromString"])(e.senderPublicKey, v) : void 0, n = typeof e.iv < "u" ? Object(u["fromString"])(e.iv, v) : Object(o["randomBytes"])(I), s = new i["ChaCha20Poly1305"](Object(u["fromString"])(e.symKey, v)).seal(n, Object(u["fromString"])(e.message, m)); return L({ type: t, sealed: s, iv: n, senderPublicKey: r }) } function D(e) { const t = new i["ChaCha20Poly1305"](Object(u["fromString"])(e.symKey, v)), { sealed: r, iv: n } = M(e.encoded), s = t.open(n, r); if (null === s) throw new Error("Failed to decrypt"); return Object(u["toString"])(s, m) } function L(e) { if (C(e.type) === E) { if (typeof e.senderPublicKey > "u") throw new Error("Missing sender public key for type 1 envelope"); return Object(u["toString"])(Object(u["concat"])([e.type, e.senderPublicKey, e.iv, e.sealed]), _) } return Object(u["toString"])(Object(u["concat"])([e.type, e.iv, e.sealed]), _) } function M(e) { const t = Object(u["fromString"])(e, _), r = t.slice(O, S), n = S; if (C(r) === E) { const e = n + j, i = e + I, s = t.slice(n, e), o = t.slice(e, i), a = t.slice(i); return { type: r, sealed: a, iv: o, senderPublicKey: s } } const i = n + I, s = t.slice(n, i), o = t.slice(i); return { type: r, sealed: o, iv: s } } function k(e, t) { const r = M(e); return z({ type: C(r.type), senderPublicKey: typeof r.senderPublicKey < "u" ? Object(u["toString"])(r.senderPublicKey, v) : void 0, receiverPublicKey: null === t || void 0 === t ? void 0 : t.receiverPublicKey }) } function z(e) { const t = (null === e || void 0 === e ? void 0 : e.type) || w; if (t === E) { if (typeof (null === e || void 0 === e ? void 0 : e.senderPublicKey) > "u") throw new Error("missing sender public key"); if (typeof (null === e || void 0 === e ? void 0 : e.receiverPublicKey) > "u") throw new Error("missing receiver public key") } return { type: t, senderPublicKey: null === e || void 0 === e ? void 0 : e.senderPublicKey, receiverPublicKey: null === e || void 0 === e ? void 0 : e.receiverPublicKey } } function B(e) { return e.type === E && "string" == typeof e.senderPublicKey && "string" == typeof e.receiverPublicKey } var H = Object.defineProperty, q = Object.getOwnPropertySymbols, V = Object.prototype.hasOwnProperty, K = Object.prototype.propertyIsEnumerable, F = (e, t, r) => t in e ? H(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, $ = (e, t) => { for (var r in t || (t = {})) V.call(t, r) && F(e, r, t[r]); if (q) for (var r of q(t)) K.call(t, r) && F(e, r, t[r]); return e }; const W = "ReactNative", J = { reactNative: "react-native", node: "node", browser: "browser", unknown: "unknown" }, G = "js"; function Y() { return typeof e < "u" && typeof e.versions < "u" && typeof e.versions.node < "u" } function X() { return !Object(f["getDocument"])() && !!Object(f["getNavigator"])() && navigator.product === W } function Z() { return !Y() && !!Object(f["getNavigator"])() } function Q() { return X() ? J.reactNative : Y() ? J.node : Z() ? J.browser : J.unknown } function ee(e, t) { let r = p["parse"](e); return r = $($({}, r), t), e = p["stringify"](r), e } function te() { return Object(d["getWindowMetadata"])() || { name: "", description: "", url: "", icons: [""] } } function re() { const e = Object(h["a"])(); if (null === e) return "unknown"; const t = e.os ? e.os.replace(" ", "").toLowerCase() : "unknown"; return "browser" === e.type ? [t, e.name, e.version].join("-") : [t, e.version].join("-") } function ne() { var e; const t = Q(); return t === J.browser ? [t, (null == (e = Object(f["getLocation"])()) ? void 0 : e.host) || "unknown"].join(":") : t } function ie(e, t, r) { const n = re(), i = ne(); return [[e, t].join("-"), [G, r].join("-"), n, i].join("/") } function se({ protocol: e, version: t, relayUrl: r, sdkVersion: n, auth: i, projectId: s, useOnCloseEvent: o }) { const a = r.split("?"), c = ie(e, t, n), u = { auth: i, ua: c, projectId: s, useOnCloseEvent: o || void 0 }, h = ee(a[1] || "", u); return a[0] + "?" + h } function oe(e, t) { return e.filter(e => t.includes(e)).length === e.length } function ae(e) { return Object.fromEntries(e.entries()) } function ce(e) { return new Map(Object.entries(e)) } function ue(e = l["FIVE_MINUTES"], t) { const r = Object(l["toMiliseconds"])(e || l["FIVE_MINUTES"]); let n, i, s; return { resolve: e => { s && n && (clearTimeout(s), n(e)) }, reject: e => { s && i && (clearTimeout(s), i(e)) }, done: () => new Promise((e, o) => { s = setTimeout(() => { o(new Error(t)) }, r), n = e, i = o }) } } function he(e, t, r) { return new Promise(async (n, i) => { const s = setTimeout(() => i(new Error(r)), t); try { const t = await e; n(t) } catch (o) { i(o) } clearTimeout(s) }) } function le(e, t) { if ("string" == typeof t && t.startsWith(e + ":")) return t; if ("topic" === e.toLowerCase()) { if ("string" != typeof t) throw new Error('Value must be "string" for expirer target type: topic'); return "topic:" + t } if ("id" === e.toLowerCase()) { if ("number" != typeof t) throw new Error('Value must be "number" for expirer target type: id'); return "id:" + t } throw new Error("Unknown expirer target type: " + e) } function fe(e) { return le("topic", e) } function de(e) { return le("id", e) } function pe(e) { const [t, r] = e.split(":"), n = { id: void 0, topic: void 0 }; if ("topic" === t && "string" == typeof r) n.topic = r; else { if ("id" !== t || !Number.isInteger(Number(r))) throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`); n.id = Number(r) } return n } function ge(e, t) { return Object(l["fromMiliseconds"])((t || Date.now()) + Object(l["toMiliseconds"])(e)) } function be(e) { return Date.now() >= Object(l["toMiliseconds"])(e) } function ye(e, t) { return `${e}${t ? ":" + t : ""}` } function ve(e = [], t = []) { return [...new Set([...e, ...t])] } async function _e({ id: e, topic: t, wcDeepLink: r }) { try { if (!r) return; const i = "string" == typeof r ? JSON.parse(r) : r; let s = null === i || void 0 === i ? void 0 : i.href; if ("string" != typeof s) return; s.endsWith("/") && (s = s.slice(0, -1)); const o = `${s}/wc?requestId=${e}&sessionTopic=${t}`, a = Q(); a === J.browser ? window.open(o, "_self", "noreferrer noopener") : a === J.reactNative && typeof (null == n ? void 0 : n.Linking) < "u" && await n.Linking.openURL(o) } catch (i) { console.error(i) } } const me = "irn"; function we(e) { return (null === e || void 0 === e ? void 0 : e.relay) || { protocol: me } } function Ee(e) { const t = g["RELAY_JSONRPC"][e]; if (typeof t > "u") throw new Error("Relay Protocol not supported: " + e); return t } var Oe = Object.defineProperty, Se = Object.getOwnPropertySymbols, Ie = Object.prototype.hasOwnProperty, je = Object.prototype.propertyIsEnumerable, Pe = (e, t, r) => t in e ? Oe(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, Ae = (e, t) => { for (var r in t || (t = {})) Ie.call(t, r) && Pe(e, r, t[r]); if (Se) for (var r of Se(t)) je.call(t, r) && Pe(e, r, t[r]); return e }; function Re(e, t = "-") { const r = {}, n = "relay" + t; return Object.keys(e).forEach(t => { if (t.startsWith(n)) { const i = t.replace(n, ""), s = e[t]; r[i] = s } }), r } function xe(e) { const t = e.indexOf(":"), r = -1 !== e.indexOf("?") ? e.indexOf("?") : void 0, n = e.substring(0, t), i = e.substring(t + 1, r).split("@"), s = typeof r < "u" ? e.substring(r) : "", o = p["parse"](s); return { protocol: n, topic: Ne(i[0]), version: parseInt(i[1], 10), symKey: o.symKey, relay: Re(o) } } function Ne(e) { return e.startsWith("//") ? e.substring(2) : e } function Te(e, t = "-") { const r = "relay", n = {}; return Object.keys(e).forEach(i => { const s = r + t + i; e[i] && (n[s] = e[i]) }), n } function Ce(e) { return `${e.protocol}:${e.topic}@${e.version}?` + p["stringify"](Ae({ symKey: e.symKey }, Te(e.relay))) } Object.defineProperty, Object.defineProperties, Object.getOwnPropertyDescriptors, Object.getOwnPropertySymbols, Object.prototype.hasOwnProperty, Object.prototype.propertyIsEnumerable; function Ue(e) { const t = []; return e.forEach(e => { const [r, n] = e.split(":"); t.push(`${r}:${n}`) }), t } function De(e) { const t = []; return Object.values(e).forEach(e => { t.push(...Ue(e.accounts)) }), t } function Le(e, t) { const r = []; return Object.values(e).forEach(e => { Ue(e.accounts).includes(t) && r.push(...e.methods) }), r } function Me(e, t) { const r = []; return Object.values(e).forEach(e => { Ue(e.accounts).includes(t) && r.push(...e.events) }), r } function ke(e, t) { const r = lt(e, t); if (r) throw new Error(r.message); const n = {}; for (const [i, s] of Object.entries(e)) n[i] = { methods: s.methods, events: s.events, chains: s.accounts.map(e => `${e.split(":")[0]}:${e.split(":")[1]}`) }; return n } function ze(e) { return e.includes(":") } function Be(e) { return ze(e) ? e.split(":")[0] : e } const He = { INVALID_METHOD: { message: "Invalid method.", code: 1001 }, INVALID_EVENT: { message: "Invalid event.", code: 1002 }, INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 }, INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 }, INVALID_SESSION_SETTLE_REQUEST: { message: "Invalid session settle request.", code: 1005 }, UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 }, UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 }, UNAUTHORIZED_UPDATE_REQUEST: { message: "Unauthorized update request.", code: 3003 }, UNAUTHORIZED_EXTEND_REQUEST: { message: "Unauthorized extend request.", code: 3004 }, USER_REJECTED: { message: "User rejected.", code: 5e3 }, USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 }, USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 }, USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 }, UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 }, UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 }, UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 }, UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 }, UNSUPPORTED_NAMESPACE_KEY: { message: "Unsupported namespace key.", code: 5104 }, USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 }, SESSION_SETTLEMENT_FAILED: { message: "Session settlement failed.", code: 7e3 }, WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 } }, qe = { NOT_INITIALIZED: { message: "Not initialized.", code: 1 }, NO_MATCHING_KEY: { message: "No matching key.", code: 2 }, RESTORE_WILL_OVERRIDE: { message: "Restore will override.", code: 3 }, RESUBSCRIBED: { message: "Resubscribed.", code: 4 }, MISSING_OR_INVALID: { message: "Missing or invalid.", code: 5 }, EXPIRED: { message: "Expired.", code: 6 }, UNKNOWN_TYPE: { message: "Unknown type.", code: 7 }, MISMATCHED_TOPIC: { message: "Mismatched topic.", code: 8 }, NON_CONFORMING_NAMESPACES: { message: "Non conforming namespaces.", code: 9 } }; function Ve(e, t) { const { message: r, code: n } = qe[e]; return { message: t ? `${r} ${t}` : r, code: n } } function Ke(e, t) { const { message: r, code: n } = He[e]; return { message: t ? `${r} ${t}` : r, code: n } } function Fe(e, t) { return !!Array.isArray(e) && (!(typeof t < "u" && e.length) || e.every(t)) } function $e(e) { return Object.getPrototypeOf(e) === Object.prototype && Object.keys(e).length } function We(e) { return typeof e > "u" } function Je(e, t) { return !(!t || !We(e)) || "string" == typeof e && !!e.trim().length } function Ge(e, t) { return !(!t || !We(e)) || "number" == typeof e && !isNaN(e) } function Ye(e, t) { const { requiredNamespaces: r } = t, n = Object.keys(e.namespaces), i = Object.keys(r); let s = !0; return !!oe(i, n) && (n.forEach(t => { const { accounts: n, methods: i, events: o } = e.namespaces[t], a = Ue(n), c = r[t]; (!oe(b(t, c), a) || !oe(c.methods, i) || !oe(c.events, o)) && (s = !1) }), s) } function Xe(e) { return !(!Je(e, !1) || !e.includes(":")) && 2 === e.split(":").length } function Ze(e) { if (Je(e, !1) && e.includes(":")) { const t = e.split(":"); if (3 === t.length) { const e = t[0] + ":" + t[1]; return !!t[2] && Xe(e) } } return !1 } function Qe(e) { if (Je(e, !1)) try { return typeof new URL(e) < "u" } catch { return !1 } return !1 } function et(e) { var t; return null == (t = null === e || void 0 === e ? void 0 : e.proposer) ? void 0 : t.publicKey } function tt(e) { return null === e || void 0 === e ? void 0 : e.topic } function rt(e, t) { let r = null; return Je(null === e || void 0 === e ? void 0 : e.publicKey, !1) || (r = Ve("MISSING_OR_INVALID", t + " controller public key should be a string")), r } function nt(e) { let t = !0; return Fe(e) ? e.length && (t = e.every(e => Je(e, !1))) : t = !1, t } function it(e, t, r) { let n = null; return Fe(t) ? t.forEach(t => { n || (!Xe(t) || !t.includes(e)) && (n = Ke("UNSUPPORTED_CHAINS", `${r}, chain ${t} should be a string and conform to "namespace:chainId" format`)) }) : n = Ke("UNSUPPORTED_CHAINS", `${r}, chains ${t} should be an array of strings conforming to "namespace:chainId" format`), n } function st(e, t) { let r = null; return Object.entries(e).forEach(([e, n]) => { if (r) return; const i = it(e, b(e, n), t + " requiredNamespace"); i && (r = i) }), r } function ot(e, t) { let r = null; return Fe(e) ? e.forEach(e => { r || Ze(e) || (r = Ke("UNSUPPORTED_ACCOUNTS", `${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`)) }) : r = Ke("UNSUPPORTED_ACCOUNTS", t + ', accounts should be an array of strings conforming to "namespace:chainId:address" format'), r } function at(e, t) { let r = null; return Object.values(e).forEach(e => { if (r) return; const n = ot(null === e || void 0 === e ? void 0 : e.accounts, t + " namespace"); n && (r = n) }), r } function ct(e, t) { let r = null; return nt(null === e || void 0 === e ? void 0 : e.methods) ? nt(null === e || void 0 === e ? void 0 : e.events) || (r = Ke("UNSUPPORTED_EVENTS", t + ", events should be an array of strings or empty array for no events")) : r = Ke("UNSUPPORTED_METHODS", t + ", methods should be an array of strings or empty array for no methods"), r } function ut(e, t) { let r = null; return Object.values(e).forEach(e => { if (r) return; const n = ct(e, t + ", namespace"); n && (r = n) }), r } function ht(e, t, r) { let n = null; if (e && $e(e)) { const r = ut(e, t); r && (n = r); const i = st(e, t); i && (n = i) } else n = Ve("MISSING_OR_INVALID", `${t}, ${r} should be an object with data`); return n } function lt(e, t) { let r = null; if (e && $e(e)) { const n = ut(e, t); n && (r = n); const i = at(e, t); i && (r = i) } else r = Ve("MISSING_OR_INVALID", t + ", namespaces should be an object with data"); return r } function ft(e) { return Je(e.protocol, !0) } function dt(e, t) { let r = !1; return t && !e ? r = !0 : e && Fe(e) && e.length && e.forEach(e => { r = ft(e) }), r } function pt(e) { return "number" == typeof e } function gt(e) { return typeof e < "u" && null !== typeof e } function bt(e) { return !(!e || "object" != typeof e || !e.code || !Ge(e.code, !1) || !e.message || !Je(e.message, !1)) } function yt(e) { return !(We(e) || !Je(e.method, !1)) } function vt(e) { return !(We(e) || We(e.result) && We(e.error) || !Ge(e.id, !1) || !Je(e.jsonrpc, !1)) } function _t(e) { return !(We(e) || !Je(e.name, !1)) } function mt(e, t) { return !(!Xe(t) || !De(e).includes(t)) } function wt(e, t, r) { return !!Je(r, !1) && Le(e, t).includes(r) } function Et(e, t, r) { return !!Je(r, !1) && Me(e, t).includes(r) } function Ot(e, t, r) { let n = null; const i = St(e), s = jt(t), o = Object.keys(i), a = Object.keys(s), c = It(Object.keys(e)), u = It(Object.keys(t)), h = c.filter(e => !u.includes(e)); return h.length && (n = Ve("NON_CONFORMING_NAMESPACES", `${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${h.toString()}\n      Received: ${Object.keys(t).toString()}`)), oe(o, a) || (n = Ve("NON_CONFORMING_NAMESPACES", `${r} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)), Object.keys(t).forEach(e => { if (!e.includes(":") || n) return; const i = Ue(t[e].accounts); i.includes(e) || (n = Ve("NON_CONFORMING_NAMESPACES", `${r} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`)) }), o.forEach(e => { n || (oe(i[e].methods, s[e].methods) ? oe(i[e].events, s[e].events) || (n = Ve("NON_CONFORMING_NAMESPACES", `${r} namespaces events don't satisfy namespace events for ${e}`)) : n = Ve("NON_CONFORMING_NAMESPACES", `${r} namespaces methods don't satisfy namespace methods for ${e}`)) }), n } function St(e) { const t = {}; return Object.keys(e).forEach(r => { var n; r.includes(":") ? t[r] = e[r] : null == (n = e[r].chains) || n.forEach(n => { t[n] = { methods: e[r].methods, events: e[r].events } }) }), t } function It(e) { return [...new Set(e.map(e => e.includes(":") ? e.split(":")[0] : e))] } function jt(e) { const t = {}; return Object.keys(e).forEach(r => { if (r.includes(":")) t[r] = e[r]; else { const n = Ue(e[r].accounts); null === n || void 0 === n || n.forEach(n => { t[n] = { accounts: e[r].accounts.filter(e => e.includes(n + ":")), methods: e[r].methods, events: e[r].events } }) } }), t } function Pt(e, t) { return Ge(e, !1) && e <= t.max && e >= t.min } }).call(this, r("4362"), r("c8ba")) }, a258: function (e, t, r) { var n = r("0366"), i = r("44ad"), s = r("7b0b"), o = r("07fa"), a = function (e) { var t = 1 == e; return function (r, a, c) { var u, h, l = s(r), f = i(l), d = n(a, c), p = o(f); while (p-- > 0) if (u = f[p], h = d(u, p, l), h) switch (e) { case 0: return u; case 1: return p }return t ? -1 : void 0 } }; e.exports = { findLast: a(0), findLastIndex: a(1) } }, a28f: function (e, t, r) { "use strict"; const n = r("3d5f"); e.exports = a; const i = S().console || {}, s = { mapHttpRequest: y, mapHttpResponse: y, wrapRequestSerializer: v, wrapResponseSerializer: v, wrapErrorSerializer: v, req: y, res: y, err: g }; function o(e, t) { if (Array.isArray(e)) { const t = e.filter((function (e) { return "!stdSerializers.err" !== e })); return t } return !0 === e && Object.keys(t) } function a(e) { e = e || {}, e.browser = e.browser || {}; const t = e.browser.transmit; if (t && "function" !== typeof t.send) throw Error("pino: transmit option must have a send function"); const r = e.browser.write || i; e.browser.write && (e.browser.asObject = !0); const n = e.serializers || {}, s = o(e.browser.serialize, n); let u = e.browser.serialize; Array.isArray(e.browser.serialize) && e.browser.serialize.indexOf("!stdSerializers.err") > -1 && (u = !1); const h = ["error", "fatal", "warn", "info", "debug", "trace"]; "function" === typeof r && (r.error = r.fatal = r.warn = r.info = r.debug = r.trace = r), !1 === e.enabled && (e.level = "silent"); const d = e.level || "info", g = Object.create(r); g.log || (g.log = _), Object.defineProperty(g, "levelVal", { get: v }), Object.defineProperty(g, "level", { get: m, set: w }); const y = { transmit: t, serialize: s, asObject: e.browser.asObject, levels: h, timestamp: b(e) }; function v() { return "silent" === this.level ? 1 / 0 : this.levels.values[this.level] } function m() { return this._level } function w(e) { if ("silent" !== e && !this.levels.values[e]) throw Error("unknown level " + e); this._level = e, c(y, g, "error", "log"), c(y, g, "fatal", "error"), c(y, g, "warn", "error"), c(y, g, "info", "log"), c(y, g, "debug", "log"), c(y, g, "trace", "log") } function E(r, i) { if (!r) throw new Error("missing bindings for child Pino"); i = i || {}, s && r.serializers && (i.serializers = r.serializers); const o = i.serializers; if (s && o) { var a = Object.assign({}, n, o), c = !0 === e.browser.serialize ? Object.keys(a) : s; delete r.serializers, l([r], c, a, this._stdErrSerialize) } function u(e) { this._childLevel = 1 + (0 | e._childLevel), this.error = f(e, r, "error"), this.fatal = f(e, r, "fatal"), this.warn = f(e, r, "warn"), this.info = f(e, r, "info"), this.debug = f(e, r, "debug"), this.trace = f(e, r, "trace"), a && (this.serializers = a, this._serialize = c), t && (this._logEvent = p([].concat(e._logEvent.bindings, r))) } return u.prototype = this, new u(this) } return g.levels = a.levels, g.level = d, g.setMaxListeners = g.getMaxListeners = g.emit = g.addListener = g.on = g.prependListener = g.once = g.prependOnceListener = g.removeListener = g.removeAllListeners = g.listeners = g.listenerCount = g.eventNames = g.write = g.flush = _, g.serializers = n, g._serialize = s, g._stdErrSerialize = u, g.child = E, t && (g._logEvent = p()), g } function c(e, t, r, n) { const s = Object.getPrototypeOf(t); t[r] = t.levelVal > t.levels.values[r] ? _ : s[r] ? s[r] : i[r] || i[n] || _, u(e, t, r) } function u(e, t, r) { (e.transmit || t[r] !== _) && (t[r] = function (n) { return function () { const s = e.timestamp(), o = new Array(arguments.length), c = Object.getPrototypeOf && Object.getPrototypeOf(this) === i ? i : this; for (var u = 0; u < o.length; u++)o[u] = arguments[u]; if (e.serialize && !e.asObject && l(o, this._serialize, this.serializers, this._stdErrSerialize), e.asObject ? n.call(c, h(this, r, o, s)) : n.apply(c, o), e.transmit) { const n = e.transmit.level || t.level, i = a.levels.values[n], c = a.levels.values[r]; if (c < i) return; d(this, { ts: s, methodLevel: r, methodValue: c, transmitLevel: n, transmitValue: a.levels.values[e.transmit.level || t.level], send: e.transmit.send, val: t.levelVal }, o) } } }(t[r])) } function h(e, t, r, i) { e._serialize && l(r, e._serialize, e.serializers, e._stdErrSerialize); const s = r.slice(); let o = s[0]; const c = {}; i && (c.time = i), c.level = a.levels.values[t]; let u = 1 + (0 | e._childLevel); if (u < 1 && (u = 1), null !== o && "object" === typeof o) { while (u-- && "object" === typeof s[0]) Object.assign(c, s.shift()); o = s.length ? n(s.shift(), s) : void 0 } else "string" === typeof o && (o = n(s.shift(), s)); return void 0 !== o && (c.msg = o), c } function l(e, t, r, n) { for (const i in e) if (n && e[i] instanceof Error) e[i] = a.stdSerializers.err(e[i]); else if ("object" === typeof e[i] && !Array.isArray(e[i])) for (const n in e[i]) t && t.indexOf(n) > -1 && n in r && (e[i][n] = r[n](e[i][n])) } function f(e, t, r) { return function () { const n = new Array(1 + arguments.length); n[0] = t; for (var i = 1; i < n.length; i++)n[i] = arguments[i - 1]; return e[r].apply(this, n) } } function d(e, t, r) { const n = t.send, i = t.ts, s = t.methodLevel, o = t.methodValue, a = t.val, c = e._logEvent.bindings; l(r, e._serialize || Object.keys(e.serializers), e.serializers, void 0 === e._stdErrSerialize || e._stdErrSerialize), e._logEvent.ts = i, e._logEvent.messages = r.filter((function (e) { return -1 === c.indexOf(e) })), e._logEvent.level.label = s, e._logEvent.level.value = o, n(s, e._logEvent, a), e._logEvent = p(c) } function p(e) { return { ts: 0, messages: [], bindings: e || [], level: { label: "", value: 0 } } } function g(e) { const t = { type: e.constructor.name, msg: e.message, stack: e.stack }; for (const r in e) void 0 === t[r] && (t[r] = e[r]); return t } function b(e) { return "function" === typeof e.timestamp ? e.timestamp : !1 === e.timestamp ? m : w } function y() { return {} } function v(e) { return e } function _() { } function m() { return !1 } function w() { return Date.now() } function E() { return Math.round(Date.now() / 1e3) } function O() { return new Date(Date.now()).toISOString() } function S() { function e(e) { return "undefined" !== typeof e && e } try { return "undefined" !== typeof globalThis || Object.defineProperty(Object.prototype, "globalThis", { get: function () { return delete Object.prototype.globalThis, this.globalThis = this }, configurable: !0 }), globalThis } catch (t) { return e(self) || e(window) || e(this) || {} } } a.levels = { values: { fatal: 60, error: 50, warn: 40, info: 30, debug: 20, trace: 10 }, labels: { 10: "trace", 20: "debug", 30: "info", 40: "warn", 50: "error", 60: "fatal" } }, a.stdSerializers = s, a.stdTimeFunctions = Object.assign({}, { nullTime: m, epochTime: w, unixTime: E, isoTime: O }) }, a383: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = r("9ab4"); n.__exportStar(r("97db"), t), n.__exportStar(r("7f0c"), t), n.__exportStar(r("b830"), t), n.__exportStar(r("0e4f"), t) }, a55b: function (e, t, r) { "use strict"; r.d(t, "a", (function () { return s })); r("d9e2"); var n = r("faa1"), i = r("18cd"); class s extends i["IJsonRpcProvider"]{ constructor(e) { super(e), this.events = new n["EventEmitter"], this.hasRegisteredEventListeners = !1, this.connection = this.setConnection(e), this.connection.connected && this.registerEventListeners() } async connect(e = this.connection) { await this.open(e) } async disconnect() { await this.close() } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } async request(e, t) { return this.requestStrict(Object(i["formatJsonRpcRequest"])(e.method, e.params || [], e.id || Object(i["getBigIntRpcId"])().toString()), t) } async requestStrict(e, t) { return new Promise(async (r, n) => { if (!this.connection.connected) try { await this.open() } catch (s) { n(s) } this.events.on("" + e.id, e => { Object(i["isJsonRpcError"])(e) ? n(e.error) : r(e.result) }); try { await this.connection.send(e, t) } catch (s) { n(s) } }) } setConnection(e = this.connection) { return e } onPayload(e) { this.events.emit("payload", e), Object(i["isJsonRpcResponse"])(e) ? this.events.emit("" + e.id, e) : this.events.emit("message", { type: e.method, data: e.params }) } onClose(e) { e && 3e3 === e.code && this.events.emit("error", new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason ? `(${e.reason})` : ""}`)), this.events.emit("disconnect") } async open(e = this.connection) { this.connection === e && this.connection.connected || (this.connection.connected && this.close(), "string" === typeof e && (await this.connection.open(e), e = this.connection), this.connection = this.setConnection(e), await this.connection.open(), this.registerEventListeners(), this.events.emit("connect")) } async close() { await this.connection.close() } registerEventListeners() { this.hasRegisteredEventListeners || (this.connection.on("payload", e => this.onPayload(e)), this.connection.on("close", e => this.onClose(e)), this.connection.on("error", e => this.events.emit("error", e)), this.connection.on("register_error", e => this.onClose()), this.hasRegisteredEventListeners = !0) } } }, a60c: function (e, t, r) { "use strict"; r.d(t, "a", (function () { return f })); r("d9e2"); var n = r("faa1"), i = r("5d61"), s = r.n(i), o = r("cbe5"), a = r("18cd"); const c = { Accept: "application/json", "Content-Type": "application/json" }, u = "POST", h = { headers: c, method: u }, l = 10; class f { constructor(e, t = !1) { if (this.url = e, this.disableProviderPing = t, this.events = new n["EventEmitter"], this.isAvailable = !1, this.registering = !1, !Object(a["isHttpUrl"])(e)) throw new Error("Provided URL is not compatible with HTTP connection: " + e); this.url = e, this.disableProviderPing = t } get connected() { return this.isAvailable } get connecting() { return this.registering } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } async open(e = this.url) { await this.register(e) } async close() { if (!this.isAvailable) throw new Error("Connection already closed"); this.onClose() } async send(e, t) { this.isAvailable || await this.register(); try { const t = Object(o["b"])(e), r = await s()(this.url, Object.assign(Object.assign({}, h), { body: t })), n = await r.json(); this.onPayload({ data: n }) } catch (r) { this.onError(e.id, r) } } async register(e = this.url) { if (!Object(a["isHttpUrl"])(e)) throw new Error("Provided URL is not compatible with HTTP connection: " + e); if (this.registering) { const e = this.events.getMaxListeners(); return (this.events.listenerCount("register_error") >= e || this.events.listenerCount("open") >= e) && this.events.setMaxListeners(e + 1), new Promise((e, t) => { this.events.once("register_error", e => { this.resetMaxListeners(), t(e) }), this.events.once("open", () => { if (this.resetMaxListeners(), "undefined" === typeof this.isAvailable) return t(new Error("HTTP connection is missing or invalid")); e() }) }) } this.url = e, this.registering = !0; try { if (!this.disableProviderPing) { const t = Object(o["b"])({ id: 1, jsonrpc: "2.0", method: "test", params: [] }); await s()(e, Object.assign(Object.assign({}, h), { body: t })) } this.onOpen() } catch (t) { const e = this.parseError(t); throw this.events.emit("register_error", e), this.onClose(), e } } onOpen() { this.isAvailable = !0, this.registering = !1, this.events.emit("open") } onClose() { this.isAvailable = !1, this.registering = !1, this.events.emit("close") } onPayload(e) { if ("undefined" === typeof e.data) return; const t = "string" === typeof e.data ? Object(o["a"])(e.data) : e.data; this.events.emit("payload", t) } onError(e, t) { const r = this.parseError(t), n = r.message || r.toString(), i = Object(a["formatJsonRpcError"])(e, n); this.events.emit("payload", i) } parseError(e, t = this.url) { return Object(a["parseConnectionError"])(e, t, "HTTP") } resetMaxListeners() { this.events.getMaxListeners() > l && this.events.setMaxListeners(l) } } var d = f; t["b"] = d }, a80d: function (e, t, r) { "use strict" }, a828: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("67b0"), i = r("d029"); function s(e, t) { t || (t = e.reduce((e, t) => e + t.length, 0)); const r = n.allocUnsafe(t); let s = 0; for (const n of e) r.set(n, s), s += n.length; return i.asUint8Array(r) } t.concat = s }, aa51: function (e, t, r) { "use strict"; r.d(t, "a", (function () { return on })), r.d(t, "b", (function () { return Pn })); r("d9e2"), r("14d9"), r("907a"), r("986a"), r("1d02"), r("3c5d"), r("6ce5"), r("2834"), r("4ea1"), r("13d5"); var n = r("faa1"), i = r.n(n), s = r("b452"), o = r.n(s), a = r("3d1f"), c = r("0391"), u = r("db00"); class h extends u["IEvents"]{ constructor(e) { super(), this.opts = e, this.protocol = "wc", this.version = 2 } } class l extends u["IEvents"]{ constructor(e, t) { super(), this.core = e, this.logger = t, this.records = new Map } } class f { constructor(e, t) { this.logger = e, this.core = t } } class d extends u["IEvents"]{ constructor(e, t) { super(), this.relayer = e, this.logger = t } } class p extends u["IEvents"]{ constructor(e) { super() } } class g { constructor(e, t, r, n) { this.core = e, this.logger = t, this.name = r } } class b extends u["IEvents"]{ constructor(e, t) { super(), this.relayer = e, this.logger = t } } class y extends u["IEvents"]{ constructor(e, t) { super(), this.core = e, this.logger = t } } class v { constructor(e, t) { this.projectId = e, this.logger = t } } i.a; class _ { constructor(e) { this.opts = e, this.protocol = "wc", this.version = 2 } } n["EventEmitter"]; class m { constructor(e) { this.client = e } } var w = r("cbe5"), E = r("1db5"), O = r("a054"), S = r("226e"), I = r("a383"), j = r("a55b"), P = r("18cd"), A = r("9480"), R = A["a"], x = r("5da1"), N = r.n(x); function T(e, t) { if (e.length >= 255) throw new TypeError("Alphabet too long"); for (var r = new Uint8Array(256), n = 0; n < r.length; n++)r[n] = 255; for (var i = 0; i < e.length; i++) { var s = e.charAt(i), o = s.charCodeAt(0); if (255 !== r[o]) throw new TypeError(s + " is ambiguous"); r[o] = i } var a = e.length, c = e.charAt(0), u = Math.log(a) / Math.log(256), h = Math.log(256) / Math.log(a); function l(t) { if (t instanceof Uint8Array || (ArrayBuffer.isView(t) ? t = new Uint8Array(t.buffer, t.byteOffset, t.byteLength) : Array.isArray(t) && (t = Uint8Array.from(t))), !(t instanceof Uint8Array)) throw new TypeError("Expected Uint8Array"); if (0 === t.length) return ""; for (var r = 0, n = 0, i = 0, s = t.length; i !== s && 0 === t[i];)i++, r++; for (var o = (s - i) * h + 1 >>> 0, u = new Uint8Array(o); i !== s;) { for (var l = t[i], f = 0, d = o - 1; (0 !== l || f < n) && -1 !== d; d--, f++)l += 256 * u[d] >>> 0, u[d] = l % a >>> 0, l = l / a >>> 0; if (0 !== l) throw new Error("Non-zero carry"); n = f, i++ } for (var p = o - n; p !== o && 0 === u[p];)p++; for (var g = c.repeat(r); p < o; ++p)g += e.charAt(u[p]); return g } function f(e) { if ("string" != typeof e) throw new TypeError("Expected String"); if (0 === e.length) return new Uint8Array; var t = 0; if (" " !== e[t]) { for (var n = 0, i = 0; e[t] === c;)n++, t++; for (var s = (e.length - t) * u + 1 >>> 0, o = new Uint8Array(s); e[t];) { var h = r[e.charCodeAt(t)]; if (255 === h) return; for (var l = 0, f = s - 1; (0 !== h || l < i) && -1 !== f; f--, l++)h += a * o[f] >>> 0, o[f] = h % 256 >>> 0, h = h / 256 >>> 0; if (0 !== h) throw new Error("Non-zero carry"); i = l, t++ } if (" " !== e[t]) { for (var d = s - i; d !== s && 0 === o[d];)d++; for (var p = new Uint8Array(n + (s - d)), g = n; d !== s;)p[g++] = o[d++]; return p } } } function d(e) { var r = f(e); if (r) return r; throw new Error(`Non-${t} character`) } return { encode: l, decodeUnsafe: f, decode: d } } var C = T, U = C; const D = e => { if (e instanceof Uint8Array && "Uint8Array" === e.constructor.name) return e; if (e instanceof ArrayBuffer) return new Uint8Array(e); if (ArrayBuffer.isView(e)) return new Uint8Array(e.buffer, e.byteOffset, e.byteLength); throw new Error("Unknown type, must be binary type") }, L = e => (new TextEncoder).encode(e), M = e => (new TextDecoder).decode(e); class k { constructor(e, t, r) { this.name = e, this.prefix = t, this.baseEncode = r } encode(e) { if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`; throw Error("Unknown type, must be binary type") } } class z { constructor(e, t, r) { if (this.name = e, this.prefix = t, void 0 === t.codePointAt(0)) throw new Error("Invalid prefix character"); this.prefixCodePoint = t.codePointAt(0), this.baseDecode = r } decode(e) { if ("string" == typeof e) { if (e.codePointAt(0) !== this.prefixCodePoint) throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`); return this.baseDecode(e.slice(this.prefix.length)) } throw Error("Can only multibase decode strings") } or(e) { return H(this, e) } } class B { constructor(e) { this.decoders = e } or(e) { return H(this, e) } decode(e) { const t = e[0], r = this.decoders[t]; if (r) return r.decode(e); throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`) } } const H = (e, t) => new B({ ...e.decoders || { [e.prefix]: e }, ...t.decoders || { [t.prefix]: t } }); class q { constructor(e, t, r, n) { this.name = e, this.prefix = t, this.baseEncode = r, this.baseDecode = n, this.encoder = new k(e, t, r), this.decoder = new z(e, t, n) } encode(e) { return this.encoder.encode(e) } decode(e) { return this.decoder.decode(e) } } const V = ({ name: e, prefix: t, encode: r, decode: n }) => new q(e, t, r, n), K = ({ prefix: e, name: t, alphabet: r }) => { const { encode: n, decode: i } = U(r, t); return V({ prefix: e, name: t, encode: n, decode: e => D(i(e)) }) }, F = (e, t, r, n) => { const i = {}; for (let h = 0; h < t.length; ++h)i[t[h]] = h; let s = e.length; for (; "=" === e[s - 1];)--s; const o = new Uint8Array(s * r / 8 | 0); let a = 0, c = 0, u = 0; for (let h = 0; h < s; ++h) { const t = i[e[h]]; if (void 0 === t) throw new SyntaxError(`Non-${n} character`); c = c << r | t, a += r, a >= 8 && (a -= 8, o[u++] = 255 & c >> a) } if (a >= r || 255 & c << 8 - a) throw new SyntaxError("Unexpected end of data"); return o }, $ = (e, t, r) => { const n = "=" === t[t.length - 1], i = (1 << r) - 1; let s = "", o = 0, a = 0; for (let c = 0; c < e.length; ++c)for (a = a << 8 | e[c], o += 8; o > r;)o -= r, s += t[i & a >> o]; if (o && (s += t[i & a << r - o]), n) for (; s.length * r & 7;)s += "="; return s }, W = ({ name: e, prefix: t, bitsPerChar: r, alphabet: n }) => V({ prefix: t, name: e, encode(e) { return $(e, n, r) }, decode(t) { return F(t, n, r, e) } }), J = V({ prefix: "\0", name: "identity", encode: e => M(e), decode: e => L(e) }); var G = Object.freeze({ __proto__: null, identity: J }); const Y = W({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 }); var X = Object.freeze({ __proto__: null, base2: Y }); const Z = W({ prefix: "7", name: "base8", alphabet: "01234567", bitsPerChar: 3 }); var Q = Object.freeze({ __proto__: null, base8: Z }); const ee = K({ prefix: "9", name: "base10", alphabet: "0123456789" }); var te = Object.freeze({ __proto__: null, base10: ee }); const re = W({ prefix: "f", name: "base16", alphabet: "0123456789abcdef", bitsPerChar: 4 }), ne = W({ prefix: "F", name: "base16upper", alphabet: "0123456789ABCDEF", bitsPerChar: 4 }); var ie = Object.freeze({ __proto__: null, base16: re, base16upper: ne }); const se = W({ prefix: "b", name: "base32", alphabet: "abcdefghijklmnopqrstuvwxyz234567", bitsPerChar: 5 }), oe = W({ prefix: "B", name: "base32upper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567", bitsPerChar: 5 }), ae = W({ prefix: "c", name: "base32pad", alphabet: "abcdefghijklmnopqrstuvwxyz234567=", bitsPerChar: 5 }), ce = W({ prefix: "C", name: "base32padupper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=", bitsPerChar: 5 }), ue = W({ prefix: "v", name: "base32hex", alphabet: "0123456789abcdefghijklmnopqrstuv", bitsPerChar: 5 }), he = W({ prefix: "V", name: "base32hexupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV", bitsPerChar: 5 }), le = W({ prefix: "t", name: "base32hexpad", alphabet: "0123456789abcdefghijklmnopqrstuv=", bitsPerChar: 5 }), fe = W({ prefix: "T", name: "base32hexpadupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=", bitsPerChar: 5 }), de = W({ prefix: "h", name: "base32z", alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769", bitsPerChar: 5 }); var pe = Object.freeze({ __proto__: null, base32: se, base32upper: oe, base32pad: ae, base32padupper: ce, base32hex: ue, base32hexupper: he, base32hexpad: le, base32hexpadupper: fe, base32z: de }); const ge = K({ prefix: "k", name: "base36", alphabet: "0123456789abcdefghijklmnopqrstuvwxyz" }), be = K({ prefix: "K", name: "base36upper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ" }); var ye = Object.freeze({ __proto__: null, base36: ge, base36upper: be }); const ve = K({ name: "base58btc", prefix: "z", alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz" }), _e = K({ name: "base58flickr", prefix: "Z", alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ" }); var me = Object.freeze({ __proto__: null, base58btc: ve, base58flickr: _e }); const we = W({ prefix: "m", name: "base64", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", bitsPerChar: 6 }), Ee = W({ prefix: "M", name: "base64pad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", bitsPerChar: 6 }), Oe = W({ prefix: "u", name: "base64url", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_", bitsPerChar: 6 }), Se = W({ prefix: "U", name: "base64urlpad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=", bitsPerChar: 6 }); var Ie = Object.freeze({ __proto__: null, base64: we, base64pad: Ee, base64url: Oe, base64urlpad: Se }); const je = Array.from(""), Pe = je.reduce((e, t, r) => (e[r] = t, e), []), Ae = je.reduce((e, t, r) => (e[t.codePointAt(0)] = r, e), []); function Re(e) { return e.reduce((e, t) => (e += Pe[t], e), "") } function xe(e) { const t = []; for (const r of e) { const e = Ae[r.codePointAt(0)]; if (void 0 === e) throw new Error("Non-base256emoji character: " + r); t.push(e) } return new Uint8Array(t) } const Ne = V({ prefix: "", name: "base256emoji", encode: Re, decode: xe }); var Te = Object.freeze({ __proto__: null, base256emoji: Ne }), Ce = ke, Ue = 128, De = 127, Le = ~De, Me = Math.pow(2, 31); function ke(e, t, r) { t = t || [], r = r || 0; for (var n = r; e >= Me;)t[r++] = 255 & e | Ue, e /= 128; for (; e & Le;)t[r++] = 255 & e | Ue, e >>>= 7; return t[r] = 0 | e, ke.bytes = r - n + 1, t } var ze = qe, Be = 128, He = 127; function qe(e, t) { var r, n = 0, i = (t = t || 0, 0), s = t, o = e.length; do { if (s >= o) throw qe.bytes = 0, new RangeError("Could not decode varint"); r = e[s++], n += i < 28 ? (r & He) << i : (r & He) * Math.pow(2, i), i += 7 } while (r >= Be); return qe.bytes = s - t, n } var Ve = Math.pow(2, 7), Ke = Math.pow(2, 14), Fe = Math.pow(2, 21), $e = Math.pow(2, 28), We = Math.pow(2, 35), Je = Math.pow(2, 42), Ge = Math.pow(2, 49), Ye = Math.pow(2, 56), Xe = Math.pow(2, 63), Ze = function (e) { return e < Ve ? 1 : e < Ke ? 2 : e < Fe ? 3 : e < $e ? 4 : e < We ? 5 : e < Je ? 6 : e < Ge ? 7 : e < Ye ? 8 : e < Xe ? 9 : 10 }, Qe = { encode: Ce, decode: ze, encodingLength: Ze }, et = Qe; const tt = (e, t, r = 0) => (et.encode(e, t, r), t), rt = e => et.encodingLength(e), nt = (e, t) => { const r = t.byteLength, n = rt(e), i = n + rt(r), s = new Uint8Array(i + r); return tt(e, s, 0), tt(r, s, n), s.set(t, i), new it(e, r, t, s) }; class it { constructor(e, t, r, n) { this.code = e, this.size = t, this.digest = r, this.bytes = n } } const st = ({ name: e, code: t, encode: r }) => new ot(e, t, r); class ot { constructor(e, t, r) { this.name = e, this.code = t, this.encode = r } digest(e) { if (e instanceof Uint8Array) { const t = this.encode(e); return t instanceof Uint8Array ? nt(this.code, t) : t.then(e => nt(this.code, e)) } throw Error("Unknown type, must be binary type") } } const at = e => async t => new Uint8Array(await crypto.subtle.digest(e, t)), ct = st({ name: "sha2-256", code: 18, encode: at("SHA-256") }), ut = st({ name: "sha2-512", code: 19, encode: at("SHA-512") }); Object.freeze({ __proto__: null, sha256: ct, sha512: ut }); const ht = 0, lt = "identity", ft = D, dt = e => nt(ht, ft(e)), pt = { code: ht, name: lt, encode: ft, digest: dt }; Object.freeze({ __proto__: null, identity: pt }); new TextEncoder, new TextDecoder; const gt = { ...G, ...X, ...Q, ...te, ...ie, ...pe, ...ye, ...me, ...Ie, ...Te }; function bt(e) { return null != globalThis.Buffer ? new Uint8Array(e.buffer, e.byteOffset, e.byteLength) : e } function yt(e = 0) { return null != globalThis.Buffer && null != globalThis.Buffer.allocUnsafe ? bt(globalThis.Buffer.allocUnsafe(e)) : new Uint8Array(e) } function vt(e, t, r, n) { return { name: e, prefix: t, encoder: { name: e, prefix: t, encode: r }, decoder: { decode: n } } } const _t = vt("utf8", "u", e => "u" + new TextDecoder("utf8").decode(e), e => (new TextEncoder).encode(e.substring(1))), mt = vt("ascii", "a", e => { let t = "a"; for (let r = 0; r < e.length; r++)t += String.fromCharCode(e[r]); return t }, e => { e = e.substring(1); const t = yt(e.length); for (let r = 0; r < e.length; r++)t[r] = e.charCodeAt(r); return t }), wt = { utf8: _t, "utf-8": _t, hex: gt.base16, latin1: mt, ascii: mt, binary: mt, ...gt }; function Et(e, t = "utf8") { const r = wt[t]; if (!r) throw new Error(`Unsupported encoding "${t}"`); return "utf8" !== t && "utf-8" !== t || null == globalThis.Buffer || null == globalThis.Buffer.from ? r.decoder.decode(`${r.prefix}${e}`) : bt(globalThis.Buffer.from(e, "utf-8")) } const Ot = "wc", St = 2, It = "core", jt = `${Ot}@2:${It}:`, Pt = { name: It, logger: "error" }, At = { database: ":memory:" }, Rt = "crypto", xt = "client_ed25519_seed", Nt = I["ONE_DAY"], Tt = "keychain", Ct = "0.3", Ut = "messages", Dt = "0.3", Lt = I["SIX_HOURS"], Mt = "publisher", kt = "irn", zt = "error", Bt = "wss://relay.walletconnect.com", Ht = "relayer", qt = { message: "relayer_message", message_ack: "relayer_message_ack", connect: "relayer_connect", disconnect: "relayer_disconnect", error: "relayer_error", connection_stalled: "relayer_connection_stalled", transport_closed: "relayer_transport_closed", publish: "relayer_publish" }, Vt = "_subscription", Kt = { payload: "payload", connect: "connect", disconnect: "disconnect", error: "error" }, Ft = I["ONE_SECOND"] / 2, $t = "2.8.1", Wt = 1e4, Jt = "0.3", Gt = "WALLETCONNECT_CLIENT_ID", Yt = { created: "subscription_created", deleted: "subscription_deleted", expired: "subscription_expired", disabled: "subscription_disabled", sync: "subscription_sync", resubscribed: "subscription_resubscribed" }, Xt = (I["THIRTY_DAYS"], "subscription"), Zt = "0.3", Qt = 1e3 * I["FIVE_SECONDS"], er = "pairing", tr = "0.3", rr = (I["THIRTY_DAYS"], { wc_pairingDelete: { req: { ttl: I["ONE_DAY"], prompt: !1, tag: 1e3 }, res: { ttl: I["ONE_DAY"], prompt: !1, tag: 1001 } }, wc_pairingPing: { req: { ttl: I["THIRTY_SECONDS"], prompt: !1, tag: 1002 }, res: { ttl: I["THIRTY_SECONDS"], prompt: !1, tag: 1003 } }, unregistered_method: { req: { ttl: I["ONE_DAY"], prompt: !1, tag: 0 }, res: { ttl: I["ONE_DAY"], prompt: !1, tag: 0 } } }), nr = { created: "history_created", updated: "history_updated", deleted: "history_deleted", sync: "history_sync" }, ir = "history", sr = "0.3", or = "expirer", ar = { created: "expirer_created", deleted: "expirer_deleted", expired: "expirer_expired", sync: "expirer_sync" }, cr = "0.3", ur = (I["ONE_DAY"], "verify-api"), hr = "https://verify.walletconnect.com"; class lr { constructor(e, t) { this.core = e, this.logger = t, this.keychain = new Map, this.name = Tt, this.version = Ct, this.initialized = !1, this.storagePrefix = jt, this.init = async () => { if (!this.initialized) { const e = await this.getKeyChain(); typeof e < "u" && (this.keychain = e), this.initialized = !0 } }, this.has = e => (this.isInitialized(), this.keychain.has(e)), this.set = async (e, t) => { this.isInitialized(), this.keychain.set(e, t), await this.persist() }, this.get = e => { this.isInitialized(); const t = this.keychain.get(e); if (typeof t > "u") { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", `${this.name}: ${e}`); throw new Error(t) } return t }, this.del = async e => { this.isInitialized(), this.keychain.delete(e), await this.persist() }, this.core = e, this.logger = Object(c["generateChildLogger"])(t, this.name) } get context() { return Object(c["getLoggerContext"])(this.logger) } get storageKey() { return this.storagePrefix + this.version + "//" + this.name } async setKeyChain(e) { await this.core.storage.setItem(this.storageKey, Object(O["eb"])(e)) } async getKeyChain() { const e = await this.core.storage.getItem(this.storageKey); return typeof e < "u" ? Object(O["gb"])(e) : void 0 } async persist() { await this.setKeyChain(this.keychain) } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } } class fr { constructor(e, t, r) { this.core = e, this.logger = t, this.name = Rt, this.initialized = !1, this.init = async () => { this.initialized || (await this.keychain.init(), this.initialized = !0) }, this.hasKeys = e => (this.isInitialized(), this.keychain.has(e)), this.getClientId = async () => { this.isInitialized(); const e = await this.getClientSeed(), t = E["generateKeyPair"](e); return E["encodeIss"](t.publicKey) }, this.generateKeyPair = () => { this.isInitialized(); const e = Object(O["p"])(); return this.setPrivateKey(e.publicKey, e.privateKey) }, this.signJWT = async e => { this.isInitialized(); const t = await this.getClientSeed(), r = E["generateKeyPair"](t), n = Object(O["q"])(), i = Nt; return await E["signJWT"](n, e, i, r) }, this.generateSharedKey = (e, t, r) => { this.isInitialized(); const n = this.getPrivateKey(e), i = Object(O["h"])(n, t); return this.setSymKey(i, r) }, this.setSymKey = async (e, t) => { this.isInitialized(); const r = t || Object(O["y"])(e); return await this.keychain.set(r, e), r }, this.deleteKeyPair = async e => { this.isInitialized(), await this.keychain.del(e) }, this.deleteSymKey = async e => { this.isInitialized(), await this.keychain.del(e) }, this.encode = async (e, t, r) => { this.isInitialized(); const n = Object(O["lb"])(r), i = Object(w["b"])(t); if (Object(O["J"])(n)) { const t = n.senderPublicKey, r = n.receiverPublicKey; e = await this.generateSharedKey(t, r) } const s = this.getSymKey(e), { type: o, senderPublicKey: a } = n; return Object(O["j"])({ type: o, symKey: s, message: i, senderPublicKey: a }) }, this.decode = async (e, t, r) => { this.isInitialized(); const n = Object(O["kb"])(t, r); if (Object(O["J"])(n)) { const t = n.receiverPublicKey, r = n.senderPublicKey; e = await this.generateSharedKey(t, r) } const i = this.getSymKey(e), s = Object(O["g"])({ symKey: i, encoded: t }); return Object(w["a"])(s) }, this.getPayloadType = e => { const t = Object(O["i"])(e); return Object(O["f"])(t.type) }, this.getPayloadSenderPublicKey = e => { const t = Object(O["i"])(e); return t.senderPublicKey ? Object(S["toString"])(t.senderPublicKey, O["a"]) : void 0 }, this.core = e, this.logger = Object(c["generateChildLogger"])(t, this.name), this.keychain = r || new lr(this.core, this.logger) } get context() { return Object(c["getLoggerContext"])(this.logger) } async setPrivateKey(e, t) { return await this.keychain.set(e, t), e } getPrivateKey(e) { return this.keychain.get(e) } async getClientSeed() { let e = ""; try { e = this.keychain.get(xt) } catch { e = Object(O["q"])(), await this.keychain.set(xt, e) } return Et(e, "base16") } getSymKey(e) { return this.keychain.get(e) } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } } class dr extends f { constructor(e, t) { super(e, t), this.logger = e, this.core = t, this.messages = new Map, this.name = Ut, this.version = Dt, this.initialized = !1, this.storagePrefix = jt, this.init = async () => { if (!this.initialized) { this.logger.trace("Initialized"); try { const e = await this.getRelayerMessages(); typeof e < "u" && (this.messages = e), this.logger.debug("Successfully Restored records for " + this.name), this.logger.trace({ type: "method", method: "restore", size: this.messages.size }) } catch (e) { this.logger.debug("Failed to Restore records for " + this.name), this.logger.error(e) } finally { this.initialized = !0 } } }, this.set = async (e, t) => { this.isInitialized(); const r = Object(O["z"])(t); let n = this.messages.get(e); return typeof n > "u" && (n = {}), typeof n[r] < "u" || (n[r] = t, this.messages.set(e, n), await this.persist()), r }, this.get = e => { this.isInitialized(); let t = this.messages.get(e); return typeof t > "u" && (t = {}), t }, this.has = (e, t) => { this.isInitialized(); const r = this.get(e), n = Object(O["z"])(t); return typeof r[n] < "u" }, this.del = async e => { this.isInitialized(), this.messages.delete(e), await this.persist() }, this.logger = Object(c["generateChildLogger"])(e, this.name), this.core = t } get context() { return Object(c["getLoggerContext"])(this.logger) } get storageKey() { return this.storagePrefix + this.version + "//" + this.name } async setRelayerMessages(e) { await this.core.storage.setItem(this.storageKey, Object(O["eb"])(e)) } async getRelayerMessages() { const e = await this.core.storage.getItem(this.storageKey); return typeof e < "u" ? Object(O["gb"])(e) : void 0 } async persist() { await this.setRelayerMessages(this.messages) } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } } class pr extends d { constructor(e, t) { super(e, t), this.relayer = e, this.logger = t, this.events = new n["EventEmitter"], this.name = Mt, this.queue = new Map, this.publishTimeout = 1e4, this.publish = async (e, t, r) => { this.logger.debug("Publishing Payload"), this.logger.trace({ type: "method", method: "publish", params: { topic: e, message: t, opts: r } }); try { const n = (null === r || void 0 === r ? void 0 : r.ttl) || Lt, i = Object(O["u"])(r), s = (null === r || void 0 === r ? void 0 : r.prompt) || !1, o = (null === r || void 0 === r ? void 0 : r.tag) || 0, a = (null === r || void 0 === r ? void 0 : r.id) || Object(P["getBigIntRpcId"])().toString(), c = { topic: e, message: t, opts: { ttl: n, relay: i, prompt: s, tag: o, id: a } }; this.queue.set(a, c); try { await (await Object(O["e"])(this.rpcPublish(e, t, n, i, s, o, a), this.publishTimeout)), this.relayer.events.emit(qt.publish, c) } catch { return this.logger.debug("Publishing Payload stalled"), void this.relayer.events.emit(qt.connection_stalled) } this.logger.debug("Successfully Published Payload"), this.logger.trace({ type: "method", method: "publish", params: { topic: e, message: t, opts: r } }) } catch (n) { throw this.logger.debug("Failed to Publish Payload"), this.logger.error(n), n } }, this.on = (e, t) => { this.events.on(e, t) }, this.once = (e, t) => { this.events.once(e, t) }, this.off = (e, t) => { this.events.off(e, t) }, this.removeListener = (e, t) => { this.events.removeListener(e, t) }, this.relayer = e, this.logger = Object(c["generateChildLogger"])(t, this.name), this.registerEventListeners() } get context() { return Object(c["getLoggerContext"])(this.logger) } rpcPublish(e, t, r, n, i, s, o) { var a, c, u, h; const l = { method: Object(O["t"])(n.protocol).publish, params: { topic: e, message: t, ttl: r, prompt: i, tag: s }, id: o }; return Object(O["K"])(null == (a = l.params) ? void 0 : a.prompt) && (null == (c = l.params) || delete c.prompt), Object(O["K"])(null == (u = l.params) ? void 0 : u.tag) && (null == (h = l.params) || delete h.tag), this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "message", direction: "outgoing", request: l }), this.relayer.request(l) } onPublish(e) { this.queue.delete(e) } checkQueue() { this.queue.forEach(async e => { const { topic: t, message: r, opts: n } = e; await this.publish(t, r, n) }) } registerEventListeners() { this.relayer.core.heartbeat.on(a["HEARTBEAT_EVENTS"].pulse, () => { this.checkQueue() }), this.relayer.on(qt.message_ack, e => { this.onPublish(e.id.toString()) }) } } class gr { constructor() { this.map = new Map, this.set = (e, t) => { const r = this.get(e); this.exists(e, t) || this.map.set(e, [...r, t]) }, this.get = e => this.map.get(e) || [], this.exists = (e, t) => this.get(e).includes(t), this.delete = (e, t) => { if (typeof t > "u") return void this.map.delete(e); if (!this.map.has(e)) return; const r = this.get(e); if (!this.exists(e, t)) return; const n = r.filter(e => e !== t); n.length ? this.map.set(e, n) : this.map.delete(e) }, this.clear = () => { this.map.clear() } } get topics() { return Array.from(this.map.keys()) } } var br = Object.defineProperty, yr = Object.defineProperties, vr = Object.getOwnPropertyDescriptors, _r = Object.getOwnPropertySymbols, mr = Object.prototype.hasOwnProperty, wr = Object.prototype.propertyIsEnumerable, Er = (e, t, r) => t in e ? br(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, Or = (e, t) => { for (var r in t || (t = {})) mr.call(t, r) && Er(e, r, t[r]); if (_r) for (var r of _r(t)) wr.call(t, r) && Er(e, r, t[r]); return e }, Sr = (e, t) => yr(e, vr(t)); class Ir extends b { constructor(e, t) { super(e, t), this.relayer = e, this.logger = t, this.subscriptions = new Map, this.topicMap = new gr, this.events = new n["EventEmitter"], this.name = Xt, this.version = Zt, this.pending = new Map, this.cached = [], this.initialized = !1, this.pendingSubscriptionWatchLabel = "pending_sub_watch_label", this.pollingInterval = 20, this.storagePrefix = jt, this.subscribeTimeout = 1e4, this.restartInProgress = !1, this.batchSubscribeTopicsLimit = 500, this.init = async () => { this.initialized || (this.logger.trace("Initialized"), await this.restart(), this.registerEventListeners(), this.onEnable(), this.clientId = await this.relayer.core.crypto.getClientId()) }, this.subscribe = async (e, t) => { await this.restartToComplete(), this.isInitialized(), this.logger.debug("Subscribing Topic"), this.logger.trace({ type: "method", method: "subscribe", params: { topic: e, opts: t } }); try { const r = Object(O["u"])(t), n = { topic: e, relay: r }; this.pending.set(e, n); const i = await this.rpcSubscribe(e, r); return this.onSubscribe(i, n), this.logger.debug("Successfully Subscribed Topic"), this.logger.trace({ type: "method", method: "subscribe", params: { topic: e, opts: t } }), i } catch (r) { throw this.logger.debug("Failed to Subscribe Topic"), this.logger.error(r), r } }, this.unsubscribe = async (e, t) => { await this.restartToComplete(), this.isInitialized(), typeof (null === t || void 0 === t ? void 0 : t.id) < "u" ? await this.unsubscribeById(e, t.id, t) : await this.unsubscribeByTopic(e, t) }, this.isSubscribed = async e => !!this.topics.includes(e) || await new Promise((t, r) => { const n = new I["Watch"]; n.start(this.pendingSubscriptionWatchLabel); const i = setInterval(() => { !this.pending.has(e) && this.topics.includes(e) && (clearInterval(i), n.stop(this.pendingSubscriptionWatchLabel), t(!0)), n.elapsed(this.pendingSubscriptionWatchLabel) >= Qt && (clearInterval(i), n.stop(this.pendingSubscriptionWatchLabel), r(new Error("Subscription resolution timeout"))) }, this.pollingInterval) }).catch(() => !1), this.on = (e, t) => { this.events.on(e, t) }, this.once = (e, t) => { this.events.once(e, t) }, this.off = (e, t) => { this.events.off(e, t) }, this.removeListener = (e, t) => { this.events.removeListener(e, t) }, this.restart = async () => { this.restartInProgress = !0, await this.restore(), await this.reset(), this.restartInProgress = !1 }, this.relayer = e, this.logger = Object(c["generateChildLogger"])(t, this.name), this.clientId = "" } get context() { return Object(c["getLoggerContext"])(this.logger) } get storageKey() { return this.storagePrefix + this.version + "//" + this.name } get length() { return this.subscriptions.size } get ids() { return Array.from(this.subscriptions.keys()) } get values() { return Array.from(this.subscriptions.values()) } get topics() { return this.topicMap.topics } hasSubscription(e, t) { let r = !1; try { r = this.getSubscription(e).topic === t } catch { } return r } onEnable() { this.cached = [], this.initialized = !0 } onDisable() { this.cached = this.values, this.subscriptions.clear(), this.topicMap.clear() } async unsubscribeByTopic(e, t) { const r = this.topicMap.get(e); await Promise.all(r.map(async r => await this.unsubscribeById(e, r, t))) } async unsubscribeById(e, t, r) { this.logger.debug("Unsubscribing Topic"), this.logger.trace({ type: "method", method: "unsubscribe", params: { topic: e, id: t, opts: r } }); try { const n = Object(O["u"])(r); await this.rpcUnsubscribe(e, t, n); const i = Object(O["w"])("USER_DISCONNECTED", `${this.name}, ${e}`); await this.onUnsubscribe(e, t, i), this.logger.debug("Successfully Unsubscribed Topic"), this.logger.trace({ type: "method", method: "unsubscribe", params: { topic: e, id: t, opts: r } }) } catch (n) { throw this.logger.debug("Failed to Unsubscribe Topic"), this.logger.error(n), n } } async rpcSubscribe(e, t) { const r = { method: Object(O["t"])(t.protocol).subscribe, params: { topic: e } }; this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: r }); try { await (await Object(O["e"])(this.relayer.request(r), this.subscribeTimeout)) } catch { this.logger.debug("Outgoing Relay Subscribe Payload stalled"), this.relayer.events.emit(qt.connection_stalled) } return Object(O["z"])(e + this.clientId) } async rpcBatchSubscribe(e) { if (!e.length) return; const t = e[0].relay, r = { method: Object(O["t"])(t.protocol).batchSubscribe, params: { topics: e.map(e => e.topic) } }; this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: r }); try { return await (await Object(O["e"])(this.relayer.request(r), this.subscribeTimeout)) } catch { this.logger.debug("Outgoing Relay Payload stalled"), this.relayer.events.emit(qt.connection_stalled) } } rpcUnsubscribe(e, t, r) { const n = { method: Object(O["t"])(r.protocol).unsubscribe, params: { topic: e, id: t } }; return this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: n }), this.relayer.request(n) } onSubscribe(e, t) { this.setSubscription(e, Sr(Or({}, t), { id: e })), this.pending.delete(t.topic) } onBatchSubscribe(e) { e.length && e.forEach(e => { this.setSubscription(e.id, Or({}, e)), this.pending.delete(e.topic) }) } async onUnsubscribe(e, t, r) { this.events.removeAllListeners(t), this.hasSubscription(t, e) && this.deleteSubscription(t, r), await this.relayer.messages.del(e) } async setRelayerSubscriptions(e) { await this.relayer.core.storage.setItem(this.storageKey, e) } async getRelayerSubscriptions() { return await this.relayer.core.storage.getItem(this.storageKey) } setSubscription(e, t) { this.subscriptions.has(e) || (this.logger.debug("Setting subscription"), this.logger.trace({ type: "method", method: "setSubscription", id: e, subscription: t }), this.addSubscription(e, t)) } addSubscription(e, t) { this.subscriptions.set(e, Or({}, t)), this.topicMap.set(t.topic, e), this.events.emit(Yt.created, t) } getSubscription(e) { this.logger.debug("Getting subscription"), this.logger.trace({ type: "method", method: "getSubscription", id: e }); const t = this.subscriptions.get(e); if (!t) { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", `${this.name}: ${e}`); throw new Error(t) } return t } deleteSubscription(e, t) { this.logger.debug("Deleting subscription"), this.logger.trace({ type: "method", method: "deleteSubscription", id: e, reason: t }); const r = this.getSubscription(e); this.subscriptions.delete(e), this.topicMap.delete(r.topic, e), this.events.emit(Yt.deleted, Sr(Or({}, r), { reason: t })) } async persist() { await this.setRelayerSubscriptions(this.values), this.events.emit(Yt.sync) } async reset() { if (this.cached.length) { const e = Math.ceil(this.cached.length / this.batchSubscribeTopicsLimit); for (let t = 0; t < e; t++) { const e = this.cached.splice(0, this.batchSubscribeTopicsLimit); await this.batchSubscribe(e) } } this.events.emit(Yt.resubscribed) } async restore() { try { const e = await this.getRelayerSubscriptions(); if (typeof e > "u" || !e.length) return; if (this.subscriptions.size) { const { message: e } = Object(O["s"])("RESTORE_WILL_OVERRIDE", this.name); throw this.logger.error(e), this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`), new Error(e) } this.cached = e, this.logger.debug("Successfully Restored subscriptions for " + this.name), this.logger.trace({ type: "method", method: "restore", subscriptions: this.values }) } catch (e) { this.logger.debug("Failed to Restore subscriptions for " + this.name), this.logger.error(e) } } async batchSubscribe(e) { if (!e.length) return; const t = await this.rpcBatchSubscribe(e); Object(O["L"])(t) && this.onBatchSubscribe(t.map((t, r) => Sr(Or({}, e[r]), { id: t }))) } async onConnect() { this.restartInProgress || (await this.restart(), this.onEnable()) } onDisconnect() { this.onDisable() } async checkPending() { if (this.relayer.transportExplicitlyClosed) return; const e = []; this.pending.forEach(t => { e.push(t) }), await this.batchSubscribe(e) } registerEventListeners() { this.relayer.core.heartbeat.on(a["HEARTBEAT_EVENTS"].pulse, async () => { await this.checkPending() }), this.relayer.on(qt.connect, async () => { await this.onConnect() }), this.relayer.on(qt.disconnect, () => { this.onDisconnect() }), this.events.on(Yt.created, async e => { const t = Yt.created; this.logger.info("Emitting " + t), this.logger.debug({ type: "event", event: t, data: e }), await this.persist() }), this.events.on(Yt.deleted, async e => { const t = Yt.deleted; this.logger.info("Emitting " + t), this.logger.debug({ type: "event", event: t, data: e }), await this.persist() }) } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } async restartToComplete() { this.restartInProgress && await new Promise(e => { const t = setInterval(() => { this.restartInProgress || (clearInterval(t), e()) }, this.pollingInterval) }) } } var jr = Object.defineProperty, Pr = Object.getOwnPropertySymbols, Ar = Object.prototype.hasOwnProperty, Rr = Object.prototype.propertyIsEnumerable, xr = (e, t, r) => t in e ? jr(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, Nr = (e, t) => { for (var r in t || (t = {})) Ar.call(t, r) && xr(e, r, t[r]); if (Pr) for (var r of Pr(t)) Rr.call(t, r) && xr(e, r, t[r]); return e }; class Tr extends p { constructor(e) { super(e), this.protocol = "wc", this.version = 2, this.events = new n["EventEmitter"], this.name = Ht, this.transportExplicitlyClosed = !1, this.initialized = !1, this.reconnecting = !1, this.connectionStatusPollingInterval = 20, this.staleConnectionErrors = ["socket hang up", "socket stalled"], this.request = async e => { this.logger.debug("Publishing Request Payload"); try { return await this.toEstablishConnection(), await this.provider.request(e) } catch (t) { throw this.logger.debug("Failed to Publish Request"), this.logger.error(t), t } }, this.core = e.core, this.logger = typeof e.logger < "u" && "string" != typeof e.logger ? Object(c["generateChildLogger"])(e.logger, this.name) : Object(c["pino"])(Object(c["getDefaultLoggerOptions"])({ level: e.logger || zt })), this.messages = new dr(this.logger, e.core), this.subscriber = new Ir(this, this.logger), this.publisher = new pr(this, this.logger), this.relayUrl = (null === e || void 0 === e ? void 0 : e.relayUrl) || Bt, this.projectId = e.projectId, this.provider = {} } async init() { this.logger.trace("Initialized"), await this.createProvider(), await Promise.all([this.messages.init(), this.transportOpen(), this.subscriber.init()]), this.registerEventListeners(), this.initialized = !0, setTimeout(async () => { 0 === this.subscriber.topics.length && (this.logger.info("No topics subscribted to after init, closing transport"), await this.transportClose(), this.transportExplicitlyClosed = !1) }, Wt) } get context() { return Object(c["getLoggerContext"])(this.logger) } get connected() { return this.provider.connection.connected } get connecting() { return this.provider.connection.connecting } async publish(e, t, r) { this.isInitialized(), await this.publisher.publish(e, t, r), await this.recordMessageEvent({ topic: e, message: t, publishedAt: Date.now() }) } async subscribe(e, t) { var r; this.isInitialized(); let n = (null == (r = this.subscriber.topicMap.get(e)) ? void 0 : r[0]) || ""; return n || (await Promise.all([new Promise(t => { this.subscriber.once(Yt.created, r => { r.topic === e && t() }) }), new Promise(async r => { n = await this.subscriber.subscribe(e, t), r() })]), n) } async unsubscribe(e, t) { this.isInitialized(), await this.subscriber.unsubscribe(e, t) } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } off(e, t) { this.events.off(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } async transportClose() { this.transportExplicitlyClosed = !0, this.connected && (await this.provider.disconnect(), this.events.emit(qt.transport_closed)) } async transportOpen(e) { if (this.transportExplicitlyClosed = !1, !this.reconnecting) { this.relayUrl = e || this.relayUrl, this.reconnecting = !0; try { await Promise.all([new Promise(e => { this.initialized || e(), this.subscriber.once(Yt.resubscribed, () => { e() }) }), await Promise.race([new Promise(async (e, t) => { await Object(O["e"])(this.provider.connect(), 5e3, "socket stalled").catch(e => t(e)).then(() => e()).finally(() => this.removeListener(qt.transport_closed, this.rejectTransportOpen)) }), new Promise(e => this.once(qt.transport_closed, this.rejectTransportOpen))])]) } catch (t) { this.logger.error(t); const e = t; if (!this.isConnectionStalled(e.message)) throw t; this.events.emit(qt.transport_closed) } finally { this.reconnecting = !1 } } } async restartTransport(e) { this.transportExplicitlyClosed || this.reconnecting || (this.relayUrl = e || this.relayUrl, this.connected && await Promise.all([new Promise(e => { this.provider.once(Kt.disconnect, () => { e() }) }), this.transportClose()]), await this.createProvider(), await this.transportOpen()) } isConnectionStalled(e) { return this.staleConnectionErrors.some(t => e.includes(t)) } rejectTransportOpen() { throw new Error("closeTransport called before connection was established") } async createProvider() { const e = await this.core.crypto.signJWT(this.relayUrl); this.provider = new j["a"](new R(Object(O["m"])({ sdkVersion: $t, protocol: this.protocol, version: this.version, relayUrl: this.relayUrl, projectId: this.projectId, auth: e, useOnCloseEvent: !0 }))), this.registerProviderListeners() } async recordMessageEvent(e) { const { topic: t, message: r } = e; await this.messages.set(t, r) } async shouldIgnoreMessageEvent(e) { const { topic: t, message: r } = e; return !await this.subscriber.isSubscribed(t) || this.messages.has(t, r) } async onProviderPayload(e) { if (this.logger.debug("Incoming Relay Payload"), this.logger.trace({ type: "payload", direction: "incoming", payload: e }), Object(P["isJsonRpcRequest"])(e)) { if (!e.method.endsWith(Vt)) return; const t = e.params, { topic: r, message: n, publishedAt: i } = t.data, s = { topic: r, message: n, publishedAt: i }; this.logger.debug("Emitting Relayer Payload"), this.logger.trace(Nr({ type: "event", event: t.id }, s)), this.events.emit(t.id, s), await this.acknowledgePayload(e), await this.onMessageEvent(s) } else Object(P["isJsonRpcResponse"])(e) && this.events.emit(qt.message_ack, e) } async onMessageEvent(e) { await this.shouldIgnoreMessageEvent(e) || (this.events.emit(qt.message, e), await this.recordMessageEvent(e)) } async acknowledgePayload(e) { const t = Object(P["formatJsonRpcResult"])(e.id, !0); await this.provider.connection.send(t) } registerProviderListeners() { this.provider.on(Kt.payload, e => this.onProviderPayload(e)), this.provider.on(Kt.connect, () => { this.events.emit(qt.connect) }), this.provider.on(Kt.disconnect, () => { this.onProviderDisconnect() }), this.provider.on(Kt.error, e => { this.logger.error(e), this.events.emit(qt.error, e) }) } registerEventListeners() { this.events.on(qt.connection_stalled, async () => { await this.restartTransport() }) } onProviderDisconnect() { this.events.emit(qt.disconnect), this.attemptToReconnect() } attemptToReconnect() { this.transportExplicitlyClosed || setTimeout(async () => { await this.restartTransport() }, Object(I["toMiliseconds"])(Ft)) } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } async toEstablishConnection() { if (!this.connected) { if (this.connecting) return await new Promise(e => { const t = setInterval(() => { this.connected && (clearInterval(t), e()) }, this.connectionStatusPollingInterval) }); await this.restartTransport() } } } var Cr = Object.defineProperty, Ur = Object.getOwnPropertySymbols, Dr = Object.prototype.hasOwnProperty, Lr = Object.prototype.propertyIsEnumerable, Mr = (e, t, r) => t in e ? Cr(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, kr = (e, t) => { for (var r in t || (t = {})) Dr.call(t, r) && Mr(e, r, t[r]); if (Ur) for (var r of Ur(t)) Lr.call(t, r) && Mr(e, r, t[r]); return e }; class zr extends g { constructor(e, t, r, n = jt, i) { super(e, t, r, n), this.core = e, this.logger = t, this.name = r, this.map = new Map, this.version = Jt, this.cached = [], this.initialized = !1, this.storagePrefix = jt, this.init = async () => { this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach(e => { this.getKey && null !== e && !Object(O["K"])(e) ? this.map.set(this.getKey(e), e) : Object(O["F"])(e) ? this.map.set(e.id, e) : Object(O["I"])(e) && this.map.set(e.topic, e) }), this.cached = [], this.initialized = !0) }, this.set = async (e, t) => { this.isInitialized(), this.map.has(e) ? await this.update(e, t) : (this.logger.debug("Setting value"), this.logger.trace({ type: "method", method: "set", key: e, value: t }), this.map.set(e, t), await this.persist()) }, this.get = e => (this.isInitialized(), this.logger.debug("Getting value"), this.logger.trace({ type: "method", method: "get", key: e }), this.getData(e)), this.getAll = e => (this.isInitialized(), e ? this.values.filter(t => Object.keys(e).every(r => N()(t[r], e[r]))) : this.values), this.update = async (e, t) => { this.isInitialized(), this.logger.debug("Updating value"), this.logger.trace({ type: "method", method: "update", key: e, update: t }); const r = kr(kr({}, this.getData(e)), t); this.map.set(e, r), await this.persist() }, this.delete = async (e, t) => { this.isInitialized(), this.map.has(e) && (this.logger.debug("Deleting value"), this.logger.trace({ type: "method", method: "delete", key: e, reason: t }), this.map.delete(e), await this.persist()) }, this.logger = Object(c["generateChildLogger"])(t, this.name), this.storagePrefix = n, this.getKey = i } get context() { return Object(c["getLoggerContext"])(this.logger) } get storageKey() { return this.storagePrefix + this.version + "//" + this.name } get length() { return this.map.size } get keys() { return Array.from(this.map.keys()) } get values() { return Array.from(this.map.values()) } async setDataStore(e) { await this.core.storage.setItem(this.storageKey, e) } async getDataStore() { return await this.core.storage.getItem(this.storageKey) } getData(e) { const t = this.map.get(e); if (!t) { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", `${this.name}: ${e}`); throw this.logger.error(t), new Error(t) } return t } async persist() { await this.setDataStore(this.values) } async restore() { try { const e = await this.getDataStore(); if (typeof e > "u" || !e.length) return; if (this.map.size) { const { message: e } = Object(O["s"])("RESTORE_WILL_OVERRIDE", this.name); throw this.logger.error(e), new Error(e) } this.cached = e, this.logger.debug("Successfully Restored value for " + this.name), this.logger.trace({ type: "method", method: "restore", value: this.values }) } catch (e) { this.logger.debug("Failed to Restore value for " + this.name), this.logger.error(e) } } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } } class Br { constructor(e, t) { this.core = e, this.logger = t, this.name = er, this.version = tr, this.events = new i.a, this.initialized = !1, this.storagePrefix = jt, this.ignoredPayloadTypes = [O["b"]], this.registeredMethods = [], this.init = async () => { this.initialized || (await this.pairings.init(), await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.initialized = !0, this.logger.trace("Initialized")) }, this.register = ({ methods: e }) => { this.isInitialized(), this.registeredMethods = [...new Set([...this.registeredMethods, ...e])] }, this.create = async () => { this.isInitialized(); const e = Object(O["q"])(), t = await this.core.crypto.setSymKey(e), r = Object(O["c"])(I["FIVE_MINUTES"]), n = { protocol: kt }, i = { topic: t, expiry: r, relay: n, active: !1 }, s = Object(O["o"])({ protocol: this.core.protocol, version: this.core.version, topic: t, symKey: e, relay: n }); return await this.pairings.set(t, i), await this.core.relayer.subscribe(t), this.core.expirer.set(t, r), { topic: t, uri: s } }, this.pair = async e => { this.isInitialized(), this.isValidPair(e); const { topic: t, symKey: r, relay: n } = Object(O["jb"])(e.uri); if (this.pairings.keys.includes(t)) throw new Error("Pairing already exists: " + t); if (this.core.crypto.hasKeys(t)) throw new Error("Keychain already exists: " + t); const i = Object(O["c"])(I["FIVE_MINUTES"]), s = { topic: t, relay: n, expiry: i, active: !1 }; return await this.pairings.set(t, s), await this.core.crypto.setSymKey(r, t), await this.core.relayer.subscribe(t, { relay: n }), this.core.expirer.set(t, i), e.activatePairing && await this.activate({ topic: t }), s }, this.activate = async ({ topic: e }) => { this.isInitialized(); const t = Object(O["c"])(I["THIRTY_DAYS"]); await this.pairings.update(e, { active: !0, expiry: t }), this.core.expirer.set(e, t) }, this.ping = async e => { this.isInitialized(), await this.isValidPing(e); const { topic: t } = e; if (this.pairings.keys.includes(t)) { const e = await this.sendRequest(t, "wc_pairingPing", {}), { done: r, resolve: n, reject: i } = Object(O["d"])(); this.events.once(Object(O["k"])("pairing_ping", e), ({ error: e }) => { e ? i(e) : n() }), await r() } }, this.updateExpiry = async ({ topic: e, expiry: t }) => { this.isInitialized(), await this.pairings.update(e, { expiry: t }) }, this.updateMetadata = async ({ topic: e, metadata: t }) => { this.isInitialized(), await this.pairings.update(e, { peerMetadata: t }) }, this.getPairings = () => (this.isInitialized(), this.pairings.values), this.disconnect = async e => { this.isInitialized(), await this.isValidDisconnect(e); const { topic: t } = e; this.pairings.keys.includes(t) && (await this.sendRequest(t, "wc_pairingDelete", Object(O["w"])("USER_DISCONNECTED")), await this.deletePairing(t)) }, this.sendRequest = async (e, t, r) => { const n = Object(P["formatJsonRpcRequest"])(t, r), i = await this.core.crypto.encode(e, n), s = rr[t].req; return this.core.history.set(e, n), this.core.relayer.publish(e, i, s), n.id }, this.sendResult = async (e, t, r) => { const n = Object(P["formatJsonRpcResult"])(e, r), i = await this.core.crypto.encode(t, n), s = await this.core.history.get(t, e), o = rr[s.request.method].res; await this.core.relayer.publish(t, i, o), await this.core.history.resolve(n) }, this.sendError = async (e, t, r) => { const n = Object(P["formatJsonRpcError"])(e, r), i = await this.core.crypto.encode(t, n), s = await this.core.history.get(t, e), o = rr[s.request.method] ? rr[s.request.method].res : rr.unregistered_method.res; await this.core.relayer.publish(t, i, o), await this.core.history.resolve(n) }, this.deletePairing = async (e, t) => { await this.core.relayer.unsubscribe(e), await Promise.all([this.pairings.delete(e, Object(O["w"])("USER_DISCONNECTED")), this.core.crypto.deleteSymKey(e), t ? Promise.resolve() : this.core.expirer.del(e)]) }, this.cleanup = async () => { const e = this.pairings.getAll().filter(e => Object(O["D"])(e.expiry)); await Promise.all(e.map(e => this.deletePairing(e.topic))) }, this.onRelayEventRequest = e => { const { topic: t, payload: r } = e, n = r.method; if (this.pairings.keys.includes(t)) switch (n) { case "wc_pairingPing": return this.onPairingPingRequest(t, r); case "wc_pairingDelete": return this.onPairingDeleteRequest(t, r); default: return this.onUnknownRpcMethodRequest(t, r) } }, this.onRelayEventResponse = async e => { const { topic: t, payload: r } = e, n = (await this.core.history.get(t, r.id)).request.method; if (this.pairings.keys.includes(t)) switch (n) { case "wc_pairingPing": return this.onPairingPingResponse(t, r); default: return this.onUnknownRpcMethodResponse(n) } }, this.onPairingPingRequest = async (e, t) => { const { id: r } = t; try { this.isValidPing({ topic: e }), await this.sendResult(r, e, !0), this.events.emit("pairing_ping", { id: r, topic: e }) } catch (n) { await this.sendError(r, e, n), this.logger.error(n) } }, this.onPairingPingResponse = (e, t) => { const { id: r } = t; setTimeout(() => { Object(P["isJsonRpcResult"])(t) ? this.events.emit(Object(O["k"])("pairing_ping", r), {}) : Object(P["isJsonRpcError"])(t) && this.events.emit(Object(O["k"])("pairing_ping", r), { error: t.error }) }, 500) }, this.onPairingDeleteRequest = async (e, t) => { const { id: r } = t; try { this.isValidDisconnect({ topic: e }), await this.deletePairing(e), this.events.emit("pairing_delete", { id: r, topic: e }) } catch (n) { await this.sendError(r, e, n), this.logger.error(n) } }, this.onUnknownRpcMethodRequest = async (e, t) => { const { id: r, method: n } = t; try { if (this.registeredMethods.includes(n)) return; const t = Object(O["w"])("WC_METHOD_UNSUPPORTED", n); await this.sendError(r, e, t), this.logger.error(t) } catch (i) { await this.sendError(r, e, i), this.logger.error(i) } }, this.onUnknownRpcMethodResponse = e => { this.registeredMethods.includes(e) || this.logger.error(Object(O["w"])("WC_METHOD_UNSUPPORTED", e)) }, this.isValidPair = e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "pair() params: " + e); throw new Error(t) } if (!Object(O["db"])(e.uri)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "pair() uri: " + e.uri); throw new Error(t) } }, this.isValidPing = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "ping() params: " + e); throw new Error(t) } const { topic: t } = e; await this.isValidPairingTopic(t) }, this.isValidDisconnect = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "disconnect() params: " + e); throw new Error(t) } const { topic: t } = e; await this.isValidPairingTopic(t) }, this.isValidPairingTopic = async e => { if (!Object(O["cb"])(e, !1)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "pairing topic should be a string: " + e); throw new Error(t) } if (!this.pairings.keys.includes(e)) { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", "pairing topic doesn't exist: " + e); throw new Error(t) } if (Object(O["D"])(this.pairings.get(e).expiry)) { await this.deletePairing(e); const { message: t } = Object(O["s"])("EXPIRED", "pairing topic: " + e); throw new Error(t) } }, this.core = e, this.logger = Object(c["generateChildLogger"])(t, this.name), this.pairings = new zr(this.core, this.logger, this.name, this.storagePrefix) } get context() { return Object(c["getLoggerContext"])(this.logger) } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } registerRelayerEvents() { this.core.relayer.on(qt.message, async e => { const { topic: t, message: r } = e; if (this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r))) return; const n = await this.core.crypto.decode(t, r); Object(P["isJsonRpcRequest"])(n) ? (this.core.history.set(t, n), this.onRelayEventRequest({ topic: t, payload: n })) : Object(P["isJsonRpcResponse"])(n) && (await this.core.history.resolve(n), this.onRelayEventResponse({ topic: t, payload: n })) }) } registerExpirerEvents() { this.core.expirer.on(ar.expired, async e => { const { topic: t } = Object(O["hb"])(e.target); t && this.pairings.keys.includes(t) && (await this.deletePairing(t, !0), this.events.emit("pairing_expire", { topic: t })) }) } } class Hr extends l { constructor(e, t) { super(e, t), this.core = e, this.logger = t, this.records = new Map, this.events = new n["EventEmitter"], this.name = ir, this.version = sr, this.cached = [], this.initialized = !1, this.storagePrefix = jt, this.init = async () => { this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach(e => this.records.set(e.id, e)), this.cached = [], this.registerEventListeners(), this.initialized = !0) }, this.set = (e, t, r) => { if (this.isInitialized(), this.logger.debug("Setting JSON-RPC request history record"), this.logger.trace({ type: "method", method: "set", topic: e, request: t, chainId: r }), this.records.has(t.id)) return; const n = { id: t.id, topic: e, request: { method: t.method, params: t.params || null }, chainId: r }; this.records.set(n.id, n), this.events.emit(nr.created, n) }, this.resolve = async e => { if (this.isInitialized(), this.logger.debug("Updating JSON-RPC response history record"), this.logger.trace({ type: "method", method: "update", response: e }), !this.records.has(e.id)) return; const t = await this.getRecord(e.id); typeof t.response > "u" && (t.response = Object(P["isJsonRpcError"])(e) ? { error: e.error } : { result: e.result }, this.records.set(t.id, t), this.events.emit(nr.updated, t)) }, this.get = async (e, t) => (this.isInitialized(), this.logger.debug("Getting record"), this.logger.trace({ type: "method", method: "get", topic: e, id: t }), await this.getRecord(t)), this.delete = (e, t) => { this.isInitialized(), this.logger.debug("Deleting record"), this.logger.trace({ type: "method", method: "delete", id: t }), this.values.forEach(r => { if (r.topic === e) { if (typeof t < "u" && r.id !== t) return; this.records.delete(r.id), this.events.emit(nr.deleted, r) } }) }, this.exists = async (e, t) => (this.isInitialized(), !!this.records.has(t) && (await this.getRecord(t)).topic === e), this.on = (e, t) => { this.events.on(e, t) }, this.once = (e, t) => { this.events.once(e, t) }, this.off = (e, t) => { this.events.off(e, t) }, this.removeListener = (e, t) => { this.events.removeListener(e, t) }, this.logger = Object(c["generateChildLogger"])(t, this.name) } get context() { return Object(c["getLoggerContext"])(this.logger) } get storageKey() { return this.storagePrefix + this.version + "//" + this.name } get size() { return this.records.size } get keys() { return Array.from(this.records.keys()) } get values() { return Array.from(this.records.values()) } get pending() { const e = []; return this.values.forEach(t => { if (typeof t.response < "u") return; const r = { topic: t.topic, request: Object(P["formatJsonRpcRequest"])(t.request.method, t.request.params, t.id), chainId: t.chainId }; return e.push(r) }), e } async setJsonRpcRecords(e) { await this.core.storage.setItem(this.storageKey, e) } async getJsonRpcRecords() { return await this.core.storage.getItem(this.storageKey) } getRecord(e) { this.isInitialized(); const t = this.records.get(e); if (!t) { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", `${this.name}: ${e}`); throw new Error(t) } return t } async persist() { await this.setJsonRpcRecords(this.values), this.events.emit(nr.sync) } async restore() { try { const e = await this.getJsonRpcRecords(); if (typeof e > "u" || !e.length) return; if (this.records.size) { const { message: e } = Object(O["s"])("RESTORE_WILL_OVERRIDE", this.name); throw this.logger.error(e), new Error(e) } this.cached = e, this.logger.debug("Successfully Restored records for " + this.name), this.logger.trace({ type: "method", method: "restore", records: this.values }) } catch (e) { this.logger.debug("Failed to Restore records for " + this.name), this.logger.error(e) } } registerEventListeners() { this.events.on(nr.created, e => { const t = nr.created; this.logger.info("Emitting " + t), this.logger.debug({ type: "event", event: t, record: e }), this.persist() }), this.events.on(nr.updated, e => { const t = nr.updated; this.logger.info("Emitting " + t), this.logger.debug({ type: "event", event: t, record: e }), this.persist() }), this.events.on(nr.deleted, e => { const t = nr.deleted; this.logger.info("Emitting " + t), this.logger.debug({ type: "event", event: t, record: e }), this.persist() }) } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } } class qr extends y { constructor(e, t) { super(e, t), this.core = e, this.logger = t, this.expirations = new Map, this.events = new n["EventEmitter"], this.name = or, this.version = cr, this.cached = [], this.initialized = !1, this.storagePrefix = jt, this.init = async () => { this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach(e => this.expirations.set(e.target, e)), this.cached = [], this.registerEventListeners(), this.initialized = !0) }, this.has = e => { try { const t = this.formatTarget(e); return typeof this.getExpiration(t) < "u" } catch { return !1 } }, this.set = (e, t) => { this.isInitialized(); const r = this.formatTarget(e), n = { target: r, expiry: t }; this.expirations.set(r, n), this.checkExpiry(r, n), this.events.emit(ar.created, { target: r, expiration: n }) }, this.get = e => { this.isInitialized(); const t = this.formatTarget(e); return this.getExpiration(t) }, this.del = e => { if (this.isInitialized(), this.has(e)) { const t = this.formatTarget(e), r = this.getExpiration(t); this.expirations.delete(t), this.events.emit(ar.deleted, { target: t, expiration: r }) } }, this.on = (e, t) => { this.events.on(e, t) }, this.once = (e, t) => { this.events.once(e, t) }, this.off = (e, t) => { this.events.off(e, t) }, this.removeListener = (e, t) => { this.events.removeListener(e, t) }, this.logger = Object(c["generateChildLogger"])(t, this.name) } get context() { return Object(c["getLoggerContext"])(this.logger) } get storageKey() { return this.storagePrefix + this.version + "//" + this.name } get length() { return this.expirations.size } get keys() { return Array.from(this.expirations.keys()) } get values() { return Array.from(this.expirations.values()) } formatTarget(e) { if ("string" == typeof e) return Object(O["n"])(e); if ("number" == typeof e) return Object(O["l"])(e); const { message: t } = Object(O["s"])("UNKNOWN_TYPE", "Target type: " + typeof e); throw new Error(t) } async setExpirations(e) { await this.core.storage.setItem(this.storageKey, e) } async getExpirations() { return await this.core.storage.getItem(this.storageKey) } async persist() { await this.setExpirations(this.values), this.events.emit(ar.sync) } async restore() { try { const e = await this.getExpirations(); if (typeof e > "u" || !e.length) return; if (this.expirations.size) { const { message: e } = Object(O["s"])("RESTORE_WILL_OVERRIDE", this.name); throw this.logger.error(e), new Error(e) } this.cached = e, this.logger.debug("Successfully Restored expirations for " + this.name), this.logger.trace({ type: "method", method: "restore", expirations: this.values }) } catch (e) { this.logger.debug("Failed to Restore expirations for " + this.name), this.logger.error(e) } } getExpiration(e) { const t = this.expirations.get(e); if (!t) { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", `${this.name}: ${e}`); throw this.logger.error(t), new Error(t) } return t } checkExpiry(e, t) { const { expiry: r } = t; Object(I["toMiliseconds"])(r) - Date.now() <= 0 && this.expire(e, t) } expire(e, t) { this.expirations.delete(e), this.events.emit(ar.expired, { target: e, expiration: t }) } checkExpirations() { this.core.relayer.connected && this.expirations.forEach((e, t) => this.checkExpiry(t, e)) } registerEventListeners() { this.core.heartbeat.on(a["HEARTBEAT_EVENTS"].pulse, () => this.checkExpirations()), this.events.on(ar.created, e => { const t = ar.created; this.logger.info("Emitting " + t), this.logger.debug({ type: "event", event: t, data: e }), this.persist() }), this.events.on(ar.expired, e => { const t = ar.expired; this.logger.info("Emitting " + t), this.logger.debug({ type: "event", event: t, data: e }), this.persist() }), this.events.on(ar.deleted, e => { const t = ar.deleted; this.logger.info("Emitting " + t), this.logger.debug({ type: "event", event: t, data: e }), this.persist() }) } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } } class Vr extends v { constructor(e, t) { super(e, t), this.projectId = e, this.logger = t, this.name = ur, this.initialized = !1, this.init = async e => { Object(O["G"])() || !Object(O["A"])() || (this.verifyUrl = (null === e || void 0 === e ? void 0 : e.verifyUrl) || hr, await this.createIframe()) }, this.register = async e => { var t; this.initialized || await this.init(), this.iframe && (null == (t = this.iframe.contentWindow) || t.postMessage(e.attestationId, this.verifyUrl), this.logger.info(`postMessage sent: ${e.attestationId} ${this.verifyUrl}`)) }, this.resolve = async e => { var t; if (this.isDevEnv) return ""; this.logger.info("resolving attestation: " + e.attestationId); const r = this.startAbortTimer(I["FIVE_SECONDS"]), n = await fetch(`${this.verifyUrl}/attestation/${e.attestationId}`, { signal: this.abortController.signal }); return clearTimeout(r), 200 === n.status ? null == (t = await n.json()) ? void 0 : t.origin : "" }, this.createIframe = async () => { try { await Promise.race([new Promise((e, t) => { if (document.getElementById(ur)) return e(); const r = document.createElement("iframe"); r.setAttribute("id", ur), r.setAttribute("src", `${this.verifyUrl}/${this.projectId}`), r.style.display = "none", r.addEventListener("load", () => { this.initialized = !0, e() }), r.addEventListener("error", e => { t(e) }), document.body.append(r), this.iframe = r }), new Promise(e => { setTimeout(() => e("iframe load timeout"), Object(I["toMiliseconds"])(I["ONE_SECOND"] / 2)) })]) } catch (e) { this.logger.error("Verify iframe failed to load: " + this.verifyUrl), this.logger.error(e) } }, this.logger = Object(c["generateChildLogger"])(t, this.name), this.verifyUrl = hr, this.abortController = new AbortController, this.isDevEnv = Object(O["E"])() && Object({ NODE_ENV: "production", VUE_APP_ETHEREUM_CHAIN_ID: "1", VUE_APP_BINANCE_CHAIN_ID: "56", VUE_APP_POLYGON_CHAIN_ID: "137", VUE_APP_INFURA_KEY: "901360f9b16940c0a0c7d7a323faed88", VUE_APP_WEB3_PROVIDER_ETHEREUM: "https://eth-mainnet.laborx.io/", VUE_APP_WALLETCONNECT_PROJECT_ID: "82d6e5719395d8d068214393a5847e8e", VUE_APP_WALLETCONNECT_RELAY_URL: "wss://relay.walletconnect.com", VUE_APP_WEB3_PROVIDER_BINANCE: "https://bsc-dataseed.binance.org/", VUE_APP_WEB3_PROVIDER_POLYGON: "https://green-crimson-pond.matic.quiknode.pro/8869965358d360170991fe91ff470e711e46a80d/", VUE_APP_EXPLORER_ETHEREUM: "https://etherscan.io", VUE_APP_EXPLORER_BINANCE: "https://bscscan.com", VUE_APP_EXPLORER_POLYGON: "https://polygonscan.com", VUE_APP_BINANCE_CURRENCIES: '[{"name":"BNB","address":"0x0000000000000000000000000000000000000000","decimals":18,"digitsAfterDecimalShow":5,"digitsAfterDecimalShowInTvl":2},{"name":"TIME","address":"0x3b198e26E473b8faB2085b37978e36c9DE5D7f68","decimals":8,"digitsAfterDecimalShow":2,"digitsAfterDecimalShowInTvl":0,"getLink":"https://pancakeswap.finance/swap?outputCurrency=0x3b198e26E473b8faB2085b37978e36c9DE5D7f68"},{"name":"LP TIME-BNB","address":"0xa5ebD19961CF4B8aF06a9d9D2B91d73B48744867","decimals":18,"digitsAfterDecimalShow":8,"digitsAfterDecimalShowInTvl":8,"getLink":"https://pancakeswap.finance/add/bnb/0x3b198e26E473b8faB2085b37978e36c9DE5D7f68"},{"name":"BNB","secondName":"WBNB","address":"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c","decimals":18,"digitsAfterDecimalShow":5,"digitsAfterDecimalShowInTvl":2},{"name":"MDAO","address":"0x60322971a672B81BccE5947706D22c19dAeCf6Fb","decimals":18,"digitsAfterDecimalShow":2,"digitsAfterDecimalShowInTvl":0,"getLink":"https://pancakeswap.finance/swap?outputCurrency=0x3b198e26E473b8faB2085b37978e36c9DE5D7f68"}]', VUE_APP_ETHEREUM_CURRENCIES: '[{"name":"ETH","address":"0x0000000000000000000000000000000000000000","decimals":18,"digitsAfterDecimalShow":5,"digitsAfterDecimalShowInTvl":2},{"name":"TIME","address":"0x485d17A6f1B8780392d53D64751824253011A260","decimals":8,"digitsAfterDecimalShow":2,"digitsAfterDecimalShowInTvl":0,"getLink":"https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=0x485d17a6f1b8780392d53d64751824253011a260&use=V2"},{"name":"LP TIME-ETH","address":"0x1d474d4B4A62b0Ad0C819841eB2C74d1c5050524","decimals":18,"digitsAfterDecimalShow":8,"digitsAfterDecimalShowInTvl":8,"getLink":"https://app.uniswap.org/#/add/v2/ETH/0x485d17A6f1B8780392d53D64751824253011A260"},{"name":"ETH","secondName":"WETH","address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","decimals":18,"digitsAfterDecimalShow":5,"digitsAfterDecimalShowInTvl":2}]', VUE_APP_POLYGON_CURRENCIES: '[{"name":"MATIC","address":"0x0000000000000000000000000000000000000000","decimals":18,"digitsAfterDecimalShow":5,"digitsAfterDecimalShowInTvl":2},{"name":"TIME","address":"0xb970Bc1BD4fCD639c37aa8eFD6713eaDc577252f","decimals":8,"digitsAfterDecimalShow":2,"digitsAfterDecimalShowInTvl":0,"getLink":"https://quickswap.exchange/#/swap?inputCurrency=0x7ceb23fd6bc0add59e62ac25578270cff1b9f619&outputCurrency=0xb970bc1bd4fcd639c37aa8efd6713eadc577252f"},{"name":"LP TIME-WETH","address":"0x86Fd28F9E3EDEA88965eDbeF5DDe0EA6e3ECE530","decimals":18,"digitsAfterDecimalShow":8,"digitsAfterDecimalShowInTvl":8,"getLink":"https://quickswap.exchange/#/add/0x7ceb23fd6bc0add59e62ac25578270cff1b9f619/0xb970Bc1BD4fCD639c37aa8eFD6713eaDc577252f"},{"name":"MATIC","secondName":"WMATIC","address":"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270","decimals":18,"digitsAfterDecimalShow":5,"digitsAfterDecimalShowInTvl":2},{"name":"ETH","secondName":"WETH","address":"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619","decimals":18,"digitsAfterDecimalShow":5,"digitsAfterDecimalShowInTvl":2}]', VUE_APP_BINANCE_POOLS: '[{"name":"TIME","address":"0x59f2757Ae3a1BAa21e4f397a28985Ceb431c676b","erc20AddressDeposit":"0x3b198e26E473b8faB2085b37978e36c9DE5D7f68","erc20AddressReward":"0x3b198e26E473b8faB2085b37978e36c9DE5D7f68","icon":"/static/images/pools/time-purple.svg","unlockAll":false},{"name":"TIME-BNB","address":"0xC48467BA55cF0B777978F19701329c87949EFD3C","erc20AddressDeposit":"0xa5ebD19961CF4B8aF06a9d9D2B91d73B48744867","erc20AddressReward":"0x3b198e26E473b8faB2085b37978e36c9DE5D7f68","icon":"/static/images/pools/pancake.svg","unlockAll":false,"lpAsset0Address":"0x3b198e26E473b8faB2085b37978e36c9DE5D7f68","lpAsset1Address":"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c"}]', VUE_APP_ETHEREUM_POOLS: '[{"name":"TIME","address":"0xa106dd3Bc6C42B3f28616FfAB615c7d494Eb629D","erc20AddressDeposit":"0x485d17A6f1B8780392d53D64751824253011A260","erc20AddressReward":"0x485d17A6f1B8780392d53D64751824253011A260","icon":"/static/images/pools/time-purple.svg","unlockAll":false},{"name":"TIME-ETH","address":"0x55c825983783c984890bA89F7d7C9575814D83F2","erc20AddressDeposit":"0x1d474d4B4A62b0Ad0C819841eB2C74d1c5050524","erc20AddressReward":"0x485d17A6f1B8780392d53D64751824253011A260","icon":"/static/images/pools/uniswap.svg","unlockAll":false,"lpAsset0Address":"0x485d17A6f1B8780392d53D64751824253011A260","lpAsset1Address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"}]', VUE_APP_POLYGON_POOLS: '[{"name":"TIME","address":"0xD9286F3211B00232c0d782F382507929738d131e","erc20AddressDeposit":"0xb970Bc1BD4fCD639c37aa8eFD6713eaDc577252f","erc20AddressReward":"0xb970Bc1BD4fCD639c37aa8eFD6713eaDc577252f","icon":"/static/images/pools/time-purple.svg","unlockAll":false},{"name":"TIME-WETH","address":"0x98Fd21fec5E72EafE0dE81741aC76C3D19615F57","erc20AddressDeposit":"0x86Fd28F9E3EDEA88965eDbeF5DDe0EA6e3ECE530","erc20AddressReward":"0xb970Bc1BD4fCD639c37aa8eFD6713eaDc577252f","icon":"/static/images/pools/quickswap.png","unlockAll":false,"lpAsset0Address":"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619","lpAsset1Address":"0xb970Bc1BD4fCD639c37aa8eFD6713eaDc577252f"}]', VUE_APP_BALANCES_UPDATE_INTERVAL: "30000", VUE_APP_BINANCE_POOLS_V2: '[{"name":"TIME","address":"0x867194D66D7021e19279d8f1d319E3aaf5F836a9","erc20AddressDeposit":"0x3b198e26E473b8faB2085b37978e36c9DE5D7f68","erc20AddressReward":"0x60322971a672B81BccE5947706D22c19dAeCf6Fb","icon":"/static/images/pools/time-purple.svg","unlockAll":true}]', VUE_APP_CRM_URL: "https://crm-backend.cgu.io", BASE_URL: "/" }).IS_VITEST } get context() { return Object(c["getLoggerContext"])(this.logger) } startAbortTimer(e) { return setTimeout(() => this.abortController.abort(), Object(I["toMiliseconds"])(e)) } } var Kr = Object.defineProperty, Fr = Object.getOwnPropertySymbols, $r = Object.prototype.hasOwnProperty, Wr = Object.prototype.propertyIsEnumerable, Jr = (e, t, r) => t in e ? Kr(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, Gr = (e, t) => { for (var r in t || (t = {})) $r.call(t, r) && Jr(e, r, t[r]); if (Fr) for (var r of Fr(t)) Wr.call(t, r) && Jr(e, r, t[r]); return e }; class Yr extends h { constructor(e) { super(e), this.protocol = Ot, this.version = St, this.name = It, this.events = new n["EventEmitter"], this.initialized = !1, this.on = (e, t) => this.events.on(e, t), this.once = (e, t) => this.events.once(e, t), this.off = (e, t) => this.events.off(e, t), this.removeListener = (e, t) => this.events.removeListener(e, t), this.projectId = null === e || void 0 === e ? void 0 : e.projectId, this.relayUrl = (null === e || void 0 === e ? void 0 : e.relayUrl) || Bt; const t = typeof (null === e || void 0 === e ? void 0 : e.logger) < "u" && "string" != typeof (null === e || void 0 === e ? void 0 : e.logger) ? e.logger : Object(c["pino"])(Object(c["getDefaultLoggerOptions"])({ level: (null === e || void 0 === e ? void 0 : e.logger) || Pt.logger })); this.logger = Object(c["generateChildLogger"])(t, this.name), this.heartbeat = new a["HeartBeat"], this.crypto = new fr(this, this.logger, null === e || void 0 === e ? void 0 : e.keychain), this.history = new Hr(this, this.logger), this.expirer = new qr(this, this.logger), this.storage = null != e && e.storage ? e.storage : new o.a(Gr(Gr({}, At), null === e || void 0 === e ? void 0 : e.storageOptions)), this.relayer = new Tr({ core: this, logger: this.logger, relayUrl: this.relayUrl, projectId: this.projectId }), this.pairing = new Br(this, this.logger), this.verify = new Vr(this.projectId || "", this.logger) } static async init(e) { const t = new Yr(e); await t.initialize(); const r = await t.crypto.getClientId(); return await t.storage.setItem(Gt, r), t } get context() { return Object(c["getLoggerContext"])(this.logger) } async start() { this.initialized || await this.initialize() } async initialize() { this.logger.trace("Initialized"); try { await this.crypto.init(), await this.history.init(), await this.expirer.init(), await this.relayer.init(), await this.heartbeat.init(), await this.pairing.init(), this.initialized = !0, this.logger.info("Core Initialization Success") } catch (e) { throw this.logger.warn("Core Initialization Failure at epoch " + Date.now(), e), this.logger.error(e.message), e } } } const Xr = Yr, Zr = "wc", Qr = 2, en = "client", tn = `${Zr}@${Qr}:${en}:`, rn = { name: en, logger: "error", controller: !1, relayUrl: "wss://relay.walletconnect.com" }, nn = "WALLETCONNECT_DEEPLINK_CHOICE", sn = "proposal", on = (I["THIRTY_DAYS"], "Proposal expired"), an = "session", cn = I["SEVEN_DAYS"], un = "engine", hn = { wc_sessionPropose: { req: { ttl: I["FIVE_MINUTES"], prompt: !0, tag: 1100 }, res: { ttl: I["FIVE_MINUTES"], prompt: !1, tag: 1101 } }, wc_sessionSettle: { req: { ttl: I["FIVE_MINUTES"], prompt: !1, tag: 1102 }, res: { ttl: I["FIVE_MINUTES"], prompt: !1, tag: 1103 } }, wc_sessionUpdate: { req: { ttl: I["ONE_DAY"], prompt: !1, tag: 1104 }, res: { ttl: I["ONE_DAY"], prompt: !1, tag: 1105 } }, wc_sessionExtend: { req: { ttl: I["ONE_DAY"], prompt: !1, tag: 1106 }, res: { ttl: I["ONE_DAY"], prompt: !1, tag: 1107 } }, wc_sessionRequest: { req: { ttl: I["FIVE_MINUTES"], prompt: !0, tag: 1108 }, res: { ttl: I["FIVE_MINUTES"], prompt: !1, tag: 1109 } }, wc_sessionEvent: { req: { ttl: I["FIVE_MINUTES"], prompt: !0, tag: 1110 }, res: { ttl: I["FIVE_MINUTES"], prompt: !1, tag: 1111 } }, wc_sessionDelete: { req: { ttl: I["ONE_DAY"], prompt: !1, tag: 1112 }, res: { ttl: I["ONE_DAY"], prompt: !1, tag: 1113 } }, wc_sessionPing: { req: { ttl: I["THIRTY_SECONDS"], prompt: !1, tag: 1114 }, res: { ttl: I["THIRTY_SECONDS"], prompt: !1, tag: 1115 } } }, ln = { min: I["FIVE_MINUTES"], max: I["SEVEN_DAYS"] }, fn = "request", dn = ["wc_sessionPropose", "wc_sessionRequest", "wc_authRequest"]; var pn = Object.defineProperty, gn = Object.defineProperties, bn = Object.getOwnPropertyDescriptors, yn = Object.getOwnPropertySymbols, vn = Object.prototype.hasOwnProperty, _n = Object.prototype.propertyIsEnumerable, mn = (e, t, r) => t in e ? pn(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, wn = (e, t) => { for (var r in t || (t = {})) vn.call(t, r) && mn(e, r, t[r]); if (yn) for (var r of yn(t)) _n.call(t, r) && mn(e, r, t[r]); return e }, En = (e, t) => gn(e, bn(t)); class On extends m { constructor(e) { super(e), this.name = un, this.events = new i.a, this.initialized = !1, this.ignoredPayloadTypes = [O["b"]], this.init = async () => { this.initialized || (await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.client.core.pairing.register({ methods: Object.keys(hn) }), this.initialized = !0) }, this.connect = async e => { this.isInitialized(); const t = En(wn({}, e), { requiredNamespaces: e.requiredNamespaces || {}, optionalNamespaces: e.optionalNamespaces || {} }); await this.isValidConnect(t); const { pairingTopic: r, requiredNamespaces: n, optionalNamespaces: i, sessionProperties: s, relays: o } = t; let a, c = r, u = !1; if (c && (u = this.client.core.pairing.pairings.get(c).active), !c || !u) { const { topic: e, uri: t } = await this.client.core.pairing.create(); c = e, a = t } const h = await this.client.core.crypto.generateKeyPair(), l = wn({ requiredNamespaces: n, optionalNamespaces: i, relays: null !== o && void 0 !== o ? o : [{ protocol: kt }], proposer: { publicKey: h, metadata: this.client.metadata } }, s && { sessionProperties: s }), { reject: f, resolve: d, done: p } = Object(O["d"])(I["FIVE_MINUTES"], on); if (this.events.once(Object(O["k"])("session_connect"), async ({ error: e, session: t }) => { if (e) f(e); else if (t) { t.self.publicKey = h; const e = En(wn({}, t), { requiredNamespaces: t.requiredNamespaces, optionalNamespaces: t.optionalNamespaces }); await this.client.session.set(t.topic, e), await this.setExpiry(t.topic, t.expiry), c && await this.client.core.pairing.updateMetadata({ topic: c, metadata: t.peer.metadata }), d(e) } }), !c) { const { message: e } = Object(O["s"])("NO_MATCHING_KEY", "connect() pairing topic: " + c); throw new Error(e) } const g = await this.sendRequest(c, "wc_sessionPropose", l), b = Object(O["c"])(I["FIVE_MINUTES"]); return await this.setProposal(g, wn({ id: g, expiry: b }, l)), { uri: a, approval: p } }, this.pair = async e => (this.isInitialized(), await this.client.core.pairing.pair(e)), this.approve = async e => { this.isInitialized(), await this.isValidApprove(e); const { id: t, relayProtocol: r, namespaces: n, sessionProperties: i } = e, s = this.client.proposal.get(t); let { pairingTopic: o, proposer: a, requiredNamespaces: c, optionalNamespaces: u } = s; o = o || "", Object(O["U"])(c) || (c = Object(O["v"])(n, "approve()")); const h = await this.client.core.crypto.generateKeyPair(), l = a.publicKey, f = await this.client.core.crypto.generateSharedKey(h, l); o && t && (await this.client.core.pairing.updateMetadata({ topic: o, metadata: a.metadata }), await this.sendResult(t, o, { relay: { protocol: null !== r && void 0 !== r ? r : "irn" }, responderPublicKey: h }), await this.client.proposal.delete(t, Object(O["w"])("USER_DISCONNECTED")), await this.client.core.pairing.activate({ topic: o })); const d = wn({ relay: { protocol: null !== r && void 0 !== r ? r : "irn" }, namespaces: n, requiredNamespaces: c, optionalNamespaces: u, pairingTopic: o, controller: { publicKey: h, metadata: this.client.metadata }, expiry: Object(O["c"])(cn) }, i && { sessionProperties: i }); await this.client.core.relayer.subscribe(f), await this.sendRequest(f, "wc_sessionSettle", d); const p = En(wn({}, d), { topic: f, pairingTopic: o, acknowledged: !1, self: d.controller, peer: { publicKey: a.publicKey, metadata: a.metadata }, controller: h }); return await this.client.session.set(f, p), await this.setExpiry(f, Object(O["c"])(cn)), { topic: f, acknowledged: () => new Promise(e => setTimeout(() => e(this.client.session.get(f)), 500)) } }, this.reject = async e => { this.isInitialized(), await this.isValidReject(e); const { id: t, reason: r } = e, { pairingTopic: n } = this.client.proposal.get(t); n && (await this.sendError(t, n, r), await this.client.proposal.delete(t, Object(O["w"])("USER_DISCONNECTED"))) }, this.update = async e => { this.isInitialized(), await this.isValidUpdate(e); const { topic: t, namespaces: r } = e, n = await this.sendRequest(t, "wc_sessionUpdate", { namespaces: r }), { done: i, resolve: s, reject: o } = Object(O["d"])(); return this.events.once(Object(O["k"])("session_update", n), ({ error: e }) => { e ? o(e) : s() }), await this.client.session.update(t, { namespaces: r }), { acknowledged: i } }, this.extend = async e => { this.isInitialized(), await this.isValidExtend(e); const { topic: t } = e, r = await this.sendRequest(t, "wc_sessionExtend", {}), { done: n, resolve: i, reject: s } = Object(O["d"])(); return this.events.once(Object(O["k"])("session_extend", r), ({ error: e }) => { e ? s(e) : i() }), await this.setExpiry(t, Object(O["c"])(cn)), { acknowledged: n } }, this.request = async e => { this.isInitialized(), await this.isValidRequest(e); const { chainId: t, request: r, topic: n, expiry: i } = e, s = await this.sendRequest(n, "wc_sessionRequest", { request: r, chainId: t }, i), { done: o, resolve: a, reject: c } = Object(O["d"])(i); this.events.once(Object(O["k"])("session_request", s), ({ error: e, result: t }) => { e ? c(e) : a(t) }), this.client.events.emit("session_request_sent", { topic: n, request: r, chainId: t, id: s }); const u = await this.client.core.storage.getItem(nn); return Object(O["x"])({ id: s, topic: n, wcDeepLink: u }), await o() }, this.respond = async e => { this.isInitialized(), await this.isValidRespond(e); const { topic: t, response: r } = e, { id: n } = r; Object(P["isJsonRpcResult"])(r) ? await this.sendResult(n, t, r.result) : Object(P["isJsonRpcError"])(r) && await this.sendError(n, t, r.error), this.deletePendingSessionRequest(e.response.id, { message: "fulfilled", code: 0 }) }, this.ping = async e => { this.isInitialized(), await this.isValidPing(e); const { topic: t } = e; if (this.client.session.keys.includes(t)) { const e = await this.sendRequest(t, "wc_sessionPing", {}), { done: r, resolve: n, reject: i } = Object(O["d"])(); this.events.once(Object(O["k"])("session_ping", e), ({ error: e }) => { e ? i(e) : n() }), await r() } else this.client.core.pairing.pairings.keys.includes(t) && await this.client.core.pairing.ping({ topic: t }) }, this.emit = async e => { this.isInitialized(), await this.isValidEmit(e); const { topic: t, event: r, chainId: n } = e; await this.sendRequest(t, "wc_sessionEvent", { event: r, chainId: n }) }, this.disconnect = async e => { this.isInitialized(), await this.isValidDisconnect(e); const { topic: t } = e; if (this.client.session.keys.includes(t)) { const e = Object(P["getBigIntRpcId"])().toString(); let r; const n = t => { (null === t || void 0 === t ? void 0 : t.id.toString()) === e && (this.client.core.relayer.events.removeListener(qt.message_ack, n), r()) }; await Promise.all([new Promise(e => { r = e, this.client.core.relayer.on(qt.message_ack, n) }), this.sendRequest(t, "wc_sessionDelete", Object(O["w"])("USER_DISCONNECTED"), void 0, e)]), await this.deleteSession(t) } else await this.client.core.pairing.disconnect({ topic: t }) }, this.find = e => (this.isInitialized(), this.client.session.getAll().filter(t => Object(O["H"])(t, e))), this.getPendingSessionRequests = () => (this.isInitialized(), this.client.pendingRequest.getAll()), this.cleanupDuplicatePairings = async e => { try { const t = this.client.core.pairing.pairings.get(e.pairingTopic), r = this.client.core.pairing.pairings.getAll().filter(r => { var n, i; return (null == (n = r.peerMetadata) ? void 0 : n.url) && (null == (i = r.peerMetadata) ? void 0 : i.url) === e.peer.metadata.url && r.topic && r.topic !== t.topic }); if (0 === r.length) return; this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`), await Promise.all(r.map(e => this.client.core.pairing.disconnect({ topic: e.topic }))), this.client.logger.info("Duplicate pairings clean up finished") } catch (t) { this.client.logger.error(t) } }, this.deleteSession = async (e, t) => { const { self: r } = this.client.session.get(e); await this.client.core.relayer.unsubscribe(e), this.client.session.delete(e, Object(O["w"])("USER_DISCONNECTED")), this.client.core.crypto.keychain.has(r.publicKey) && await this.client.core.crypto.deleteKeyPair(r.publicKey), this.client.core.crypto.keychain.has(e) && await this.client.core.crypto.deleteSymKey(e), t || this.client.core.expirer.del(e) }, this.deleteProposal = async (e, t) => { await Promise.all([this.client.proposal.delete(e, Object(O["w"])("USER_DISCONNECTED")), t ? Promise.resolve() : this.client.core.expirer.del(e)]) }, this.deletePendingSessionRequest = async (e, t, r = !1) => { await Promise.all([this.client.pendingRequest.delete(e, t), r ? Promise.resolve() : this.client.core.expirer.del(e)]) }, this.setExpiry = async (e, t) => { this.client.session.keys.includes(e) && await this.client.session.update(e, { expiry: t }), this.client.core.expirer.set(e, t) }, this.setProposal = async (e, t) => { await this.client.proposal.set(e, t), this.client.core.expirer.set(e, t.expiry) }, this.setPendingSessionRequest = async e => { const t = hn.wc_sessionRequest.req.ttl, { id: r, topic: n, params: i } = e; await this.client.pendingRequest.set(r, { id: r, topic: n, params: i }), t && this.client.core.expirer.set(r, Object(O["c"])(t)) }, this.sendRequest = async (e, t, r, n, i) => { const s = Object(P["formatJsonRpcRequest"])(t, r); if (Object(O["A"])() && dn.includes(t)) { const e = Object(O["z"])(JSON.stringify(s)); await this.client.core.verify.register({ attestationId: e }) } const o = await this.client.core.crypto.encode(e, s), a = hn[t].req; return n && (a.ttl = n), i && (a.id = i), this.client.core.history.set(e, s), this.client.core.relayer.publish(e, o, a), s.id }, this.sendResult = async (e, t, r) => { const n = Object(P["formatJsonRpcResult"])(e, r), i = await this.client.core.crypto.encode(t, n), s = await this.client.core.history.get(t, e), o = hn[s.request.method].res; this.client.core.relayer.publish(t, i, o), await this.client.core.history.resolve(n) }, this.sendError = async (e, t, r) => { const n = Object(P["formatJsonRpcError"])(e, r), i = await this.client.core.crypto.encode(t, n), s = await this.client.core.history.get(t, e), o = hn[s.request.method].res; this.client.core.relayer.publish(t, i, o), await this.client.core.history.resolve(n) }, this.cleanup = async () => { const e = [], t = []; this.client.session.getAll().forEach(t => { Object(O["D"])(t.expiry) && e.push(t.topic) }), this.client.proposal.getAll().forEach(e => { Object(O["D"])(e.expiry) && t.push(e.id) }), await Promise.all([...e.map(e => this.deleteSession(e)), ...t.map(e => this.deleteProposal(e))]) }, this.onRelayEventRequest = e => { const { topic: t, payload: r } = e, n = r.method; switch (n) { case "wc_sessionPropose": return this.onSessionProposeRequest(t, r); case "wc_sessionSettle": return this.onSessionSettleRequest(t, r); case "wc_sessionUpdate": return this.onSessionUpdateRequest(t, r); case "wc_sessionExtend": return this.onSessionExtendRequest(t, r); case "wc_sessionPing": return this.onSessionPingRequest(t, r); case "wc_sessionDelete": return this.onSessionDeleteRequest(t, r); case "wc_sessionRequest": return this.onSessionRequest(t, r); case "wc_sessionEvent": return this.onSessionEventRequest(t, r); default: return this.client.logger.info("Unsupported request method " + n) } }, this.onRelayEventResponse = async e => { const { topic: t, payload: r } = e, n = (await this.client.core.history.get(t, r.id)).request.method; switch (n) { case "wc_sessionPropose": return this.onSessionProposeResponse(t, r); case "wc_sessionSettle": return this.onSessionSettleResponse(t, r); case "wc_sessionUpdate": return this.onSessionUpdateResponse(t, r); case "wc_sessionExtend": return this.onSessionExtendResponse(t, r); case "wc_sessionPing": return this.onSessionPingResponse(t, r); case "wc_sessionRequest": return this.onSessionRequestResponse(t, r); default: return this.client.logger.info("Unsupported response method " + n) } }, this.onRelayEventUnknownPayload = e => { const { topic: t } = e, { message: r } = Object(O["s"])("MISSING_OR_INVALID", `Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`); throw new Error(r) }, this.onSessionProposeRequest = async (e, t) => { const { params: r, id: n } = t; try { this.isValidConnect(wn({}, t.params)); const i = Object(O["c"])(I["FIVE_MINUTES"]), s = wn({ id: n, pairingTopic: e, expiry: i }, r); await this.setProposal(n, s); const o = Object(O["z"])(JSON.stringify(t)), a = await this.getVerifyContext(o, s.proposer.metadata); this.client.events.emit("session_proposal", { id: n, params: s, verifyContext: a }) } catch (i) { await this.sendError(n, e, i), this.client.logger.error(i) } }, this.onSessionProposeResponse = async (e, t) => { const { id: r } = t; if (Object(P["isJsonRpcResult"])(t)) { const { result: n } = t; this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", result: n }); const i = this.client.proposal.get(r); this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", proposal: i }); const s = i.proposer.publicKey; this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", selfPublicKey: s }); const o = n.responderPublicKey; this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", peerPublicKey: o }); const a = await this.client.core.crypto.generateSharedKey(s, o); this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", sessionTopic: a }); const c = await this.client.core.relayer.subscribe(a); this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", subscriptionId: c }), await this.client.core.pairing.activate({ topic: e }) } else Object(P["isJsonRpcError"])(t) && (await this.client.proposal.delete(r, Object(O["w"])("USER_DISCONNECTED")), this.events.emit(Object(O["k"])("session_connect"), { error: t.error })) }, this.onSessionSettleRequest = async (e, t) => { const { id: r, params: n } = t; try { this.isValidSessionSettleRequest(n); const { relay: r, controller: i, expiry: s, namespaces: o, requiredNamespaces: a, optionalNamespaces: c, sessionProperties: u, pairingTopic: h } = t.params, l = wn({ topic: e, relay: r, expiry: s, namespaces: o, acknowledged: !0, pairingTopic: h, requiredNamespaces: a, optionalNamespaces: c, controller: i.publicKey, self: { publicKey: "", metadata: this.client.metadata }, peer: { publicKey: i.publicKey, metadata: i.metadata } }, u && { sessionProperties: u }); await this.sendResult(t.id, e, !0), this.events.emit(Object(O["k"])("session_connect"), { session: l }), this.cleanupDuplicatePairings(l) } catch (i) { await this.sendError(r, e, i), this.client.logger.error(i) } }, this.onSessionSettleResponse = async (e, t) => { const { id: r } = t; Object(P["isJsonRpcResult"])(t) ? (await this.client.session.update(e, { acknowledged: !0 }), this.events.emit(Object(O["k"])("session_approve", r), {})) : Object(P["isJsonRpcError"])(t) && (await this.client.session.delete(e, Object(O["w"])("USER_DISCONNECTED")), this.events.emit(Object(O["k"])("session_approve", r), { error: t.error })) }, this.onSessionUpdateRequest = async (e, t) => { const { params: r, id: n } = t; try { this.isValidUpdate(wn({ topic: e }, r)), await this.client.session.update(e, { namespaces: r.namespaces }), await this.sendResult(n, e, !0), this.client.events.emit("session_update", { id: n, topic: e, params: r }) } catch (i) { await this.sendError(n, e, i), this.client.logger.error(i) } }, this.onSessionUpdateResponse = (e, t) => { const { id: r } = t; Object(P["isJsonRpcResult"])(t) ? this.events.emit(Object(O["k"])("session_update", r), {}) : Object(P["isJsonRpcError"])(t) && this.events.emit(Object(O["k"])("session_update", r), { error: t.error }) }, this.onSessionExtendRequest = async (e, t) => { const { id: r } = t; try { this.isValidExtend({ topic: e }), await this.setExpiry(e, Object(O["c"])(cn)), await this.sendResult(r, e, !0), this.client.events.emit("session_extend", { id: r, topic: e }) } catch (n) { await this.sendError(r, e, n), this.client.logger.error(n) } }, this.onSessionExtendResponse = (e, t) => { const { id: r } = t; Object(P["isJsonRpcResult"])(t) ? this.events.emit(Object(O["k"])("session_extend", r), {}) : Object(P["isJsonRpcError"])(t) && this.events.emit(Object(O["k"])("session_extend", r), { error: t.error }) }, this.onSessionPingRequest = async (e, t) => { const { id: r } = t; try { this.isValidPing({ topic: e }), await this.sendResult(r, e, !0), this.client.events.emit("session_ping", { id: r, topic: e }) } catch (n) { await this.sendError(r, e, n), this.client.logger.error(n) } }, this.onSessionPingResponse = (e, t) => { const { id: r } = t; setTimeout(() => { Object(P["isJsonRpcResult"])(t) ? this.events.emit(Object(O["k"])("session_ping", r), {}) : Object(P["isJsonRpcError"])(t) && this.events.emit(Object(O["k"])("session_ping", r), { error: t.error }) }, 500) }, this.onSessionDeleteRequest = async (e, t) => { const { id: r } = t; try { this.isValidDisconnect({ topic: e, reason: t.params }), await Promise.all([new Promise(t => { this.client.core.relayer.once(qt.publish, async () => { t(await this.deleteSession(e)) }) }), this.sendResult(r, e, !0)]), this.client.events.emit("session_delete", { id: r, topic: e }) } catch (n) { this.client.logger.error(n) } }, this.onSessionRequest = async (e, t) => { const { id: r, params: n } = t; try { this.isValidRequest(wn({ topic: e }, n)), await this.setPendingSessionRequest({ id: r, topic: e, params: n }); const i = Object(O["z"])(JSON.stringify(t)), s = this.client.session.get(e), o = await this.getVerifyContext(i, s.peer.metadata); this.client.events.emit("session_request", { id: r, topic: e, params: n, verifyContext: o }) } catch (i) { await this.sendError(r, e, i), this.client.logger.error(i) } }, this.onSessionRequestResponse = (e, t) => { const { id: r } = t; Object(P["isJsonRpcResult"])(t) ? this.events.emit(Object(O["k"])("session_request", r), { result: t.result }) : Object(P["isJsonRpcError"])(t) && this.events.emit(Object(O["k"])("session_request", r), { error: t.error }) }, this.onSessionEventRequest = async (e, t) => { const { id: r, params: n } = t; try { this.isValidEmit(wn({ topic: e }, n)), this.client.events.emit("session_event", { id: r, topic: e, params: n }) } catch (i) { await this.sendError(r, e, i), this.client.logger.error(i) } }, this.isValidConnect = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "connect() params: " + JSON.stringify(e)); throw new Error(t) } const { pairingTopic: t, requiredNamespaces: r, optionalNamespaces: n, sessionProperties: i, relays: s } = e; if (Object(O["K"])(t) || await this.isValidPairingTopic(t), !Object(O["X"])(s, !0)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "connect() relays: " + s); throw new Error(e) } !Object(O["K"])(r) && 0 !== Object(O["U"])(r) && this.validateNamespaces(r, "requiredNamespaces"), !Object(O["K"])(n) && 0 !== Object(O["U"])(n) && this.validateNamespaces(n, "optionalNamespaces"), Object(O["K"])(i) || this.validateSessionProps(i, "sessionProperties") }, this.validateNamespaces = (e, t) => { const r = Object(O["ab"])(e, "connect()", t); if (r) throw new Error(r.message) }, this.isValidApprove = async e => { if (!Object(O["V"])(e)) throw new Error(Object(O["s"])("MISSING_OR_INVALID", "approve() params: " + e).message); const { id: t, namespaces: r, relayProtocol: n, sessionProperties: i } = e; await this.isValidProposalId(t); const s = this.client.proposal.get(t), o = Object(O["Q"])(r, "approve()"); if (o) throw new Error(o.message); const a = Object(O["C"])(s.requiredNamespaces, r, "approve()"); if (a) throw new Error(a.message); if (!Object(O["cb"])(n, !0)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "approve() relayProtocol: " + n); throw new Error(e) } Object(O["K"])(i) || this.validateSessionProps(i, "sessionProperties") }, this.isValidReject = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "reject() params: " + e); throw new Error(t) } const { id: t, reason: r } = e; if (await this.isValidProposalId(t), !Object(O["N"])(r)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "reject() reason: " + JSON.stringify(r)); throw new Error(e) } }, this.isValidSessionSettleRequest = e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "onSessionSettleRequest() params: " + e); throw new Error(t) } const { relay: t, controller: r, namespaces: n, expiry: i } = e; if (!Object(O["W"])(t)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "onSessionSettleRequest() relay protocol should be a string"); throw new Error(e) } const s = Object(O["M"])(r, "onSessionSettleRequest()"); if (s) throw new Error(s.message); const o = Object(O["Q"])(n, "onSessionSettleRequest()"); if (o) throw new Error(o.message); if (Object(O["D"])(i)) { const { message: e } = Object(O["s"])("EXPIRED", "onSessionSettleRequest()"); throw new Error(e) } }, this.isValidUpdate = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "update() params: " + e); throw new Error(t) } const { topic: t, namespaces: r } = e; await this.isValidSessionTopic(t); const n = this.client.session.get(t), i = Object(O["Q"])(r, "update()"); if (i) throw new Error(i.message); const s = Object(O["C"])(n.requiredNamespaces, r, "update()"); if (s) throw new Error(s.message) }, this.isValidExtend = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "extend() params: " + e); throw new Error(t) } const { topic: t } = e; await this.isValidSessionTopic(t) }, this.isValidRequest = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "request() params: " + e); throw new Error(t) } const { topic: t, request: r, chainId: n, expiry: i } = e; await this.isValidSessionTopic(t); const { namespaces: s } = this.client.session.get(t); if (!Object(O["R"])(s, n)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "request() chainId: " + n); throw new Error(e) } if (!Object(O["Y"])(r)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "request() " + JSON.stringify(r)); throw new Error(e) } if (!Object(O["T"])(s, n, r.method)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "request() method: " + r.method); throw new Error(e) } if (i && !Object(O["Z"])(i, ln)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", `request() expiry: ${i}. Expiry must be a number (in seconds) between ${ln.min} and ${ln.max}`); throw new Error(e) } }, this.isValidRespond = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "respond() params: " + e); throw new Error(t) } const { topic: t, response: r } = e; if (await this.isValidSessionTopic(t), !Object(O["bb"])(r)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "respond() response: " + JSON.stringify(r)); throw new Error(e) } }, this.isValidPing = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "ping() params: " + e); throw new Error(t) } const { topic: t } = e; await this.isValidSessionOrPairingTopic(t) }, this.isValidEmit = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "emit() params: " + e); throw new Error(t) } const { topic: t, event: r, chainId: n } = e; await this.isValidSessionTopic(t); const { namespaces: i } = this.client.session.get(t); if (!Object(O["R"])(i, n)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "emit() chainId: " + n); throw new Error(e) } if (!Object(O["O"])(r)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "emit() event: " + JSON.stringify(r)); throw new Error(e) } if (!Object(O["S"])(i, n, r.name)) { const { message: e } = Object(O["s"])("MISSING_OR_INVALID", "emit() event: " + JSON.stringify(r)); throw new Error(e) } }, this.isValidDisconnect = async e => { if (!Object(O["V"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "disconnect() params: " + e); throw new Error(t) } const { topic: t } = e; await this.isValidSessionOrPairingTopic(t) }, this.getVerifyContext = async (e, t) => { const r = { verified: { verifyUrl: t.verifyUrl || "", validation: "UNKNOWN", origin: t.url || "" } }; try { const n = await this.client.core.verify.resolve({ attestationId: e, verifyUrl: t.verifyUrl }); n && (r.verified.origin = n, r.verified.validation = n === t.url ? "VALID" : "INVALID") } catch (n) { this.client.logger.error(n) } return this.client.logger.info("Verify context: " + JSON.stringify(r)), r }, this.validateSessionProps = (e, t) => { Object.values(e).forEach(e => { if (!Object(O["cb"])(e, !1)) { const { message: r } = Object(O["s"])("MISSING_OR_INVALID", `${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`); throw new Error(r) } }) } } isInitialized() { if (!this.initialized) { const { message: e } = Object(O["s"])("NOT_INITIALIZED", this.name); throw new Error(e) } } registerRelayerEvents() { this.client.core.relayer.on(qt.message, async e => { const { topic: t, message: r } = e; if (this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(r))) return; const n = await this.client.core.crypto.decode(t, r); Object(P["isJsonRpcRequest"])(n) ? (this.client.core.history.set(t, n), this.onRelayEventRequest({ topic: t, payload: n })) : Object(P["isJsonRpcResponse"])(n) ? (await this.client.core.history.resolve(n), this.onRelayEventResponse({ topic: t, payload: n })) : this.onRelayEventUnknownPayload({ topic: t, payload: n }) }) } registerExpirerEvents() { this.client.core.expirer.on(ar.expired, async e => { const { topic: t, id: r } = Object(O["hb"])(e.target); if (r && this.client.pendingRequest.keys.includes(r)) return await this.deletePendingSessionRequest(r, Object(O["s"])("EXPIRED"), !0); t ? this.client.session.keys.includes(t) && (await this.deleteSession(t, !0), this.client.events.emit("session_expire", { topic: t })) : r && (await this.deleteProposal(r, !0), this.client.events.emit("proposal_expire", { id: r })) }) } isValidPairingTopic(e) { if (!Object(O["cb"])(e, !1)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "pairing topic should be a string: " + e); throw new Error(t) } if (!this.client.core.pairing.pairings.keys.includes(e)) { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", "pairing topic doesn't exist: " + e); throw new Error(t) } if (Object(O["D"])(this.client.core.pairing.pairings.get(e).expiry)) { const { message: t } = Object(O["s"])("EXPIRED", "pairing topic: " + e); throw new Error(t) } } async isValidSessionTopic(e) { if (!Object(O["cb"])(e, !1)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "session topic should be a string: " + e); throw new Error(t) } if (!this.client.session.keys.includes(e)) { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", "session topic doesn't exist: " + e); throw new Error(t) } if (Object(O["D"])(this.client.session.get(e).expiry)) { await this.deleteSession(e); const { message: t } = Object(O["s"])("EXPIRED", "session topic: " + e); throw new Error(t) } } async isValidSessionOrPairingTopic(e) { if (this.client.session.keys.includes(e)) await this.isValidSessionTopic(e); else { if (!this.client.core.pairing.pairings.keys.includes(e)) { if (Object(O["cb"])(e, !1)) { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", "session or pairing topic doesn't exist: " + e); throw new Error(t) } { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "session or pairing topic should be a string: " + e); throw new Error(t) } } this.isValidPairingTopic(e) } } async isValidProposalId(e) { if (!Object(O["P"])(e)) { const { message: t } = Object(O["s"])("MISSING_OR_INVALID", "proposal id should be a number: " + e); throw new Error(t) } if (!this.client.proposal.keys.includes(e)) { const { message: t } = Object(O["s"])("NO_MATCHING_KEY", "proposal id doesn't exist: " + e); throw new Error(t) } if (Object(O["D"])(this.client.proposal.get(e).expiry)) { await this.deleteProposal(e); const { message: t } = Object(O["s"])("EXPIRED", "proposal id: " + e); throw new Error(t) } } } class Sn extends zr { constructor(e, t) { super(e, t, sn, tn), this.core = e, this.logger = t } } class In extends zr { constructor(e, t) { super(e, t, an, tn), this.core = e, this.logger = t } } class jn extends zr { constructor(e, t) { super(e, t, fn, tn, e => e.id), this.core = e, this.logger = t } } class Pn extends _ { constructor(e) { super(e), this.protocol = Zr, this.version = Qr, this.name = rn.name, this.events = new n["EventEmitter"], this.on = (e, t) => this.events.on(e, t), this.once = (e, t) => this.events.once(e, t), this.off = (e, t) => this.events.off(e, t), this.removeListener = (e, t) => this.events.removeListener(e, t), this.removeAllListeners = e => this.events.removeAllListeners(e), this.connect = async e => { try { return await this.engine.connect(e) } catch (t) { throw this.logger.error(t.message), t } }, this.pair = async e => { try { return await this.engine.pair(e) } catch (t) { throw this.logger.error(t.message), t } }, this.approve = async e => { try { return await this.engine.approve(e) } catch (t) { throw this.logger.error(t.message), t } }, this.reject = async e => { try { return await this.engine.reject(e) } catch (t) { throw this.logger.error(t.message), t } }, this.update = async e => { try { return await this.engine.update(e) } catch (t) { throw this.logger.error(t.message), t } }, this.extend = async e => { try { return await this.engine.extend(e) } catch (t) { throw this.logger.error(t.message), t } }, this.request = async e => { try { return await this.engine.request(e) } catch (t) { throw this.logger.error(t.message), t } }, this.respond = async e => { try { return await this.engine.respond(e) } catch (t) { throw this.logger.error(t.message), t } }, this.ping = async e => { try { return await this.engine.ping(e) } catch (t) { throw this.logger.error(t.message), t } }, this.emit = async e => { try { return await this.engine.emit(e) } catch (t) { throw this.logger.error(t.message), t } }, this.disconnect = async e => { try { return await this.engine.disconnect(e) } catch (t) { throw this.logger.error(t.message), t } }, this.find = e => { try { return this.engine.find(e) } catch (t) { throw this.logger.error(t.message), t } }, this.getPendingSessionRequests = () => { try { return this.engine.getPendingSessionRequests() } catch (e) { throw this.logger.error(e.message), e } }, this.name = (null === e || void 0 === e ? void 0 : e.name) || rn.name, this.metadata = (null === e || void 0 === e ? void 0 : e.metadata) || Object(O["r"])(); const t = typeof (null === e || void 0 === e ? void 0 : e.logger) < "u" && "string" != typeof (null === e || void 0 === e ? void 0 : e.logger) ? e.logger : Object(c["pino"])(Object(c["getDefaultLoggerOptions"])({ level: (null === e || void 0 === e ? void 0 : e.logger) || rn.logger })); this.core = (null === e || void 0 === e ? void 0 : e.core) || new Xr(e), this.logger = Object(c["generateChildLogger"])(t, this.name), this.session = new In(this.core, this.logger), this.proposal = new Sn(this.core, this.logger), this.pendingRequest = new jn(this.core, this.logger), this.engine = new On(this) } static async init(e) { const t = new Pn(e); return await t.initialize(), t } get context() { return Object(c["getLoggerContext"])(this.logger) } get pairing() { return this.core.pairing.pairings } async initialize() { this.logger.trace("Initialized"); try { await this.core.start(), await this.session.init(), await this.proposal.init(), await this.pendingRequest.init(), await this.engine.init(), this.core.verify.init({ verifyUrl: this.metadata.verifyUrl }), this.logger.info("SignClient Initialization Success") } catch (e) { throw this.logger.info("SignClient Initialization Failure"), this.logger.error(e.message), e } } } }, aae3: function (e, t, r) { "use strict"; function n(e) { let t = void 0; return "undefined" !== typeof window && "undefined" !== typeof window[e] && (t = window[e]), t } function i(e) { const t = n(e); if (!t) throw new Error(e + " is not defined in Window"); return t } function s() { return i("document") } function o() { return n("document") } function a() { return i("navigator") } function c() { return n("navigator") } function u() { return i("location") } function h() { return n("location") } function l() { return i("crypto") } function f() { return n("crypto") } function d() { return i("localStorage") } function p() { return n("localStorage") } r("d9e2"), Object.defineProperty(t, "__esModule", { value: !0 }), t.getLocalStorage = t.getLocalStorageOrThrow = t.getCrypto = t.getCryptoOrThrow = t.getLocation = t.getLocationOrThrow = t.getNavigator = t.getNavigatorOrThrow = t.getDocument = t.getDocumentOrThrow = t.getFromWindowOrThrow = t.getFromWindow = void 0, t.getFromWindow = n, t.getFromWindowOrThrow = i, t.getDocumentOrThrow = s, t.getDocument = o, t.getNavigatorOrThrow = a, t.getNavigator = c, t.getLocationOrThrow = u, t.getLocation = h, t.getCryptoOrThrow = l, t.getCrypto = f, t.getLocalStorageOrThrow = d, t.getLocalStorage = p }, abb6: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = r("9ab4"); n.__exportStar(r("58d2"), t) }, ac1b: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("68b7"); const i = (e, t = 0) => { const r = n.decode(e, t); return [r, n.decode.bytes] }, s = (e, t, r = 0) => (n.encode(e, t, r), t), o = e => n.encodingLength(e); t.decode = i, t.encodeTo = s, t.encodingLength = o }, acd6: function (e, t, r) { "use strict"; r.d(t, "b", (function () { return a })), r.d(t, "d", (function () { return c })), r.d(t, "c", (function () { return u })), r.d(t, "e", (function () { return h })), r.d(t, "f", (function () { return l })), r.d(t, "a", (function () { return f })); const n = "PARSE_ERROR", i = "INVALID_REQUEST", s = "METHOD_NOT_FOUND", o = "INVALID_PARAMS", a = "INTERNAL_ERROR", c = "SERVER_ERROR", u = [-32700, -32600, -32601, -32602, -32603], h = [-32e3, -32099], l = { [n]: { code: -32700, message: "Parse error" }, [i]: { code: -32600, message: "Invalid Request" }, [s]: { code: -32601, message: "Method not found" }, [o]: { code: -32602, message: "Invalid params" }, [a]: { code: -32603, message: "Internal error" }, [c]: { code: -32e3, message: "Server error" } }, f = c }, b280: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("9894"), i = r("d3f8"), s = r("11f1"), o = r("c4e5"), a = r("0ca8"), c = r("17fb"), u = r("510bc"), h = r("e4de"), l = r("1b5b"), f = r("7a568"), d = r("88db"), p = r("1fbd"), g = r("9a2e"), b = r("81e9"); r("d4dd"); var y = r("fb86"), v = r("9a44"), _ = r("29f9"), m = r("ac1b"), w = r("dd7b"); const E = { ...n, ...i, ...s, ...o, ...a, ...c, ...u, ...h, ...l, ...f }, O = { ...d, ...p }, S = { raw: g, json: b }; t.CID = y.CID, t.hasher = v, t.digest = _, t.varint = m, t.bytes = w, t.bases = E, t.codecs = S, t.hashes = O }, b2af: function (e, t, r) { "use strict"; function n(e, t) { if (e === t) return !0; if (e.byteLength !== t.byteLength) return !1; for (let r = 0; r < e.byteLength; r++)if (e[r] !== t[r]) return !1; return !0 } Object.defineProperty(t, "__esModule", { value: !0 }), t.equals = n }, b32a: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = r("9ab4"); n.__exportStar(r("57e3"), t) }, b331: function (e, t, r) {
          "use strict"; r.r(t), function (e) {
               r.d(t, "UniversalProvider", (function () { return te })), r.d(t, "default", (function () { return ee })); r("c73d"), r("14d9"), r("33d1"), r("ea98"), r("8bd5"), r("71b4"), r("13d5"), r("f4dd"), r("d9e2"); var n = r("aa51"), i = r("a054"), s = r("0391"), o = r("a60c"), a = r("a55b"), c = r("faa1"), u = r.n(c); const h = "error", l = "wss://relay.walletconnect.com", f = "wc", d = "universal_provider", p = `${f}@2:${d}:`, g = "https://rpc.walletconnect.com/v1", b = { DEFAULT_CHAIN_CHANGED: "default_chain_changed" }; var y = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof e < "u" ? e : typeof self < "u" ? self : {}, v = { exports: {} };
/**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */(function (e, t) { (function () { var r, n = "4.17.21", i = 200, s = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", o = "Expected a function", a = "Invalid `variable` option passed into `_.template`", c = "__lodash_hash_undefined__", u = 500, h = "__lodash_placeholder__", l = 1, f = 2, d = 4, p = 1, g = 2, b = 1, v = 2, _ = 4, m = 8, w = 16, E = 32, O = 64, S = 128, I = 256, j = 512, P = 30, A = "...", R = 800, x = 16, N = 1, T = 2, C = 3, U = 1 / 0, D = 9007199254740991, L = 17976931348623157e292, M = NaN, k = 4294967295, z = k - 1, B = k >>> 1, H = [["ary", S], ["bind", b], ["bindKey", v], ["curry", m], ["curryRight", w], ["flip", j], ["partial", E], ["partialRight", O], ["rearg", I]], q = "[object Arguments]", V = "[object Array]", K = "[object AsyncFunction]", F = "[object Boolean]", $ = "[object Date]", W = "[object DOMException]", J = "[object Error]", G = "[object Function]", Y = "[object GeneratorFunction]", X = "[object Map]", Z = "[object Number]", Q = "[object Null]", ee = "[object Object]", te = "[object Promise]", re = "[object Proxy]", ne = "[object RegExp]", ie = "[object Set]", se = "[object String]", oe = "[object Symbol]", ae = "[object Undefined]", ce = "[object WeakMap]", ue = "[object WeakSet]", he = "[object ArrayBuffer]", le = "[object DataView]", fe = "[object Float32Array]", de = "[object Float64Array]", pe = "[object Int8Array]", ge = "[object Int16Array]", be = "[object Int32Array]", ye = "[object Uint8Array]", ve = "[object Uint8ClampedArray]", _e = "[object Uint16Array]", me = "[object Uint32Array]", we = /\b__p \+= '';/g, Ee = /\b(__p \+=) '' \+/g, Oe = /(__e\(.*?\)|\b__t\)) \+\n'';/g, Se = /&(?:amp|lt|gt|quot|#39);/g, Ie = /[&<>"']/g, je = RegExp(Se.source), Pe = RegExp(Ie.source), Ae = /<%-([\s\S]+?)%>/g, Re = /<%([\s\S]+?)%>/g, xe = /<%=([\s\S]+?)%>/g, Ne = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Te = /^\w*$/, Ce = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Ue = /[\\^$.*+?()[\]{}|]/g, De = RegExp(Ue.source), Le = /^\s+/, Me = /\s/, ke = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, ze = /\{\n\/\* \[wrapped with (.+)\] \*/, Be = /,? & /, He = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, qe = /[()=,{}\[\]\/\s]/, Ve = /\\(\\)?/g, Ke = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Fe = /\w*$/, $e = /^[-+]0x[0-9a-f]+$/i, We = /^0b[01]+$/i, Je = /^\[object .+?Constructor\]$/, Ge = /^0o[0-7]+$/i, Ye = /^(?:0|[1-9]\d*)$/, Xe = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, Ze = /($^)/, Qe = /['\n\r\u2028\u2029\\]/g, et = "\\ud800-\\udfff", tt = "\\u0300-\\u036f", rt = "\\ufe20-\\ufe2f", nt = "\\u20d0-\\u20ff", it = tt + rt + nt, st = "\\u2700-\\u27bf", ot = "a-z\\xdf-\\xf6\\xf8-\\xff", at = "\\xac\\xb1\\xd7\\xf7", ct = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", ut = "\\u2000-\\u206f", ht = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", lt = "A-Z\\xc0-\\xd6\\xd8-\\xde", ft = "\\ufe0e\\ufe0f", dt = at + ct + ut + ht, pt = "[']", gt = "[" + et + "]", bt = "[" + dt + "]", yt = "[" + it + "]", vt = "\\d+", _t = "[" + st + "]", mt = "[" + ot + "]", wt = "[^" + et + dt + vt + st + ot + lt + "]", Et = "\\ud83c[\\udffb-\\udfff]", Ot = "(?:" + yt + "|" + Et + ")", St = "[^" + et + "]", It = "(?:\\ud83c[\\udde6-\\uddff]){2}", jt = "[\\ud800-\\udbff][\\udc00-\\udfff]", Pt = "[" + lt + "]", At = "\\u200d", Rt = "(?:" + mt + "|" + wt + ")", xt = "(?:" + Pt + "|" + wt + ")", Nt = "(?:" + pt + "(?:d|ll|m|re|s|t|ve))?", Tt = "(?:" + pt + "(?:D|LL|M|RE|S|T|VE))?", Ct = Ot + "?", Ut = "[" + ft + "]?", Dt = "(?:" + At + "(?:" + [St, It, jt].join("|") + ")" + Ut + Ct + ")*", Lt = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", Mt = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", kt = Ut + Ct + Dt, zt = "(?:" + [_t, It, jt].join("|") + ")" + kt, Bt = "(?:" + [St + yt + "?", yt, It, jt, gt].join("|") + ")", Ht = RegExp(pt, "g"), qt = RegExp(yt, "g"), Vt = RegExp(Et + "(?=" + Et + ")|" + Bt + kt, "g"), Kt = RegExp([Pt + "?" + mt + "+" + Nt + "(?=" + [bt, Pt, "$"].join("|") + ")", xt + "+" + Tt + "(?=" + [bt, Pt + Rt, "$"].join("|") + ")", Pt + "?" + Rt + "+" + Nt, Pt + "+" + Tt, Mt, Lt, vt, zt].join("|"), "g"), Ft = RegExp("[" + At + et + it + ft + "]"), $t = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, Wt = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], Jt = -1, Gt = {}; Gt[fe] = Gt[de] = Gt[pe] = Gt[ge] = Gt[be] = Gt[ye] = Gt[ve] = Gt[_e] = Gt[me] = !0, Gt[q] = Gt[V] = Gt[he] = Gt[F] = Gt[le] = Gt[$] = Gt[J] = Gt[G] = Gt[X] = Gt[Z] = Gt[ee] = Gt[ne] = Gt[ie] = Gt[se] = Gt[ce] = !1; var Yt = {}; Yt[q] = Yt[V] = Yt[he] = Yt[le] = Yt[F] = Yt[$] = Yt[fe] = Yt[de] = Yt[pe] = Yt[ge] = Yt[be] = Yt[X] = Yt[Z] = Yt[ee] = Yt[ne] = Yt[ie] = Yt[se] = Yt[oe] = Yt[ye] = Yt[ve] = Yt[_e] = Yt[me] = !0, Yt[J] = Yt[G] = Yt[ce] = !1; var Xt = { "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "C", "": "c", "": "D", "": "d", "": "E", "": "E", "": "E", "": "E", "": "e", "": "e", "": "e", "": "e", "": "I", "": "I", "": "I", "": "I", "": "i", "": "i", "": "i", "": "i", "": "N", "": "n", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "U", "": "U", "": "U", "": "U", "": "u", "": "u", "": "u", "": "u", "": "Y", "": "y", "": "y", "": "Ae", "": "ae", "": "Th", "": "th", "": "ss", "": "A", "": "A", "": "A", "": "a", "": "a", "": "a", "": "C", "": "C", "": "C", "": "C", "": "c", "": "c", "": "c", "": "c", "": "D", "": "D", "": "d", "": "d", "": "E", "": "E", "": "E", "": "E", "": "E", "": "e", "": "e", "": "e", "": "e", "": "e", "": "G", "": "G", "": "G", "": "G", "": "g", "": "g", "": "g", "": "g", "": "H", "": "H", "": "h", "": "h", "": "I", "": "I", "": "I", "": "I", "": "I", "": "i", "": "i", "": "i", "": "i", "": "i", "": "J", "": "j", "": "K", "": "k", "": "k", "": "L", "": "L", "": "L", "": "L", "": "L", "": "l", "": "l", "": "l", "": "l", "": "l", "": "N", "": "N", "": "N", "": "N", "": "n", "": "n", "": "n", "": "n", "": "O", "": "O", "": "O", "": "o", "": "o", "": "o", "": "R", "": "R", "": "R", "": "r", "": "r", "": "r", "": "S", "": "S", "": "S", "": "S", "": "s", "": "s", "": "s", "": "s", "": "T", "": "T", "": "T", "": "t", "": "t", "": "t", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "W", "": "w", "": "Y", "": "y", "": "Y", "": "Z", "": "Z", "": "Z", "": "z", "": "z", "": "z", "": "IJ", "": "ij", "": "Oe", "": "oe", "": "'n", "": "s" }, Zt = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }, Qt = { "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'" }, er = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" }, tr = parseFloat, rr = parseInt, nr = "object" == typeof y && y && y.Object === Object && y, ir = "object" == typeof self && self && self.Object === Object && self, sr = nr || ir || Function("return this")(), or = t && !t.nodeType && t, ar = or && e && !e.nodeType && e, cr = ar && ar.exports === or, ur = cr && nr.process, hr = function () { try { var e = ar && ar.require && ar.require("util").types; return e || ur && ur.binding && ur.binding("util") } catch { } }(), lr = hr && hr.isArrayBuffer, fr = hr && hr.isDate, dr = hr && hr.isMap, pr = hr && hr.isRegExp, gr = hr && hr.isSet, br = hr && hr.isTypedArray; function yr(e, t, r) { switch (r.length) { case 0: return e.call(t); case 1: return e.call(t, r[0]); case 2: return e.call(t, r[0], r[1]); case 3: return e.call(t, r[0], r[1], r[2]) }return e.apply(t, r) } function vr(e, t, r, n) { for (var i = -1, s = null == e ? 0 : e.length; ++i < s;) { var o = e[i]; t(n, o, r(o), e) } return n } function _r(e, t) { for (var r = -1, n = null == e ? 0 : e.length; ++r < n && !1 !== t(e[r], r, e);); return e } function mr(e, t) { for (var r = null == e ? 0 : e.length; r-- && !1 !== t(e[r], r, e);); return e } function wr(e, t) { for (var r = -1, n = null == e ? 0 : e.length; ++r < n;)if (!t(e[r], r, e)) return !1; return !0 } function Er(e, t) { for (var r = -1, n = null == e ? 0 : e.length, i = 0, s = []; ++r < n;) { var o = e[r]; t(o, r, e) && (s[i++] = o) } return s } function Or(e, t) { var r = null == e ? 0 : e.length; return !!r && Dr(e, t, 0) > -1 } function Sr(e, t, r) { for (var n = -1, i = null == e ? 0 : e.length; ++n < i;)if (r(t, e[n])) return !0; return !1 } function Ir(e, t) { for (var r = -1, n = null == e ? 0 : e.length, i = Array(n); ++r < n;)i[r] = t(e[r], r, e); return i } function jr(e, t) { for (var r = -1, n = t.length, i = e.length; ++r < n;)e[i + r] = t[r]; return e } function Pr(e, t, r, n) { var i = -1, s = null == e ? 0 : e.length; for (n && s && (r = e[++i]); ++i < s;)r = t(r, e[i], i, e); return r } function Ar(e, t, r, n) { var i = null == e ? 0 : e.length; for (n && i && (r = e[--i]); i--;)r = t(r, e[i], i, e); return r } function Rr(e, t) { for (var r = -1, n = null == e ? 0 : e.length; ++r < n;)if (t(e[r], r, e)) return !0; return !1 } var xr = zr("length"); function Nr(e) { return e.split("") } function Tr(e) { return e.match(He) || [] } function Cr(e, t, r) { var n; return r(e, (function (e, r, i) { if (t(e, r, i)) return n = r, !1 })), n } function Ur(e, t, r, n) { for (var i = e.length, s = r + (n ? 1 : -1); n ? s-- : ++s < i;)if (t(e[s], s, e)) return s; return -1 } function Dr(e, t, r) { return t === t ? fn(e, t, r) : Ur(e, Mr, r) } function Lr(e, t, r, n) { for (var i = r - 1, s = e.length; ++i < s;)if (n(e[i], t)) return i; return -1 } function Mr(e) { return e !== e } function kr(e, t) { var r = null == e ? 0 : e.length; return r ? Vr(e, t) / r : M } function zr(e) { return function (t) { return null == t ? r : t[e] } } function Br(e) { return function (t) { return null == e ? r : e[t] } } function Hr(e, t, r, n, i) { return i(e, (function (e, i, s) { r = n ? (n = !1, e) : t(r, e, i, s) })), r } function qr(e, t) { var r = e.length; for (e.sort(t); r--;)e[r] = e[r].value; return e } function Vr(e, t) { for (var n, i = -1, s = e.length; ++i < s;) { var o = t(e[i]); o !== r && (n = n === r ? o : n + o) } return n } function Kr(e, t) { for (var r = -1, n = Array(e); ++r < e;)n[r] = t(r); return n } function Fr(e, t) { return Ir(t, (function (t) { return [t, e[t]] })) } function $r(e) { return e && e.slice(0, bn(e) + 1).replace(Le, "") } function Wr(e) { return function (t) { return e(t) } } function Jr(e, t) { return Ir(t, (function (t) { return e[t] })) } function Gr(e, t) { return e.has(t) } function Yr(e, t) { for (var r = -1, n = e.length; ++r < n && Dr(t, e[r], 0) > -1;); return r } function Xr(e, t) { for (var r = e.length; r-- && Dr(t, e[r], 0) > -1;); return r } function Zr(e, t) { for (var r = e.length, n = 0; r--;)e[r] === t && ++n; return n } var Qr = Br(Xt), en = Br(Zt); function tn(e) { return "\\" + er[e] } function rn(e, t) { return null == e ? r : e[t] } function nn(e) { return Ft.test(e) } function sn(e) { return $t.test(e) } function on(e) { for (var t, r = []; !(t = e.next()).done;)r.push(t.value); return r } function an(e) { var t = -1, r = Array(e.size); return e.forEach((function (e, n) { r[++t] = [n, e] })), r } function cn(e, t) { return function (r) { return e(t(r)) } } function un(e, t) { for (var r = -1, n = e.length, i = 0, s = []; ++r < n;) { var o = e[r]; (o === t || o === h) && (e[r] = h, s[i++] = r) } return s } function hn(e) { var t = -1, r = Array(e.size); return e.forEach((function (e) { r[++t] = e })), r } function ln(e) { var t = -1, r = Array(e.size); return e.forEach((function (e) { r[++t] = [e, e] })), r } function fn(e, t, r) { for (var n = r - 1, i = e.length; ++n < i;)if (e[n] === t) return n; return -1 } function dn(e, t, r) { for (var n = r + 1; n--;)if (e[n] === t) return n; return n } function pn(e) { return nn(e) ? vn(e) : xr(e) } function gn(e) { return nn(e) ? _n(e) : Nr(e) } function bn(e) { for (var t = e.length; t-- && Me.test(e.charAt(t));); return t } var yn = Br(Qt); function vn(e) { for (var t = Vt.lastIndex = 0; Vt.test(e);)++t; return t } function _n(e) { return e.match(Vt) || [] } function mn(e) { return e.match(Kt) || [] } var wn = function e(t) { t = null == t ? sr : En.defaults(sr.Object(), t, En.pick(sr, Wt)); var y = t.Array, Me = t.Date, He = t.Error, et = t.Function, tt = t.Math, rt = t.Object, nt = t.RegExp, it = t.String, st = t.TypeError, ot = y.prototype, at = et.prototype, ct = rt.prototype, ut = t["__core-js_shared__"], ht = at.toString, lt = ct.hasOwnProperty, ft = 0, dt = function () { var e = /[^.]+$/.exec(ut && ut.keys && ut.keys.IE_PROTO || ""); return e ? "Symbol(src)_1." + e : "" }(), pt = ct.toString, gt = ht.call(rt), bt = sr._, yt = nt("^" + ht.call(lt).replace(Ue, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), vt = cr ? t.Buffer : r, _t = t.Symbol, mt = t.Uint8Array, wt = vt ? vt.allocUnsafe : r, Et = cn(rt.getPrototypeOf, rt), Ot = rt.create, St = ct.propertyIsEnumerable, It = ot.splice, jt = _t ? _t.isConcatSpreadable : r, Pt = _t ? _t.iterator : r, At = _t ? _t.toStringTag : r, Rt = function () { try { var e = Wo(rt, "defineProperty"); return e({}, "", {}), e } catch { } }(), xt = t.clearTimeout !== sr.clearTimeout && t.clearTimeout, Nt = Me && Me.now !== sr.Date.now && Me.now, Tt = t.setTimeout !== sr.setTimeout && t.setTimeout, Ct = tt.ceil, Ut = tt.floor, Dt = rt.getOwnPropertySymbols, Lt = vt ? vt.isBuffer : r, Mt = t.isFinite, kt = ot.join, zt = cn(rt.keys, rt), Bt = tt.max, Vt = tt.min, Kt = Me.now, Ft = t.parseInt, $t = tt.random, Xt = ot.reverse, Zt = Wo(t, "DataView"), Qt = Wo(t, "Map"), er = Wo(t, "Promise"), nr = Wo(t, "Set"), ir = Wo(t, "WeakMap"), or = Wo(rt, "create"), ar = ir && new ir, ur = {}, hr = Ta(Zt), xr = Ta(Qt), Nr = Ta(er), Br = Ta(nr), fn = Ta(ir), vn = _t ? _t.prototype : r, _n = vn ? vn.valueOf : r, wn = vn ? vn.toString : r; function On(e) { if (Ih(e) && !ch(e) && !(e instanceof Pn)) { if (e instanceof jn) return e; if (lt.call(e, "__wrapped__")) return Ua(e) } return new jn(e) } var Sn = function () { function e() { } return function (t) { if (!Sh(t)) return {}; if (Ot) return Ot(t); e.prototype = t; var n = new e; return e.prototype = r, n } }(); function In() { } function jn(e, t) { this.__wrapped__ = e, this.__actions__ = [], this.__chain__ = !!t, this.__index__ = 0, this.__values__ = r } function Pn(e) { this.__wrapped__ = e, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = k, this.__views__ = [] } function An() { var e = new Pn(this.__wrapped__); return e.__actions__ = no(this.__actions__), e.__dir__ = this.__dir__, e.__filtered__ = this.__filtered__, e.__iteratees__ = no(this.__iteratees__), e.__takeCount__ = this.__takeCount__, e.__views__ = no(this.__views__), e } function Rn() { if (this.__filtered__) { var e = new Pn(this); e.__dir__ = -1, e.__filtered__ = !0 } else e = this.clone(), e.__dir__ *= -1; return e } function xn() { var e = this.__wrapped__.value(), t = this.__dir__, r = ch(e), n = t < 0, i = r ? e.length : 0, s = Zo(0, i, this.__views__), o = s.start, a = s.end, c = a - o, u = n ? a : o - 1, h = this.__iteratees__, l = h.length, f = 0, d = Vt(c, this.__takeCount__); if (!r || !n && i == c && d == c) return ks(e, this.__actions__); var p = []; e: for (; c-- && f < d;) { u += t; for (var g = -1, b = e[u]; ++g < l;) { var y = h[g], v = y.iteratee, _ = y.type, m = v(b); if (_ == T) b = m; else if (!m) { if (_ == N) continue e; break e } } p[f++] = b } return p } function Nn(e) { var t = -1, r = null == e ? 0 : e.length; for (this.clear(); ++t < r;) { var n = e[t]; this.set(n[0], n[1]) } } function Tn() { this.__data__ = or ? or(null) : {}, this.size = 0 } function Cn(e) { var t = this.has(e) && delete this.__data__[e]; return this.size -= t ? 1 : 0, t } function Un(e) { var t = this.__data__; if (or) { var n = t[e]; return n === c ? r : n } return lt.call(t, e) ? t[e] : r } function Dn(e) { var t = this.__data__; return or ? t[e] !== r : lt.call(t, e) } function Ln(e, t) { var n = this.__data__; return this.size += this.has(e) ? 0 : 1, n[e] = or && t === r ? c : t, this } function Mn(e) { var t = -1, r = null == e ? 0 : e.length; for (this.clear(); ++t < r;) { var n = e[t]; this.set(n[0], n[1]) } } function kn() { this.__data__ = [], this.size = 0 } function zn(e) { var t = this.__data__, r = hi(t, e); if (r < 0) return !1; var n = t.length - 1; return r == n ? t.pop() : It.call(t, r, 1), --this.size, !0 } function Bn(e) { var t = this.__data__, n = hi(t, e); return n < 0 ? r : t[n][1] } function Hn(e) { return hi(this.__data__, e) > -1 } function qn(e, t) { var r = this.__data__, n = hi(r, e); return n < 0 ? (++this.size, r.push([e, t])) : r[n][1] = t, this } function Vn(e) { var t = -1, r = null == e ? 0 : e.length; for (this.clear(); ++t < r;) { var n = e[t]; this.set(n[0], n[1]) } } function Kn() { this.size = 0, this.__data__ = { hash: new Nn, map: new (Qt || Mn), string: new Nn } } function Fn(e) { var t = Fo(this, e).delete(e); return this.size -= t ? 1 : 0, t } function $n(e) { return Fo(this, e).get(e) } function Wn(e) { return Fo(this, e).has(e) } function Jn(e, t) { var r = Fo(this, e), n = r.size; return r.set(e, t), this.size += r.size == n ? 0 : 1, this } function Gn(e) { var t = -1, r = null == e ? 0 : e.length; for (this.__data__ = new Vn; ++t < r;)this.add(e[t]) } function Yn(e) { return this.__data__.set(e, c), this } function Xn(e) { return this.__data__.has(e) } function Zn(e) { var t = this.__data__ = new Mn(e); this.size = t.size } function Qn() { this.__data__ = new Mn, this.size = 0 } function ei(e) { var t = this.__data__, r = t.delete(e); return this.size = t.size, r } function ti(e) { return this.__data__.get(e) } function ri(e) { return this.__data__.has(e) } function ni(e, t) { var r = this.__data__; if (r instanceof Mn) { var n = r.__data__; if (!Qt || n.length < i - 1) return n.push([e, t]), this.size = ++r.size, this; r = this.__data__ = new Vn(n) } return r.set(e, t), this.size = r.size, this } function ii(e, t) { var r = ch(e), n = !r && ah(e), i = !r && !n && dh(e), s = !r && !n && !i && Bh(e), o = r || n || i || s, a = o ? Kr(e.length, it) : [], c = a.length; for (var u in e) (t || lt.call(e, u)) && (!o || !("length" == u || i && ("offset" == u || "parent" == u) || s && ("buffer" == u || "byteLength" == u || "byteOffset" == u) || oa(u, c))) && a.push(u); return a } function si(e) { var t = e.length; return t ? e[ys(0, t - 1)] : r } function oi(e, t) { return Ra(no(e), bi(t, 0, e.length)) } function ai(e) { return Ra(no(e)) } function ci(e, t, n) { (n !== r && !ih(e[t], n) || n === r && !(t in e)) && pi(e, t, n) } function ui(e, t, n) { var i = e[t]; (!lt.call(e, t) || !ih(i, n) || n === r && !(t in e)) && pi(e, t, n) } function hi(e, t) { for (var r = e.length; r--;)if (ih(e[r][0], t)) return r; return -1 } function li(e, t, r, n) { return Ei(e, (function (e, i, s) { t(n, e, r(e), s) })), n } function fi(e, t) { return e && io(t, El(t), e) } function di(e, t) { return e && io(t, Ol(t), e) } function pi(e, t, r) { "__proto__" == t && Rt ? Rt(e, t, { configurable: !0, enumerable: !0, value: r, writable: !0 }) : e[t] = r } function gi(e, t) { for (var n = -1, i = t.length, s = y(i), o = null == e; ++n < i;)s[n] = o ? r : bl(e, t[n]); return s } function bi(e, t, n) { return e === e && (n !== r && (e = e <= n ? e : n), t !== r && (e = e >= t ? e : t)), e } function yi(e, t, n, i, s, o) { var a, c = t & l, u = t & f, h = t & d; if (n && (a = s ? n(e, i, s, o) : n(e)), a !== r) return a; if (!Sh(e)) return e; var p = ch(e); if (p) { if (a = ta(e), !c) return no(e, a) } else { var g = Xo(e), b = g == G || g == Y; if (dh(e)) return Ws(e, c); if (g == ee || g == q || b && !s) { if (a = u || b ? {} : ra(e), !c) return u ? oo(e, di(a, e)) : so(e, fi(a, e)) } else { if (!Yt[g]) return s ? e : {}; a = na(e, g, c) } } o || (o = new Zn); var y = o.get(e); if (y) return y; o.set(e, a), Mh(e) ? e.forEach((function (r) { a.add(yi(r, t, n, r, e, o)) })) : jh(e) && e.forEach((function (r, i) { a.set(i, yi(r, t, n, i, e, o)) })); var v = h ? u ? Bo : zo : u ? Ol : El, _ = p ? r : v(e); return _r(_ || e, (function (r, i) { _ && (i = r, r = e[i]), ui(a, i, yi(r, t, n, i, e, o)) })), a } function vi(e) { var t = El(e); return function (r) { return _i(r, e, t) } } function _i(e, t, n) { var i = n.length; if (null == e) return !i; for (e = rt(e); i--;) { var s = n[i], o = t[s], a = e[s]; if (a === r && !(s in e) || !o(a)) return !1 } return !0 } function mi(e, t, n) { if ("function" != typeof e) throw new st(o); return Ia((function () { e.apply(r, n) }), t) } function wi(e, t, r, n) { var s = -1, o = Or, a = !0, c = e.length, u = [], h = t.length; if (!c) return u; r && (t = Ir(t, Wr(r))), n ? (o = Sr, a = !1) : t.length >= i && (o = Gr, a = !1, t = new Gn(t)); e: for (; ++s < c;) { var l = e[s], f = null == r ? l : r(l); if (l = n || 0 !== l ? l : 0, a && f === f) { for (var d = h; d--;)if (t[d] === f) continue e; u.push(l) } else o(t, f, n) || u.push(l) } return u } On.templateSettings = { escape: Ae, evaluate: Re, interpolate: xe, variable: "", imports: { _: On } }, On.prototype = In.prototype, On.prototype.constructor = On, jn.prototype = Sn(In.prototype), jn.prototype.constructor = jn, Pn.prototype = Sn(In.prototype), Pn.prototype.constructor = Pn, Nn.prototype.clear = Tn, Nn.prototype.delete = Cn, Nn.prototype.get = Un, Nn.prototype.has = Dn, Nn.prototype.set = Ln, Mn.prototype.clear = kn, Mn.prototype.delete = zn, Mn.prototype.get = Bn, Mn.prototype.has = Hn, Mn.prototype.set = qn, Vn.prototype.clear = Kn, Vn.prototype.delete = Fn, Vn.prototype.get = $n, Vn.prototype.has = Wn, Vn.prototype.set = Jn, Gn.prototype.add = Gn.prototype.push = Yn, Gn.prototype.has = Xn, Zn.prototype.clear = Qn, Zn.prototype.delete = ei, Zn.prototype.get = ti, Zn.prototype.has = ri, Zn.prototype.set = ni; var Ei = uo(Ni), Oi = uo(Ti, !0); function Si(e, t) { var r = !0; return Ei(e, (function (e, n, i) { return r = !!t(e, n, i), r })), r } function Ii(e, t, n) { for (var i = -1, s = e.length; ++i < s;) { var o = e[i], a = t(o); if (null != a && (c === r ? a === a && !zh(a) : n(a, c))) var c = a, u = o } return u } function ji(e, t, n, i) { var s = e.length; for (n = Jh(n), n < 0 && (n = -n > s ? 0 : s + n), i = i === r || i > s ? s : Jh(i), i < 0 && (i += s), i = n > i ? 0 : Gh(i); n < i;)e[n++] = t; return e } function Pi(e, t) { var r = []; return Ei(e, (function (e, n, i) { t(e, n, i) && r.push(e) })), r } function Ai(e, t, r, n, i) { var s = -1, o = e.length; for (r || (r = sa), i || (i = []); ++s < o;) { var a = e[s]; t > 0 && r(a) ? t > 1 ? Ai(a, t - 1, r, n, i) : jr(i, a) : n || (i[i.length] = a) } return i } var Ri = ho(), xi = ho(!0); function Ni(e, t) { return e && Ri(e, t, El) } function Ti(e, t) { return e && xi(e, t, El) } function Ci(e, t) { return Er(t, (function (t) { return wh(e[t]) })) } function Ui(e, t) { t = Vs(t, e); for (var n = 0, i = t.length; null != e && n < i;)e = e[Na(t[n++])]; return n && n == i ? e : r } function Di(e, t, r) { var n = t(e); return ch(e) ? n : jr(n, r(e)) } function Li(e) { return null == e ? e === r ? ae : Q : At && At in rt(e) ? Jo(e) : _a(e) } function Mi(e, t) { return e > t } function ki(e, t) { return null != e && lt.call(e, t) } function zi(e, t) { return null != e && t in rt(e) } function Bi(e, t, r) { return e >= Vt(t, r) && e < Bt(t, r) } function Hi(e, t, n) { for (var i = n ? Sr : Or, s = e[0].length, o = e.length, a = o, c = y(o), u = 1 / 0, h = []; a--;) { var l = e[a]; a && t && (l = Ir(l, Wr(t))), u = Vt(l.length, u), c[a] = !n && (t || s >= 120 && l.length >= 120) ? new Gn(a && l) : r } l = e[0]; var f = -1, d = c[0]; e: for (; ++f < s && h.length < u;) { var p = l[f], g = t ? t(p) : p; if (p = n || 0 !== p ? p : 0, !(d ? Gr(d, g) : i(h, g, n))) { for (a = o; --a;) { var b = c[a]; if (!(b ? Gr(b, g) : i(e[a], g, n))) continue e } d && d.push(g), h.push(p) } } return h } function qi(e, t, r, n) { return Ni(e, (function (e, i, s) { t(n, r(e), i, s) })), n } function Vi(e, t, n) { t = Vs(t, e), e = wa(e, t); var i = null == e ? e : e[Na(sc(t))]; return null == i ? r : yr(i, e, n) } function Ki(e) { return Ih(e) && Li(e) == q } function Fi(e) { return Ih(e) && Li(e) == he } function $i(e) { return Ih(e) && Li(e) == $ } function Wi(e, t, r, n, i) { return e === t || (null == e || null == t || !Ih(e) && !Ih(t) ? e !== e && t !== t : Ji(e, t, r, n, Wi, i)) } function Ji(e, t, r, n, i, s) { var o = ch(e), a = ch(t), c = o ? V : Xo(e), u = a ? V : Xo(t); c = c == q ? ee : c, u = u == q ? ee : u; var h = c == ee, l = u == ee, f = c == u; if (f && dh(e)) { if (!dh(t)) return !1; o = !0, h = !1 } if (f && !h) return s || (s = new Zn), o || Bh(e) ? Do(e, t, r, n, i, s) : Lo(e, t, c, r, n, i, s); if (!(r & p)) { var d = h && lt.call(e, "__wrapped__"), g = l && lt.call(t, "__wrapped__"); if (d || g) { var b = d ? e.value() : e, y = g ? t.value() : t; return s || (s = new Zn), i(b, y, r, n, s) } } return !!f && (s || (s = new Zn), Mo(e, t, r, n, i, s)) } function Gi(e) { return Ih(e) && Xo(e) == X } function Yi(e, t, n, i) { var s = n.length, o = s, a = !i; if (null == e) return !o; for (e = rt(e); s--;) { var c = n[s]; if (a && c[2] ? c[1] !== e[c[0]] : !(c[0] in e)) return !1 } for (; ++s < o;) { c = n[s]; var u = c[0], h = e[u], l = c[1]; if (a && c[2]) { if (h === r && !(u in e)) return !1 } else { var f = new Zn; if (i) var d = i(h, l, u, e, t, f); if (!(d === r ? Wi(l, h, p | g, i, f) : d)) return !1 } } return !0 } function Xi(e) { if (!Sh(e) || la(e)) return !1; var t = wh(e) ? yt : Je; return t.test(Ta(e)) } function Zi(e) { return Ih(e) && Li(e) == ne } function Qi(e) { return Ih(e) && Xo(e) == ie } function es(e) { return Ih(e) && Oh(e.length) && !!Gt[Li(e)] } function ts(e) { return "function" == typeof e ? e : null == e ? Nf : "object" == typeof e ? ch(e) ? as(e[0], e[1]) : os(e) : Kf(e) } function rs(e) { if (!da(e)) return zt(e); var t = []; for (var r in rt(e)) lt.call(e, r) && "constructor" != r && t.push(r); return t } function ns(e) { if (!Sh(e)) return va(e); var t = da(e), r = []; for (var n in e) "constructor" == n && (t || !lt.call(e, n)) || r.push(n); return r } function is(e, t) { return e < t } function ss(e, t) { var r = -1, n = hh(e) ? y(e.length) : []; return Ei(e, (function (e, i, s) { n[++r] = t(e, i, s) })), n } function os(e) { var t = $o(e); return 1 == t.length && t[0][2] ? ga(t[0][0], t[0][1]) : function (r) { return r === e || Yi(r, e, t) } } function as(e, t) { return ca(e) && pa(t) ? ga(Na(e), t) : function (n) { var i = bl(n, e); return i === r && i === t ? vl(n, e) : Wi(t, i, p | g) } } function cs(e, t, n, i, s) { e !== t && Ri(t, (function (o, a) { if (s || (s = new Zn), Sh(o)) us(e, t, a, n, cs, i, s); else { var c = i ? i(Oa(e, a), o, a + "", e, t, s) : r; c === r && (c = o), ci(e, a, c) } }), Ol) } function us(e, t, n, i, s, o, a) { var c = Oa(e, n), u = Oa(t, n), h = a.get(u); if (h) ci(e, n, h); else { var l = o ? o(c, u, n + "", e, t, a) : r, f = l === r; if (f) { var d = ch(u), p = !d && dh(u), g = !d && !p && Bh(u); l = u, d || p || g ? ch(c) ? l = c : lh(c) ? l = no(c) : p ? (f = !1, l = Ws(u, !0)) : g ? (f = !1, l = Zs(u, !0)) : l = [] : Uh(u) || ah(u) ? (l = c, ah(c) ? l = Xh(c) : (!Sh(c) || wh(c)) && (l = ra(u))) : f = !1 } f && (a.set(u, l), s(l, u, i, o, a), a.delete(u)), ci(e, n, l) } } function hs(e, t) { var n = e.length; if (n) return t += t < 0 ? n : 0, oa(t, n) ? e[t] : r } function ls(e, t, r) { t = t.length ? Ir(t, (function (e) { return ch(e) ? function (t) { return Ui(t, 1 === e.length ? e[0] : e) } : e })) : [Nf]; var n = -1; t = Ir(t, Wr(Ko())); var i = ss(e, (function (e, r, i) { var s = Ir(t, (function (t) { return t(e) })); return { criteria: s, index: ++n, value: e } })); return qr(i, (function (e, t) { return eo(e, t, r) })) } function fs(e, t) { return ds(e, t, (function (t, r) { return vl(e, r) })) } function ds(e, t, r) { for (var n = -1, i = t.length, s = {}; ++n < i;) { var o = t[n], a = Ui(e, o); r(a, o) && Os(s, Vs(o, e), a) } return s } function ps(e) { return function (t) { return Ui(t, e) } } function gs(e, t, r, n) { var i = n ? Lr : Dr, s = -1, o = t.length, a = e; for (e === t && (t = no(t)), r && (a = Ir(e, Wr(r))); ++s < o;)for (var c = 0, u = t[s], h = r ? r(u) : u; (c = i(a, h, c, n)) > -1;)a !== e && It.call(a, c, 1), It.call(e, c, 1); return e } function bs(e, t) { for (var r = e ? t.length : 0, n = r - 1; r--;) { var i = t[r]; if (r == n || i !== s) { var s = i; oa(i) ? It.call(e, i, 1) : Ds(e, i) } } return e } function ys(e, t) { return e + Ut($t() * (t - e + 1)) } function vs(e, t, r, n) { for (var i = -1, s = Bt(Ct((t - e) / (r || 1)), 0), o = y(s); s--;)o[n ? s : ++i] = e, e += r; return o } function _s(e, t) { var r = ""; if (!e || t < 1 || t > D) return r; do { t % 2 && (r += e), t = Ut(t / 2), t && (e += e) } while (t); return r } function ms(e, t) { return ja(ma(e, t, Nf), e + "") } function ws(e) { return si(Hl(e)) } function Es(e, t) { var r = Hl(e); return Ra(r, bi(t, 0, r.length)) } function Os(e, t, n, i) { if (!Sh(e)) return e; t = Vs(t, e); for (var s = -1, o = t.length, a = o - 1, c = e; null != c && ++s < o;) { var u = Na(t[s]), h = n; if ("__proto__" === u || "constructor" === u || "prototype" === u) return e; if (s != a) { var l = c[u]; h = i ? i(l, u, c) : r, h === r && (h = Sh(l) ? l : oa(t[s + 1]) ? [] : {}) } ui(c, u, h), c = c[u] } return e } var Ss = ar ? function (e, t) { return ar.set(e, t), e } : Nf, Is = Rt ? function (e, t) { return Rt(e, "toString", { configurable: !0, enumerable: !1, value: Pf(t), writable: !0 }) } : Nf; function js(e) { return Ra(Hl(e)) } function Ps(e, t, r) { var n = -1, i = e.length; t < 0 && (t = -t > i ? 0 : i + t), r = r > i ? i : r, r < 0 && (r += i), i = t > r ? 0 : r - t >>> 0, t >>>= 0; for (var s = y(i); ++n < i;)s[n] = e[n + t]; return s } function As(e, t) { var r; return Ei(e, (function (e, n, i) { return r = t(e, n, i), !r })), !!r } function Rs(e, t, r) { var n = 0, i = null == e ? n : e.length; if ("number" == typeof t && t === t && i <= B) { for (; n < i;) { var s = n + i >>> 1, o = e[s]; null !== o && !zh(o) && (r ? o <= t : o < t) ? n = s + 1 : i = s } return i } return xs(e, t, Nf, r) } function xs(e, t, n, i) { var s = 0, o = null == e ? 0 : e.length; if (0 === o) return 0; t = n(t); for (var a = t !== t, c = null === t, u = zh(t), h = t === r; s < o;) { var l = Ut((s + o) / 2), f = n(e[l]), d = f !== r, p = null === f, g = f === f, b = zh(f); if (a) var y = i || g; else y = h ? g && (i || d) : c ? g && d && (i || !p) : u ? g && d && !p && (i || !b) : !p && !b && (i ? f <= t : f < t); y ? s = l + 1 : o = l } return Vt(o, z) } function Ns(e, t) { for (var r = -1, n = e.length, i = 0, s = []; ++r < n;) { var o = e[r], a = t ? t(o) : o; if (!r || !ih(a, c)) { var c = a; s[i++] = 0 === o ? 0 : o } } return s } function Ts(e) { return "number" == typeof e ? e : zh(e) ? M : +e } function Cs(e) { if ("string" == typeof e) return e; if (ch(e)) return Ir(e, Cs) + ""; if (zh(e)) return wn ? wn.call(e) : ""; var t = e + ""; return "0" == t && 1 / e == -U ? "-0" : t } function Us(e, t, r) { var n = -1, s = Or, o = e.length, a = !0, c = [], u = c; if (r) a = !1, s = Sr; else if (o >= i) { var h = t ? null : Ro(e); if (h) return hn(h); a = !1, s = Gr, u = new Gn } else u = t ? [] : c; e: for (; ++n < o;) { var l = e[n], f = t ? t(l) : l; if (l = r || 0 !== l ? l : 0, a && f === f) { for (var d = u.length; d--;)if (u[d] === f) continue e; t && u.push(f), c.push(l) } else s(u, f, r) || (u !== c && u.push(f), c.push(l)) } return c } function Ds(e, t) { return t = Vs(t, e), e = wa(e, t), null == e || delete e[Na(sc(t))] } function Ls(e, t, r, n) { return Os(e, t, r(Ui(e, t)), n) } function Ms(e, t, r, n) { for (var i = e.length, s = n ? i : -1; (n ? s-- : ++s < i) && t(e[s], s, e);); return r ? Ps(e, n ? 0 : s, n ? s + 1 : i) : Ps(e, n ? s + 1 : 0, n ? i : s) } function ks(e, t) { var r = e; return r instanceof Pn && (r = r.value()), Pr(t, (function (e, t) { return t.func.apply(t.thisArg, jr([e], t.args)) }), r) } function zs(e, t, r) { var n = e.length; if (n < 2) return n ? Us(e[0]) : []; for (var i = -1, s = y(n); ++i < n;)for (var o = e[i], a = -1; ++a < n;)a != i && (s[i] = wi(s[i] || o, e[a], t, r)); return Us(Ai(s, 1), t, r) } function Bs(e, t, n) { for (var i = -1, s = e.length, o = t.length, a = {}; ++i < s;) { var c = i < o ? t[i] : r; n(a, e[i], c) } return a } function Hs(e) { return lh(e) ? e : [] } function qs(e) { return "function" == typeof e ? e : Nf } function Vs(e, t) { return ch(e) ? e : ca(e, t) ? [e] : xa(Qh(e)) } var Ks = ms; function Fs(e, t, n) { var i = e.length; return n = n === r ? i : n, !t && n >= i ? e : Ps(e, t, n) } var $s = xt || function (e) { return sr.clearTimeout(e) }; function Ws(e, t) { if (t) return e.slice(); var r = e.length, n = wt ? wt(r) : new e.constructor(r); return e.copy(n), n } function Js(e) { var t = new e.constructor(e.byteLength); return new mt(t).set(new mt(e)), t } function Gs(e, t) { var r = t ? Js(e.buffer) : e.buffer; return new e.constructor(r, e.byteOffset, e.byteLength) } function Ys(e) { var t = new e.constructor(e.source, Fe.exec(e)); return t.lastIndex = e.lastIndex, t } function Xs(e) { return _n ? rt(_n.call(e)) : {} } function Zs(e, t) { var r = t ? Js(e.buffer) : e.buffer; return new e.constructor(r, e.byteOffset, e.length) } function Qs(e, t) { if (e !== t) { var n = e !== r, i = null === e, s = e === e, o = zh(e), a = t !== r, c = null === t, u = t === t, h = zh(t); if (!c && !h && !o && e > t || o && a && u && !c && !h || i && a && u || !n && u || !s) return 1; if (!i && !o && !h && e < t || h && n && s && !i && !o || c && n && s || !a && s || !u) return -1 } return 0 } function eo(e, t, r) { for (var n = -1, i = e.criteria, s = t.criteria, o = i.length, a = r.length; ++n < o;) { var c = Qs(i[n], s[n]); if (c) { if (n >= a) return c; var u = r[n]; return c * ("desc" == u ? -1 : 1) } } return e.index - t.index } function to(e, t, r, n) { for (var i = -1, s = e.length, o = r.length, a = -1, c = t.length, u = Bt(s - o, 0), h = y(c + u), l = !n; ++a < c;)h[a] = t[a]; for (; ++i < o;)(l || i < s) && (h[r[i]] = e[i]); for (; u--;)h[a++] = e[i++]; return h } function ro(e, t, r, n) { for (var i = -1, s = e.length, o = -1, a = r.length, c = -1, u = t.length, h = Bt(s - a, 0), l = y(h + u), f = !n; ++i < h;)l[i] = e[i]; for (var d = i; ++c < u;)l[d + c] = t[c]; for (; ++o < a;)(f || i < s) && (l[d + r[o]] = e[i++]); return l } function no(e, t) { var r = -1, n = e.length; for (t || (t = y(n)); ++r < n;)t[r] = e[r]; return t } function io(e, t, n, i) { var s = !n; n || (n = {}); for (var o = -1, a = t.length; ++o < a;) { var c = t[o], u = i ? i(n[c], e[c], c, n, e) : r; u === r && (u = e[c]), s ? pi(n, c, u) : ui(n, c, u) } return n } function so(e, t) { return io(e, Go(e), t) } function oo(e, t) { return io(e, Yo(e), t) } function ao(e, t) { return function (r, n) { var i = ch(r) ? vr : li, s = t ? t() : {}; return i(r, e, Ko(n, 2), s) } } function co(e) { return ms((function (t, n) { var i = -1, s = n.length, o = s > 1 ? n[s - 1] : r, a = s > 2 ? n[2] : r; for (o = e.length > 3 && "function" == typeof o ? (s--, o) : r, a && aa(n[0], n[1], a) && (o = s < 3 ? r : o, s = 1), t = rt(t); ++i < s;) { var c = n[i]; c && e(t, c, i, o) } return t })) } function uo(e, t) { return function (r, n) { if (null == r) return r; if (!hh(r)) return e(r, n); for (var i = r.length, s = t ? i : -1, o = rt(r); (t ? s-- : ++s < i) && !1 !== n(o[s], s, o);); return r } } function ho(e) { return function (t, r, n) { for (var i = -1, s = rt(t), o = n(t), a = o.length; a--;) { var c = o[e ? a : ++i]; if (!1 === r(s[c], c, s)) break } return t } } function lo(e, t, r) { var n = t & b, i = go(e); function s() { var t = this && this !== sr && this instanceof s ? i : e; return t.apply(n ? r : this, arguments) } return s } function fo(e) { return function (t) { t = Qh(t); var n = nn(t) ? gn(t) : r, i = n ? n[0] : t.charAt(0), s = n ? Fs(n, 1).join("") : t.slice(1); return i[e]() + s } } function po(e) { return function (t) { return Pr(Ef(Jl(t).replace(Ht, "")), e, "") } } function go(e) { return function () { var t = arguments; switch (t.length) { case 0: return new e; case 1: return new e(t[0]); case 2: return new e(t[0], t[1]); case 3: return new e(t[0], t[1], t[2]); case 4: return new e(t[0], t[1], t[2], t[3]); case 5: return new e(t[0], t[1], t[2], t[3], t[4]); case 6: return new e(t[0], t[1], t[2], t[3], t[4], t[5]); case 7: return new e(t[0], t[1], t[2], t[3], t[4], t[5], t[6]) }var r = Sn(e.prototype), n = e.apply(r, t); return Sh(n) ? n : r } } function bo(e, t, n) { var i = go(e); function s() { for (var o = arguments.length, a = y(o), c = o, u = Vo(s); c--;)a[c] = arguments[c]; var h = o < 3 && a[0] !== u && a[o - 1] !== u ? [] : un(a, u); if (o -= h.length, o < n) return Po(e, t, _o, s.placeholder, r, a, h, r, r, n - o); var l = this && this !== sr && this instanceof s ? i : e; return yr(l, this, a) } return s } function yo(e) { return function (t, n, i) { var s = rt(t); if (!hh(t)) { var o = Ko(n, 3); t = El(t), n = function (e) { return o(s[e], e, s) } } var a = e(t, n, i); return a > -1 ? s[o ? t[a] : a] : r } } function vo(e) { return ko((function (t) { var n = t.length, i = n, s = jn.prototype.thru; for (e && t.reverse(); i--;) { var a = t[i]; if ("function" != typeof a) throw new st(o); if (s && !c && "wrapper" == qo(a)) var c = new jn([], !0) } for (i = c ? i : n; ++i < n;) { a = t[i]; var u = qo(a), h = "wrapper" == u ? Ho(a) : r; c = h && ha(h[0]) && h[1] == (S | m | E | I) && !h[4].length && 1 == h[9] ? c[qo(h[0])].apply(c, h[3]) : 1 == a.length && ha(a) ? c[u]() : c.thru(a) } return function () { var e = arguments, r = e[0]; if (c && 1 == e.length && ch(r)) return c.plant(r).value(); for (var i = 0, s = n ? t[i].apply(this, e) : r; ++i < n;)s = t[i].call(this, s); return s } })) } function _o(e, t, n, i, s, o, a, c, u, h) { var l = t & S, f = t & b, d = t & v, p = t & (m | w), g = t & j, _ = d ? r : go(e); function E() { for (var r = arguments.length, b = y(r), v = r; v--;)b[v] = arguments[v]; if (p) var m = Vo(E), w = Zr(b, m); if (i && (b = to(b, i, s, p)), o && (b = ro(b, o, a, p)), r -= w, p && r < h) { var O = un(b, m); return Po(e, t, _o, E.placeholder, n, b, O, c, u, h - r) } var S = f ? n : this, I = d ? S[e] : e; return r = b.length, c ? b = Ea(b, c) : g && r > 1 && b.reverse(), l && u < r && (b.length = u), this && this !== sr && this instanceof E && (I = _ || go(I)), I.apply(S, b) } return E } function mo(e, t) { return function (r, n) { return qi(r, e, t(n), {}) } } function wo(e, t) { return function (n, i) { var s; if (n === r && i === r) return t; if (n !== r && (s = n), i !== r) { if (s === r) return i; "string" == typeof n || "string" == typeof i ? (n = Cs(n), i = Cs(i)) : (n = Ts(n), i = Ts(i)), s = e(n, i) } return s } } function Eo(e) { return ko((function (t) { return t = Ir(t, Wr(Ko())), ms((function (r) { var n = this; return e(t, (function (e) { return yr(e, n, r) })) })) })) } function Oo(e, t) { t = t === r ? " " : Cs(t); var n = t.length; if (n < 2) return n ? _s(t, e) : t; var i = _s(t, Ct(e / pn(t))); return nn(t) ? Fs(gn(i), 0, e).join("") : i.slice(0, e) } function So(e, t, r, n) { var i = t & b, s = go(e); function o() { for (var t = -1, a = arguments.length, c = -1, u = n.length, h = y(u + a), l = this && this !== sr && this instanceof o ? s : e; ++c < u;)h[c] = n[c]; for (; a--;)h[c++] = arguments[++t]; return yr(l, i ? r : this, h) } return o } function Io(e) { return function (t, n, i) { return i && "number" != typeof i && aa(t, n, i) && (n = i = r), t = Wh(t), n === r ? (n = t, t = 0) : n = Wh(n), i = i === r ? t < n ? 1 : -1 : Wh(i), vs(t, n, i, e) } } function jo(e) { return function (t, r) { return "string" == typeof t && "string" == typeof r || (t = Yh(t), r = Yh(r)), e(t, r) } } function Po(e, t, n, i, s, o, a, c, u, h) { var l = t & m, f = l ? a : r, d = l ? r : a, p = l ? o : r, g = l ? r : o; t |= l ? E : O, t &= ~(l ? O : E), t & _ || (t &= ~(b | v)); var y = [e, t, s, p, f, g, d, c, u, h], w = n.apply(r, y); return ha(e) && Sa(w, y), w.placeholder = i, Pa(w, e, t) } function Ao(e) { var t = tt[e]; return function (e, r) { if (e = Yh(e), r = null == r ? 0 : Vt(Jh(r), 292), r && Mt(e)) { var n = (Qh(e) + "e").split("e"), i = t(n[0] + "e" + (+n[1] + r)); return n = (Qh(i) + "e").split("e"), +(n[0] + "e" + (+n[1] - r)) } return t(e) } } var Ro = nr && 1 / hn(new nr([, -0]))[1] == U ? function (e) { return new nr(e) } : zf; function xo(e) { return function (t) { var r = Xo(t); return r == X ? an(t) : r == ie ? ln(t) : Fr(t, e(t)) } } function No(e, t, n, i, s, a, c, u) { var h = t & v; if (!h && "function" != typeof e) throw new st(o); var l = i ? i.length : 0; if (l || (t &= ~(E | O), i = s = r), c = c === r ? c : Bt(Jh(c), 0), u = u === r ? u : Jh(u), l -= s ? s.length : 0, t & O) { var f = i, d = s; i = s = r } var p = h ? r : Ho(e), g = [e, t, n, i, s, f, d, a, c, u]; if (p && ya(g, p), e = g[0], t = g[1], n = g[2], i = g[3], s = g[4], u = g[9] = g[9] === r ? h ? 0 : e.length : Bt(g[9] - l, 0), !u && t & (m | w) && (t &= ~(m | w)), t && t != b) y = t == m || t == w ? bo(e, t, u) : t != E && t != (b | E) || s.length ? _o.apply(r, g) : So(e, t, n, i); else var y = lo(e, t, n); var _ = p ? Ss : Sa; return Pa(_(y, g), e, t) } function To(e, t, n, i) { return e === r || ih(e, ct[n]) && !lt.call(i, n) ? t : e } function Co(e, t, n, i, s, o) { return Sh(e) && Sh(t) && (o.set(t, e), cs(e, t, r, Co, o), o.delete(t)), e } function Uo(e) { return Uh(e) ? r : e } function Do(e, t, n, i, s, o) { var a = n & p, c = e.length, u = t.length; if (c != u && !(a && u > c)) return !1; var h = o.get(e), l = o.get(t); if (h && l) return h == t && l == e; var f = -1, d = !0, b = n & g ? new Gn : r; for (o.set(e, t), o.set(t, e); ++f < c;) { var y = e[f], v = t[f]; if (i) var _ = a ? i(v, y, f, t, e, o) : i(y, v, f, e, t, o); if (_ !== r) { if (_) continue; d = !1; break } if (b) { if (!Rr(t, (function (e, t) { if (!Gr(b, t) && (y === e || s(y, e, n, i, o))) return b.push(t) }))) { d = !1; break } } else if (y !== v && !s(y, v, n, i, o)) { d = !1; break } } return o.delete(e), o.delete(t), d } function Lo(e, t, r, n, i, s, o) { switch (r) { case le: if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1; e = e.buffer, t = t.buffer; case he: return !(e.byteLength != t.byteLength || !s(new mt(e), new mt(t))); case F: case $: case Z: return ih(+e, +t); case J: return e.name == t.name && e.message == t.message; case ne: case se: return e == t + ""; case X: var a = an; case ie: var c = n & p; if (a || (a = hn), e.size != t.size && !c) return !1; var u = o.get(e); if (u) return u == t; n |= g, o.set(e, t); var h = Do(a(e), a(t), n, i, s, o); return o.delete(e), h; case oe: if (_n) return _n.call(e) == _n.call(t) }return !1 } function Mo(e, t, n, i, s, o) { var a = n & p, c = zo(e), u = c.length, h = zo(t), l = h.length; if (u != l && !a) return !1; for (var f = u; f--;) { var d = c[f]; if (!(a ? d in t : lt.call(t, d))) return !1 } var g = o.get(e), b = o.get(t); if (g && b) return g == t && b == e; var y = !0; o.set(e, t), o.set(t, e); for (var v = a; ++f < u;) { d = c[f]; var _ = e[d], m = t[d]; if (i) var w = a ? i(m, _, d, t, e, o) : i(_, m, d, e, t, o); if (!(w === r ? _ === m || s(_, m, n, i, o) : w)) { y = !1; break } v || (v = "constructor" == d) } if (y && !v) { var E = e.constructor, O = t.constructor; E != O && "constructor" in e && "constructor" in t && !("function" == typeof E && E instanceof E && "function" == typeof O && O instanceof O) && (y = !1) } return o.delete(e), o.delete(t), y } function ko(e) { return ja(ma(e, r, Ja), e + "") } function zo(e) { return Di(e, El, Go) } function Bo(e) { return Di(e, Ol, Yo) } var Ho = ar ? function (e) { return ar.get(e) } : zf; function qo(e) { for (var t = e.name + "", r = ur[t], n = lt.call(ur, t) ? r.length : 0; n--;) { var i = r[n], s = i.func; if (null == s || s == e) return i.name } return t } function Vo(e) { var t = lt.call(On, "placeholder") ? On : e; return t.placeholder } function Ko() { var e = On.iteratee || Tf; return e = e === Tf ? ts : e, arguments.length ? e(arguments[0], arguments[1]) : e } function Fo(e, t) { var r = e.__data__; return ua(t) ? r["string" == typeof t ? "string" : "hash"] : r.map } function $o(e) { for (var t = El(e), r = t.length; r--;) { var n = t[r], i = e[n]; t[r] = [n, i, pa(i)] } return t } function Wo(e, t) { var n = rn(e, t); return Xi(n) ? n : r } function Jo(e) { var t = lt.call(e, At), n = e[At]; try { e[At] = r; var i = !0 } catch { } var s = pt.call(e); return i && (t ? e[At] = n : delete e[At]), s } var Go = Dt ? function (e) { return null == e ? [] : (e = rt(e), Er(Dt(e), (function (t) { return St.call(e, t) }))) } : Jf, Yo = Dt ? function (e) { for (var t = []; e;)jr(t, Go(e)), e = Et(e); return t } : Jf, Xo = Li; function Zo(e, t, r) { for (var n = -1, i = r.length; ++n < i;) { var s = r[n], o = s.size; switch (s.type) { case "drop": e += o; break; case "dropRight": t -= o; break; case "take": t = Vt(t, e + o); break; case "takeRight": e = Bt(e, t - o); break } } return { start: e, end: t } } function Qo(e) { var t = e.match(ze); return t ? t[1].split(Be) : [] } function ea(e, t, r) { t = Vs(t, e); for (var n = -1, i = t.length, s = !1; ++n < i;) { var o = Na(t[n]); if (!(s = null != e && r(e, o))) break; e = e[o] } return s || ++n != i ? s : (i = null == e ? 0 : e.length, !!i && Oh(i) && oa(o, i) && (ch(e) || ah(e))) } function ta(e) { var t = e.length, r = new e.constructor(t); return t && "string" == typeof e[0] && lt.call(e, "index") && (r.index = e.index, r.input = e.input), r } function ra(e) { return "function" != typeof e.constructor || da(e) ? {} : Sn(Et(e)) } function na(e, t, r) { var n = e.constructor; switch (t) { case he: return Js(e); case F: case $: return new n(+e); case le: return Gs(e, r); case fe: case de: case pe: case ge: case be: case ye: case ve: case _e: case me: return Zs(e, r); case X: return new n; case Z: case se: return new n(e); case ne: return Ys(e); case ie: return new n; case oe: return Xs(e) } } function ia(e, t) { var r = t.length; if (!r) return e; var n = r - 1; return t[n] = (r > 1 ? "& " : "") + t[n], t = t.join(r > 2 ? ", " : " "), e.replace(ke, "{\n/* [wrapped with " + t + "] */\n") } function sa(e) { return ch(e) || ah(e) || !!(jt && e && e[jt]) } function oa(e, t) { var r, n = typeof e; return t = null !== (r = t) && void 0 !== r ? r : D, !!t && ("number" == n || "symbol" != n && Ye.test(e)) && e > -1 && e % 1 == 0 && e < t } function aa(e, t, r) { if (!Sh(r)) return !1; var n = typeof t; return !!("number" == n ? hh(r) && oa(t, r.length) : "string" == n && t in r) && ih(r[t], e) } function ca(e, t) { if (ch(e)) return !1; var r = typeof e; return !("number" != r && "symbol" != r && "boolean" != r && null != e && !zh(e)) || (Te.test(e) || !Ne.test(e) || null != t && e in rt(t)) } function ua(e) { var t = typeof e; return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e } function ha(e) { var t = qo(e), r = On[t]; if ("function" != typeof r || !(t in Pn.prototype)) return !1; if (e === r) return !0; var n = Ho(r); return !!n && e === n[0] } function la(e) { return !!dt && dt in e } (Zt && Xo(new Zt(new ArrayBuffer(1))) != le || Qt && Xo(new Qt) != X || er && Xo(er.resolve()) != te || nr && Xo(new nr) != ie || ir && Xo(new ir) != ce) && (Xo = function (e) { var t = Li(e), n = t == ee ? e.constructor : r, i = n ? Ta(n) : ""; if (i) switch (i) { case hr: return le; case xr: return X; case Nr: return te; case Br: return ie; case fn: return ce }return t }); var fa = ut ? wh : Gf; function da(e) { var t = e && e.constructor, r = "function" == typeof t && t.prototype || ct; return e === r } function pa(e) { return e === e && !Sh(e) } function ga(e, t) { return function (n) { return null != n && (n[e] === t && (t !== r || e in rt(n))) } } function ba(e) { var t = Bu(e, (function (e) { return r.size === u && r.clear(), e })), r = t.cache; return t } function ya(e, t) { var r = e[1], n = t[1], i = r | n, s = i < (b | v | S), o = n == S && r == m || n == S && r == I && e[7].length <= t[8] || n == (S | I) && t[7].length <= t[8] && r == m; if (!s && !o) return e; n & b && (e[2] = t[2], i |= r & b ? 0 : _); var a = t[3]; if (a) { var c = e[3]; e[3] = c ? to(c, a, t[4]) : a, e[4] = c ? un(e[3], h) : t[4] } return a = t[5], a && (c = e[5], e[5] = c ? ro(c, a, t[6]) : a, e[6] = c ? un(e[5], h) : t[6]), a = t[7], a && (e[7] = a), n & S && (e[8] = null == e[8] ? t[8] : Vt(e[8], t[8])), null == e[9] && (e[9] = t[9]), e[0] = t[0], e[1] = i, e } function va(e) { var t = []; if (null != e) for (var r in rt(e)) t.push(r); return t } function _a(e) { return pt.call(e) } function ma(e, t, n) { return t = Bt(t === r ? e.length - 1 : t, 0), function () { for (var r = arguments, i = -1, s = Bt(r.length - t, 0), o = y(s); ++i < s;)o[i] = r[t + i]; i = -1; for (var a = y(t + 1); ++i < t;)a[i] = r[i]; return a[t] = n(o), yr(e, this, a) } } function wa(e, t) { return t.length < 2 ? e : Ui(e, Ps(t, 0, -1)) } function Ea(e, t) { for (var n = e.length, i = Vt(t.length, n), s = no(e); i--;) { var o = t[i]; e[i] = oa(o, n) ? s[o] : r } return e } function Oa(e, t) { if (("constructor" !== t || "function" != typeof e[t]) && "__proto__" != t) return e[t] } var Sa = Aa(Ss), Ia = Tt || function (e, t) { return sr.setTimeout(e, t) }, ja = Aa(Is); function Pa(e, t, r) { var n = t + ""; return ja(e, ia(n, Ca(Qo(n), r))) } function Aa(e) { var t = 0, n = 0; return function () { var i = Kt(), s = x - (i - n); if (n = i, s > 0) { if (++t >= R) return arguments[0] } else t = 0; return e.apply(r, arguments) } } function Ra(e, t) { var n = -1, i = e.length, s = i - 1; for (t = t === r ? i : t; ++n < t;) { var o = ys(n, s), a = e[o]; e[o] = e[n], e[n] = a } return e.length = t, e } var xa = ba((function (e) { var t = []; return 46 === e.charCodeAt(0) && t.push(""), e.replace(Ce, (function (e, r, n, i) { t.push(n ? i.replace(Ve, "$1") : r || e) })), t })); function Na(e) { if ("string" == typeof e || zh(e)) return e; var t = e + ""; return "0" == t && 1 / e == -U ? "-0" : t } function Ta(e) { if (null != e) { try { return ht.call(e) } catch { } try { return e + "" } catch { } } return "" } function Ca(e, t) { return _r(H, (function (r) { var n = "_." + r[0]; t & r[1] && !Or(e, n) && e.push(n) })), e.sort() } function Ua(e) { if (e instanceof Pn) return e.clone(); var t = new jn(e.__wrapped__, e.__chain__); return t.__actions__ = no(e.__actions__), t.__index__ = e.__index__, t.__values__ = e.__values__, t } function Da(e, t, n) { t = (n ? aa(e, t, n) : t === r) ? 1 : Bt(Jh(t), 0); var i = null == e ? 0 : e.length; if (!i || t < 1) return []; for (var s = 0, o = 0, a = y(Ct(i / t)); s < i;)a[o++] = Ps(e, s, s += t); return a } function La(e) { for (var t = -1, r = null == e ? 0 : e.length, n = 0, i = []; ++t < r;) { var s = e[t]; s && (i[n++] = s) } return i } function Ma() { var e = arguments.length; if (!e) return []; for (var t = y(e - 1), r = arguments[0], n = e; n--;)t[n - 1] = arguments[n]; return jr(ch(r) ? no(r) : [r], Ai(t, 1)) } var ka = ms((function (e, t) { return lh(e) ? wi(e, Ai(t, 1, lh, !0)) : [] })), za = ms((function (e, t) { var n = sc(t); return lh(n) && (n = r), lh(e) ? wi(e, Ai(t, 1, lh, !0), Ko(n, 2)) : [] })), Ba = ms((function (e, t) { var n = sc(t); return lh(n) && (n = r), lh(e) ? wi(e, Ai(t, 1, lh, !0), r, n) : [] })); function Ha(e, t, n) { var i = null == e ? 0 : e.length; return i ? (t = n || t === r ? 1 : Jh(t), Ps(e, t < 0 ? 0 : t, i)) : [] } function qa(e, t, n) { var i = null == e ? 0 : e.length; return i ? (t = n || t === r ? 1 : Jh(t), t = i - t, Ps(e, 0, t < 0 ? 0 : t)) : [] } function Va(e, t) { return e && e.length ? Ms(e, Ko(t, 3), !0, !0) : [] } function Ka(e, t) { return e && e.length ? Ms(e, Ko(t, 3), !0) : [] } function Fa(e, t, r, n) { var i = null == e ? 0 : e.length; return i ? (r && "number" != typeof r && aa(e, t, r) && (r = 0, n = i), ji(e, t, r, n)) : [] } function $a(e, t, r) { var n = null == e ? 0 : e.length; if (!n) return -1; var i = null == r ? 0 : Jh(r); return i < 0 && (i = Bt(n + i, 0)), Ur(e, Ko(t, 3), i) } function Wa(e, t, n) { var i = null == e ? 0 : e.length; if (!i) return -1; var s = i - 1; return n !== r && (s = Jh(n), s = n < 0 ? Bt(i + s, 0) : Vt(s, i - 1)), Ur(e, Ko(t, 3), s, !0) } function Ja(e) { var t = null == e ? 0 : e.length; return t ? Ai(e, 1) : [] } function Ga(e) { var t = null == e ? 0 : e.length; return t ? Ai(e, U) : [] } function Ya(e, t) { var n = null == e ? 0 : e.length; return n ? (t = t === r ? 1 : Jh(t), Ai(e, t)) : [] } function Xa(e) { for (var t = -1, r = null == e ? 0 : e.length, n = {}; ++t < r;) { var i = e[t]; n[i[0]] = i[1] } return n } function Za(e) { return e && e.length ? e[0] : r } function Qa(e, t, r) { var n = null == e ? 0 : e.length; if (!n) return -1; var i = null == r ? 0 : Jh(r); return i < 0 && (i = Bt(n + i, 0)), Dr(e, t, i) } function ec(e) { var t = null == e ? 0 : e.length; return t ? Ps(e, 0, -1) : [] } var tc = ms((function (e) { var t = Ir(e, Hs); return t.length && t[0] === e[0] ? Hi(t) : [] })), rc = ms((function (e) { var t = sc(e), n = Ir(e, Hs); return t === sc(n) ? t = r : n.pop(), n.length && n[0] === e[0] ? Hi(n, Ko(t, 2)) : [] })), nc = ms((function (e) { var t = sc(e), n = Ir(e, Hs); return t = "function" == typeof t ? t : r, t && n.pop(), n.length && n[0] === e[0] ? Hi(n, r, t) : [] })); function ic(e, t) { return null == e ? "" : kt.call(e, t) } function sc(e) { var t = null == e ? 0 : e.length; return t ? e[t - 1] : r } function oc(e, t, n) { var i = null == e ? 0 : e.length; if (!i) return -1; var s = i; return n !== r && (s = Jh(n), s = s < 0 ? Bt(i + s, 0) : Vt(s, i - 1)), t === t ? dn(e, t, s) : Ur(e, Mr, s, !0) } function ac(e, t) { return e && e.length ? hs(e, Jh(t)) : r } var cc = ms(uc); function uc(e, t) { return e && e.length && t && t.length ? gs(e, t) : e } function hc(e, t, r) { return e && e.length && t && t.length ? gs(e, t, Ko(r, 2)) : e } function lc(e, t, n) { return e && e.length && t && t.length ? gs(e, t, r, n) : e } var fc = ko((function (e, t) { var r = null == e ? 0 : e.length, n = gi(e, t); return bs(e, Ir(t, (function (e) { return oa(e, r) ? +e : e })).sort(Qs)), n })); function dc(e, t) { var r = []; if (!e || !e.length) return r; var n = -1, i = [], s = e.length; for (t = Ko(t, 3); ++n < s;) { var o = e[n]; t(o, n, e) && (r.push(o), i.push(n)) } return bs(e, i), r } function pc(e) { return null == e ? e : Xt.call(e) } function gc(e, t, n) { var i = null == e ? 0 : e.length; return i ? (n && "number" != typeof n && aa(e, t, n) ? (t = 0, n = i) : (t = null == t ? 0 : Jh(t), n = n === r ? i : Jh(n)), Ps(e, t, n)) : [] } function bc(e, t) { return Rs(e, t) } function yc(e, t, r) { return xs(e, t, Ko(r, 2)) } function vc(e, t) { var r = null == e ? 0 : e.length; if (r) { var n = Rs(e, t); if (n < r && ih(e[n], t)) return n } return -1 } function _c(e, t) { return Rs(e, t, !0) } function mc(e, t, r) { return xs(e, t, Ko(r, 2), !0) } function wc(e, t) { var r = null == e ? 0 : e.length; if (r) { var n = Rs(e, t, !0) - 1; if (ih(e[n], t)) return n } return -1 } function Ec(e) { return e && e.length ? Ns(e) : [] } function Oc(e, t) { return e && e.length ? Ns(e, Ko(t, 2)) : [] } function Sc(e) { var t = null == e ? 0 : e.length; return t ? Ps(e, 1, t) : [] } function Ic(e, t, n) { return e && e.length ? (t = n || t === r ? 1 : Jh(t), Ps(e, 0, t < 0 ? 0 : t)) : [] } function jc(e, t, n) { var i = null == e ? 0 : e.length; return i ? (t = n || t === r ? 1 : Jh(t), t = i - t, Ps(e, t < 0 ? 0 : t, i)) : [] } function Pc(e, t) { return e && e.length ? Ms(e, Ko(t, 3), !1, !0) : [] } function Ac(e, t) { return e && e.length ? Ms(e, Ko(t, 3)) : [] } var Rc = ms((function (e) { return Us(Ai(e, 1, lh, !0)) })), xc = ms((function (e) { var t = sc(e); return lh(t) && (t = r), Us(Ai(e, 1, lh, !0), Ko(t, 2)) })), Nc = ms((function (e) { var t = sc(e); return t = "function" == typeof t ? t : r, Us(Ai(e, 1, lh, !0), r, t) })); function Tc(e) { return e && e.length ? Us(e) : [] } function Cc(e, t) { return e && e.length ? Us(e, Ko(t, 2)) : [] } function Uc(e, t) { return t = "function" == typeof t ? t : r, e && e.length ? Us(e, r, t) : [] } function Dc(e) { if (!e || !e.length) return []; var t = 0; return e = Er(e, (function (e) { if (lh(e)) return t = Bt(e.length, t), !0 })), Kr(t, (function (t) { return Ir(e, zr(t)) })) } function Lc(e, t) { if (!e || !e.length) return []; var n = Dc(e); return null == t ? n : Ir(n, (function (e) { return yr(t, r, e) })) } var Mc = ms((function (e, t) { return lh(e) ? wi(e, t) : [] })), kc = ms((function (e) { return zs(Er(e, lh)) })), zc = ms((function (e) { var t = sc(e); return lh(t) && (t = r), zs(Er(e, lh), Ko(t, 2)) })), Bc = ms((function (e) { var t = sc(e); return t = "function" == typeof t ? t : r, zs(Er(e, lh), r, t) })), Hc = ms(Dc); function qc(e, t) { return Bs(e || [], t || [], ui) } function Vc(e, t) { return Bs(e || [], t || [], Os) } var Kc = ms((function (e) { var t = e.length, n = t > 1 ? e[t - 1] : r; return n = "function" == typeof n ? (e.pop(), n) : r, Lc(e, n) })); function Fc(e) { var t = On(e); return t.__chain__ = !0, t } function $c(e, t) { return t(e), e } function Wc(e, t) { return t(e) } var Jc = ko((function (e) { var t = e.length, n = t ? e[0] : 0, i = this.__wrapped__, s = function (t) { return gi(t, e) }; return !(t > 1 || this.__actions__.length) && i instanceof Pn && oa(n) ? (i = i.slice(n, +n + (t ? 1 : 0)), i.__actions__.push({ func: Wc, args: [s], thisArg: r }), new jn(i, this.__chain__).thru((function (e) { return t && !e.length && e.push(r), e }))) : this.thru(s) })); function Gc() { return Fc(this) } function Yc() { return new jn(this.value(), this.__chain__) } function Xc() { this.__values__ === r && (this.__values__ = $h(this.value())); var e = this.__index__ >= this.__values__.length, t = e ? r : this.__values__[this.__index__++]; return { done: e, value: t } } function Zc() { return this } function Qc(e) { for (var t, n = this; n instanceof In;) { var i = Ua(n); i.__index__ = 0, i.__values__ = r, t ? s.__wrapped__ = i : t = i; var s = i; n = n.__wrapped__ } return s.__wrapped__ = e, t } function eu() { var e = this.__wrapped__; if (e instanceof Pn) { var t = e; return this.__actions__.length && (t = new Pn(this)), t = t.reverse(), t.__actions__.push({ func: Wc, args: [pc], thisArg: r }), new jn(t, this.__chain__) } return this.thru(pc) } function tu() { return ks(this.__wrapped__, this.__actions__) } var ru = ao((function (e, t, r) { lt.call(e, r) ? ++e[r] : pi(e, r, 1) })); function nu(e, t, n) { var i = ch(e) ? wr : Si; return n && aa(e, t, n) && (t = r), i(e, Ko(t, 3)) } function iu(e, t) { var r = ch(e) ? Er : Pi; return r(e, Ko(t, 3)) } var su = yo($a), ou = yo(Wa); function au(e, t) { return Ai(bu(e, t), 1) } function cu(e, t) { return Ai(bu(e, t), U) } function uu(e, t, n) { return n = n === r ? 1 : Jh(n), Ai(bu(e, t), n) } function hu(e, t) { var r = ch(e) ? _r : Ei; return r(e, Ko(t, 3)) } function lu(e, t) { var r = ch(e) ? mr : Oi; return r(e, Ko(t, 3)) } var fu = ao((function (e, t, r) { lt.call(e, r) ? e[r].push(t) : pi(e, r, [t]) })); function du(e, t, r, n) { e = hh(e) ? e : Hl(e), r = r && !n ? Jh(r) : 0; var i = e.length; return r < 0 && (r = Bt(i + r, 0)), kh(e) ? r <= i && e.indexOf(t, r) > -1 : !!i && Dr(e, t, r) > -1 } var pu = ms((function (e, t, r) { var n = -1, i = "function" == typeof t, s = hh(e) ? y(e.length) : []; return Ei(e, (function (e) { s[++n] = i ? yr(t, e, r) : Vi(e, t, r) })), s })), gu = ao((function (e, t, r) { pi(e, r, t) })); function bu(e, t) { var r = ch(e) ? Ir : ss; return r(e, Ko(t, 3)) } function yu(e, t, n, i) { return null == e ? [] : (ch(t) || (t = null == t ? [] : [t]), n = i ? r : n, ch(n) || (n = null == n ? [] : [n]), ls(e, t, n)) } var vu = ao((function (e, t, r) { e[r ? 0 : 1].push(t) }), (function () { return [[], []] })); function _u(e, t, r) { var n = ch(e) ? Pr : Hr, i = arguments.length < 3; return n(e, Ko(t, 4), r, i, Ei) } function mu(e, t, r) { var n = ch(e) ? Ar : Hr, i = arguments.length < 3; return n(e, Ko(t, 4), r, i, Oi) } function wu(e, t) { var r = ch(e) ? Er : Pi; return r(e, Hu(Ko(t, 3))) } function Eu(e) { var t = ch(e) ? si : ws; return t(e) } function Ou(e, t, n) { t = (n ? aa(e, t, n) : t === r) ? 1 : Jh(t); var i = ch(e) ? oi : Es; return i(e, t) } function Su(e) { var t = ch(e) ? ai : js; return t(e) } function Iu(e) { if (null == e) return 0; if (hh(e)) return kh(e) ? pn(e) : e.length; var t = Xo(e); return t == X || t == ie ? e.size : rs(e).length } function ju(e, t, n) { var i = ch(e) ? Rr : As; return n && aa(e, t, n) && (t = r), i(e, Ko(t, 3)) } var Pu = ms((function (e, t) { if (null == e) return []; var r = t.length; return r > 1 && aa(e, t[0], t[1]) ? t = [] : r > 2 && aa(t[0], t[1], t[2]) && (t = [t[0]]), ls(e, Ai(t, 1), []) })), Au = Nt || function () { return sr.Date.now() }; function Ru(e, t) { if ("function" != typeof t) throw new st(o); return e = Jh(e), function () { if (--e < 1) return t.apply(this, arguments) } } function xu(e, t, n) { return t = n ? r : t, t = e && null == t ? e.length : t, No(e, S, r, r, r, r, t) } function Nu(e, t) { var n; if ("function" != typeof t) throw new st(o); return e = Jh(e), function () { return --e > 0 && (n = t.apply(this, arguments)), e <= 1 && (t = r), n } } var Tu = ms((function (e, t, r) { var n = b; if (r.length) { var i = un(r, Vo(Tu)); n |= E } return No(e, n, t, r, i) })), Cu = ms((function (e, t, r) { var n = b | v; if (r.length) { var i = un(r, Vo(Cu)); n |= E } return No(t, n, e, r, i) })); function Uu(e, t, n) { t = n ? r : t; var i = No(e, m, r, r, r, r, r, t); return i.placeholder = Uu.placeholder, i } function Du(e, t, n) { t = n ? r : t; var i = No(e, w, r, r, r, r, r, t); return i.placeholder = Du.placeholder, i } function Lu(e, t, n) { var i, s, a, c, u, h, l = 0, f = !1, d = !1, p = !0; if ("function" != typeof e) throw new st(o); function g(t) { var n = i, o = s; return i = s = r, l = t, c = e.apply(o, n), c } function b(e) { return l = e, u = Ia(_, t), f ? g(e) : c } function y(e) { var r = e - h, n = e - l, i = t - r; return d ? Vt(i, a - n) : i } function v(e) { var n = e - h, i = e - l; return h === r || n >= t || n < 0 || d && i >= a } function _() { var e = Au(); if (v(e)) return m(e); u = Ia(_, y(e)) } function m(e) { return u = r, p && i ? g(e) : (i = s = r, c) } function w() { u !== r && $s(u), l = 0, i = h = s = u = r } function E() { return u === r ? c : m(Au()) } function O() { var e = Au(), n = v(e); if (i = arguments, s = this, h = e, n) { if (u === r) return b(h); if (d) return $s(u), u = Ia(_, t), g(h) } return u === r && (u = Ia(_, t)), c } return t = Yh(t) || 0, Sh(n) && (f = !!n.leading, d = "maxWait" in n, a = d ? Bt(Yh(n.maxWait) || 0, t) : a, p = "trailing" in n ? !!n.trailing : p), O.cancel = w, O.flush = E, O } var Mu = ms((function (e, t) { return mi(e, 1, t) })), ku = ms((function (e, t, r) { return mi(e, Yh(t) || 0, r) })); function zu(e) { return No(e, j) } function Bu(e, t) { if ("function" != typeof e || null != t && "function" != typeof t) throw new st(o); var r = function () { var n = arguments, i = t ? t.apply(this, n) : n[0], s = r.cache; if (s.has(i)) return s.get(i); var o = e.apply(this, n); return r.cache = s.set(i, o) || s, o }; return r.cache = new (Bu.Cache || Vn), r } function Hu(e) { if ("function" != typeof e) throw new st(o); return function () { var t = arguments; switch (t.length) { case 0: return !e.call(this); case 1: return !e.call(this, t[0]); case 2: return !e.call(this, t[0], t[1]); case 3: return !e.call(this, t[0], t[1], t[2]) }return !e.apply(this, t) } } function qu(e) { return Nu(2, e) } Bu.Cache = Vn; var Vu = Ks((function (e, t) { t = 1 == t.length && ch(t[0]) ? Ir(t[0], Wr(Ko())) : Ir(Ai(t, 1), Wr(Ko())); var r = t.length; return ms((function (n) { for (var i = -1, s = Vt(n.length, r); ++i < s;)n[i] = t[i].call(this, n[i]); return yr(e, this, n) })) })), Ku = ms((function (e, t) { var n = un(t, Vo(Ku)); return No(e, E, r, t, n) })), Fu = ms((function (e, t) { var n = un(t, Vo(Fu)); return No(e, O, r, t, n) })), $u = ko((function (e, t) { return No(e, I, r, r, r, t) })); function Wu(e, t) { if ("function" != typeof e) throw new st(o); return t = t === r ? t : Jh(t), ms(e, t) } function Ju(e, t) { if ("function" != typeof e) throw new st(o); return t = null == t ? 0 : Bt(Jh(t), 0), ms((function (r) { var n = r[t], i = Fs(r, 0, t); return n && jr(i, n), yr(e, this, i) })) } function Gu(e, t, r) { var n = !0, i = !0; if ("function" != typeof e) throw new st(o); return Sh(r) && (n = "leading" in r ? !!r.leading : n, i = "trailing" in r ? !!r.trailing : i), Lu(e, t, { leading: n, maxWait: t, trailing: i }) } function Yu(e) { return xu(e, 1) } function Xu(e, t) { return Ku(qs(t), e) } function Zu() { if (!arguments.length) return []; var e = arguments[0]; return ch(e) ? e : [e] } function Qu(e) { return yi(e, d) } function eh(e, t) { return t = "function" == typeof t ? t : r, yi(e, d, t) } function th(e) { return yi(e, l | d) } function rh(e, t) { return t = "function" == typeof t ? t : r, yi(e, l | d, t) } function nh(e, t) { return null == t || _i(e, t, El(t)) } function ih(e, t) { return e === t || e !== e && t !== t } var sh = jo(Mi), oh = jo((function (e, t) { return e >= t })), ah = Ki(function () { return arguments }()) ? Ki : function (e) { return Ih(e) && lt.call(e, "callee") && !St.call(e, "callee") }, ch = y.isArray, uh = lr ? Wr(lr) : Fi; function hh(e) { return null != e && Oh(e.length) && !wh(e) } function lh(e) { return Ih(e) && hh(e) } function fh(e) { return !0 === e || !1 === e || Ih(e) && Li(e) == F } var dh = Lt || Gf, ph = fr ? Wr(fr) : $i; function gh(e) { return Ih(e) && 1 === e.nodeType && !Uh(e) } function bh(e) { if (null == e) return !0; if (hh(e) && (ch(e) || "string" == typeof e || "function" == typeof e.splice || dh(e) || Bh(e) || ah(e))) return !e.length; var t = Xo(e); if (t == X || t == ie) return !e.size; if (da(e)) return !rs(e).length; for (var r in e) if (lt.call(e, r)) return !1; return !0 } function yh(e, t) { return Wi(e, t) } function vh(e, t, n) { n = "function" == typeof n ? n : r; var i = n ? n(e, t) : r; return i === r ? Wi(e, t, r, n) : !!i } function _h(e) { if (!Ih(e)) return !1; var t = Li(e); return t == J || t == W || "string" == typeof e.message && "string" == typeof e.name && !Uh(e) } function mh(e) { return "number" == typeof e && Mt(e) } function wh(e) { if (!Sh(e)) return !1; var t = Li(e); return t == G || t == Y || t == K || t == re } function Eh(e) { return "number" == typeof e && e == Jh(e) } function Oh(e) { return "number" == typeof e && e > -1 && e % 1 == 0 && e <= D } function Sh(e) { var t = typeof e; return null != e && ("object" == t || "function" == t) } function Ih(e) { return null != e && "object" == typeof e } var jh = dr ? Wr(dr) : Gi; function Ph(e, t) { return e === t || Yi(e, t, $o(t)) } function Ah(e, t, n) { return n = "function" == typeof n ? n : r, Yi(e, t, $o(t), n) } function Rh(e) { return Ch(e) && e != +e } function xh(e) { if (fa(e)) throw new He(s); return Xi(e) } function Nh(e) { return null === e } function Th(e) { return null == e } function Ch(e) { return "number" == typeof e || Ih(e) && Li(e) == Z } function Uh(e) { if (!Ih(e) || Li(e) != ee) return !1; var t = Et(e); if (null === t) return !0; var r = lt.call(t, "constructor") && t.constructor; return "function" == typeof r && r instanceof r && ht.call(r) == gt } var Dh = pr ? Wr(pr) : Zi; function Lh(e) { return Eh(e) && e >= -D && e <= D } var Mh = gr ? Wr(gr) : Qi; function kh(e) { return "string" == typeof e || !ch(e) && Ih(e) && Li(e) == se } function zh(e) { return "symbol" == typeof e || Ih(e) && Li(e) == oe } var Bh = br ? Wr(br) : es; function Hh(e) { return e === r } function qh(e) { return Ih(e) && Xo(e) == ce } function Vh(e) { return Ih(e) && Li(e) == ue } var Kh = jo(is), Fh = jo((function (e, t) { return e <= t })); function $h(e) { if (!e) return []; if (hh(e)) return kh(e) ? gn(e) : no(e); if (Pt && e[Pt]) return on(e[Pt]()); var t = Xo(e), r = t == X ? an : t == ie ? hn : Hl; return r(e) } function Wh(e) { if (!e) return 0 === e ? e : 0; if (e = Yh(e), e === U || e === -U) { var t = e < 0 ? -1 : 1; return t * L } return e === e ? e : 0 } function Jh(e) { var t = Wh(e), r = t % 1; return t === t ? r ? t - r : t : 0 } function Gh(e) { return e ? bi(Jh(e), 0, k) : 0 } function Yh(e) { if ("number" == typeof e) return e; if (zh(e)) return M; if (Sh(e)) { var t = "function" == typeof e.valueOf ? e.valueOf() : e; e = Sh(t) ? t + "" : t } if ("string" != typeof e) return 0 === e ? e : +e; e = $r(e); var r = We.test(e); return r || Ge.test(e) ? rr(e.slice(2), r ? 2 : 8) : $e.test(e) ? M : +e } function Xh(e) { return io(e, Ol(e)) } function Zh(e) { return e ? bi(Jh(e), -D, D) : 0 === e ? e : 0 } function Qh(e) { return null == e ? "" : Cs(e) } var el = co((function (e, t) { if (da(t) || hh(t)) io(t, El(t), e); else for (var r in t) lt.call(t, r) && ui(e, r, t[r]) })), tl = co((function (e, t) { io(t, Ol(t), e) })), rl = co((function (e, t, r, n) { io(t, Ol(t), e, n) })), nl = co((function (e, t, r, n) { io(t, El(t), e, n) })), il = ko(gi); function sl(e, t) { var r = Sn(e); return null == t ? r : fi(r, t) } var ol = ms((function (e, t) { e = rt(e); var n = -1, i = t.length, s = i > 2 ? t[2] : r; for (s && aa(t[0], t[1], s) && (i = 1); ++n < i;)for (var o = t[n], a = Ol(o), c = -1, u = a.length; ++c < u;) { var h = a[c], l = e[h]; (l === r || ih(l, ct[h]) && !lt.call(e, h)) && (e[h] = o[h]) } return e })), al = ms((function (e) { return e.push(r, Co), yr(Pl, r, e) })); function cl(e, t) { return Cr(e, Ko(t, 3), Ni) } function ul(e, t) { return Cr(e, Ko(t, 3), Ti) } function hl(e, t) { return null == e ? e : Ri(e, Ko(t, 3), Ol) } function ll(e, t) { return null == e ? e : xi(e, Ko(t, 3), Ol) } function fl(e, t) { return e && Ni(e, Ko(t, 3)) } function dl(e, t) { return e && Ti(e, Ko(t, 3)) } function pl(e) { return null == e ? [] : Ci(e, El(e)) } function gl(e) { return null == e ? [] : Ci(e, Ol(e)) } function bl(e, t, n) { var i = null == e ? r : Ui(e, t); return i === r ? n : i } function yl(e, t) { return null != e && ea(e, t, ki) } function vl(e, t) { return null != e && ea(e, t, zi) } var _l = mo((function (e, t, r) { null != t && "function" != typeof t.toString && (t = pt.call(t)), e[t] = r }), Pf(Nf)), ml = mo((function (e, t, r) { null != t && "function" != typeof t.toString && (t = pt.call(t)), lt.call(e, t) ? e[t].push(r) : e[t] = [r] }), Ko), wl = ms(Vi); function El(e) { return hh(e) ? ii(e) : rs(e) } function Ol(e) { return hh(e) ? ii(e, !0) : ns(e) } function Sl(e, t) { var r = {}; return t = Ko(t, 3), Ni(e, (function (e, n, i) { pi(r, t(e, n, i), e) })), r } function Il(e, t) { var r = {}; return t = Ko(t, 3), Ni(e, (function (e, n, i) { pi(r, n, t(e, n, i)) })), r } var jl = co((function (e, t, r) { cs(e, t, r) })), Pl = co((function (e, t, r, n) { cs(e, t, r, n) })), Al = ko((function (e, t) { var r = {}; if (null == e) return r; var n = !1; t = Ir(t, (function (t) { return t = Vs(t, e), n || (n = t.length > 1), t })), io(e, Bo(e), r), n && (r = yi(r, l | f | d, Uo)); for (var i = t.length; i--;)Ds(r, t[i]); return r })); function Rl(e, t) { return Nl(e, Hu(Ko(t))) } var xl = ko((function (e, t) { return null == e ? {} : fs(e, t) })); function Nl(e, t) { if (null == e) return {}; var r = Ir(Bo(e), (function (e) { return [e] })); return t = Ko(t), ds(e, r, (function (e, r) { return t(e, r[0]) })) } function Tl(e, t, n) { t = Vs(t, e); var i = -1, s = t.length; for (s || (s = 1, e = r); ++i < s;) { var o = null == e ? r : e[Na(t[i])]; o === r && (i = s, o = n), e = wh(o) ? o.call(e) : o } return e } function Cl(e, t, r) { return null == e ? e : Os(e, t, r) } function Ul(e, t, n, i) { return i = "function" == typeof i ? i : r, null == e ? e : Os(e, t, n, i) } var Dl = xo(El), Ll = xo(Ol); function Ml(e, t, r) { var n = ch(e), i = n || dh(e) || Bh(e); if (t = Ko(t, 4), null == r) { var s = e && e.constructor; r = i ? n ? new s : [] : Sh(e) && wh(s) ? Sn(Et(e)) : {} } return (i ? _r : Ni)(e, (function (e, n, i) { return t(r, e, n, i) })), r } function kl(e, t) { return null == e || Ds(e, t) } function zl(e, t, r) { return null == e ? e : Ls(e, t, qs(r)) } function Bl(e, t, n, i) { return i = "function" == typeof i ? i : r, null == e ? e : Ls(e, t, qs(n), i) } function Hl(e) { return null == e ? [] : Jr(e, El(e)) } function ql(e) { return null == e ? [] : Jr(e, Ol(e)) } function Vl(e, t, n) { return n === r && (n = t, t = r), n !== r && (n = Yh(n), n = n === n ? n : 0), t !== r && (t = Yh(t), t = t === t ? t : 0), bi(Yh(e), t, n) } function Kl(e, t, n) { return t = Wh(t), n === r ? (n = t, t = 0) : n = Wh(n), e = Yh(e), Bi(e, t, n) } function Fl(e, t, n) { if (n && "boolean" != typeof n && aa(e, t, n) && (t = n = r), n === r && ("boolean" == typeof t ? (n = t, t = r) : "boolean" == typeof e && (n = e, e = r)), e === r && t === r ? (e = 0, t = 1) : (e = Wh(e), t === r ? (t = e, e = 0) : t = Wh(t)), e > t) { var i = e; e = t, t = i } if (n || e % 1 || t % 1) { var s = $t(); return Vt(e + s * (t - e + tr("1e-" + ((s + "").length - 1))), t) } return ys(e, t) } var $l = po((function (e, t, r) { return t = t.toLowerCase(), e + (r ? Wl(t) : t) })); function Wl(e) { return wf(Qh(e).toLowerCase()) } function Jl(e) { return e = Qh(e), e && e.replace(Xe, Qr).replace(qt, "") } function Gl(e, t, n) { e = Qh(e), t = Cs(t); var i = e.length; n = n === r ? i : bi(Jh(n), 0, i); var s = n; return n -= t.length, n >= 0 && e.slice(n, s) == t } function Yl(e) { return e = Qh(e), e && Pe.test(e) ? e.replace(Ie, en) : e } function Xl(e) { return e = Qh(e), e && De.test(e) ? e.replace(Ue, "\\$&") : e } var Zl = po((function (e, t, r) { return e + (r ? "-" : "") + t.toLowerCase() })), Ql = po((function (e, t, r) { return e + (r ? " " : "") + t.toLowerCase() })), ef = fo("toLowerCase"); function tf(e, t, r) { e = Qh(e), t = Jh(t); var n = t ? pn(e) : 0; if (!t || n >= t) return e; var i = (t - n) / 2; return Oo(Ut(i), r) + e + Oo(Ct(i), r) } function rf(e, t, r) { e = Qh(e), t = Jh(t); var n = t ? pn(e) : 0; return t && n < t ? e + Oo(t - n, r) : e } function nf(e, t, r) { e = Qh(e), t = Jh(t); var n = t ? pn(e) : 0; return t && n < t ? Oo(t - n, r) + e : e } function sf(e, t, r) { return r || null == t ? t = 0 : t && (t = +t), Ft(Qh(e).replace(Le, ""), t || 0) } function of(e, t, n) { return t = (n ? aa(e, t, n) : t === r) ? 1 : Jh(t), _s(Qh(e), t) } function af() { var e = arguments, t = Qh(e[0]); return e.length < 3 ? t : t.replace(e[1], e[2]) } var cf = po((function (e, t, r) { return e + (r ? "_" : "") + t.toLowerCase() })); function uf(e, t, n) { return n && "number" != typeof n && aa(e, t, n) && (t = n = r), n = n === r ? k : n >>> 0, n ? (e = Qh(e), e && ("string" == typeof t || null != t && !Dh(t)) && (t = Cs(t), !t && nn(e)) ? Fs(gn(e), 0, n) : e.split(t, n)) : [] } var hf = po((function (e, t, r) { return e + (r ? " " : "") + wf(t) })); function lf(e, t, r) { return e = Qh(e), r = null == r ? 0 : bi(Jh(r), 0, e.length), t = Cs(t), e.slice(r, r + t.length) == t } function ff(e, t, n) { var i = On.templateSettings; n && aa(e, t, n) && (t = r), e = Qh(e), t = rl({}, t, i, To); var s, o, c = rl({}, t.imports, i.imports, To), u = El(c), h = Jr(c, u), l = 0, f = t.interpolate || Ze, d = "__p += '", p = nt((t.escape || Ze).source + "|" + f.source + "|" + (f === xe ? Ke : Ze).source + "|" + (t.evaluate || Ze).source + "|$", "g"), g = "//# sourceURL=" + (lt.call(t, "sourceURL") ? (t.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++Jt + "]") + "\n"; e.replace(p, (function (t, r, n, i, a, c) { return n || (n = i), d += e.slice(l, c).replace(Qe, tn), r && (s = !0, d += "' +\n__e(" + r + ") +\n'"), a && (o = !0, d += "';\n" + a + ";\n__p += '"), n && (d += "' +\n((__t = (" + n + ")) == null ? '' : __t) +\n'"), l = c + t.length, t })), d += "';\n"; var b = lt.call(t, "variable") && t.variable; if (b) { if (qe.test(b)) throw new He(a) } else d = "with (obj) {\n" + d + "\n}\n"; d = (o ? d.replace(we, "") : d).replace(Ee, "$1").replace(Oe, "$1;"), d = "function(" + (b || "obj") + ") {\n" + (b ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (s ? ", __e = _.escape" : "") + (o ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + d + "return __p\n}"; var y = Of((function () { return et(u, g + "return " + d).apply(r, h) })); if (y.source = d, _h(y)) throw y; return y } function df(e) { return Qh(e).toLowerCase() } function pf(e) { return Qh(e).toUpperCase() } function gf(e, t, n) { if (e = Qh(e), e && (n || t === r)) return $r(e); if (!e || !(t = Cs(t))) return e; var i = gn(e), s = gn(t), o = Yr(i, s), a = Xr(i, s) + 1; return Fs(i, o, a).join("") } function bf(e, t, n) { if (e = Qh(e), e && (n || t === r)) return e.slice(0, bn(e) + 1); if (!e || !(t = Cs(t))) return e; var i = gn(e), s = Xr(i, gn(t)) + 1; return Fs(i, 0, s).join("") } function yf(e, t, n) { if (e = Qh(e), e && (n || t === r)) return e.replace(Le, ""); if (!e || !(t = Cs(t))) return e; var i = gn(e), s = Yr(i, gn(t)); return Fs(i, s).join("") } function vf(e, t) { var n = P, i = A; if (Sh(t)) { var s = "separator" in t ? t.separator : s; n = "length" in t ? Jh(t.length) : n, i = "omission" in t ? Cs(t.omission) : i } e = Qh(e); var o = e.length; if (nn(e)) { var a = gn(e); o = a.length } if (n >= o) return e; var c = n - pn(i); if (c < 1) return i; var u = a ? Fs(a, 0, c).join("") : e.slice(0, c); if (s === r) return u + i; if (a && (c += u.length - c), Dh(s)) { if (e.slice(c).search(s)) { var h, l = u; for (s.global || (s = nt(s.source, Qh(Fe.exec(s)) + "g")), s.lastIndex = 0; h = s.exec(l);)var f = h.index; u = u.slice(0, f === r ? c : f) } } else if (e.indexOf(Cs(s), c) != c) { var d = u.lastIndexOf(s); d > -1 && (u = u.slice(0, d)) } return u + i } function _f(e) { return e = Qh(e), e && je.test(e) ? e.replace(Se, yn) : e } var mf = po((function (e, t, r) { return e + (r ? " " : "") + t.toUpperCase() })), wf = fo("toUpperCase"); function Ef(e, t, n) { return e = Qh(e), t = n ? r : t, t === r ? sn(e) ? mn(e) : Tr(e) : e.match(t) || [] } var Of = ms((function (e, t) { try { return yr(e, r, t) } catch (n) { return _h(n) ? n : new He(n) } })), Sf = ko((function (e, t) { return _r(t, (function (t) { t = Na(t), pi(e, t, Tu(e[t], e)) })), e })); function If(e) { var t = null == e ? 0 : e.length, r = Ko(); return e = t ? Ir(e, (function (e) { if ("function" != typeof e[1]) throw new st(o); return [r(e[0]), e[1]] })) : [], ms((function (r) { for (var n = -1; ++n < t;) { var i = e[n]; if (yr(i[0], this, r)) return yr(i[1], this, r) } })) } function jf(e) { return vi(yi(e, l)) } function Pf(e) { return function () { return e } } function Af(e, t) { return null == e || e !== e ? t : e } var Rf = vo(), xf = vo(!0); function Nf(e) { return e } function Tf(e) { return ts("function" == typeof e ? e : yi(e, l)) } function Cf(e) { return os(yi(e, l)) } function Uf(e, t) { return as(e, yi(t, l)) } var Df = ms((function (e, t) { return function (r) { return Vi(r, e, t) } })), Lf = ms((function (e, t) { return function (r) { return Vi(e, r, t) } })); function Mf(e, t, r) { var n = El(t), i = Ci(t, n); null == r && (!Sh(t) || !i.length && n.length) && (r = t, t = e, e = this, i = Ci(t, El(t))); var s = !(Sh(r) && "chain" in r) || !!r.chain, o = wh(e); return _r(i, (function (r) { var n = t[r]; e[r] = n, o && (e.prototype[r] = function () { var t = this.__chain__; if (s || t) { var r = e(this.__wrapped__), i = r.__actions__ = no(this.__actions__); return i.push({ func: n, args: arguments, thisArg: e }), r.__chain__ = t, r } return n.apply(e, jr([this.value()], arguments)) }) })), e } function kf() { return sr._ === this && (sr._ = bt), this } function zf() { } function Bf(e) { return e = Jh(e), ms((function (t) { return hs(t, e) })) } var Hf = Eo(Ir), qf = Eo(wr), Vf = Eo(Rr); function Kf(e) { return ca(e) ? zr(Na(e)) : ps(e) } function Ff(e) { return function (t) { return null == e ? r : Ui(e, t) } } var $f = Io(), Wf = Io(!0); function Jf() { return [] } function Gf() { return !1 } function Yf() { return {} } function Xf() { return "" } function Zf() { return !0 } function Qf(e, t) { if (e = Jh(e), e < 1 || e > D) return []; var r = k, n = Vt(e, k); t = Ko(t), e -= k; for (var i = Kr(n, t); ++r < e;)t(r); return i } function ed(e) { return ch(e) ? Ir(e, Na) : zh(e) ? [e] : no(xa(Qh(e))) } function td(e) { var t = ++ft; return Qh(e) + t } var rd = wo((function (e, t) { return e + t }), 0), nd = Ao("ceil"), id = wo((function (e, t) { return e / t }), 1), sd = Ao("floor"); function od(e) { return e && e.length ? Ii(e, Nf, Mi) : r } function ad(e, t) { return e && e.length ? Ii(e, Ko(t, 2), Mi) : r } function cd(e) { return kr(e, Nf) } function ud(e, t) { return kr(e, Ko(t, 2)) } function hd(e) { return e && e.length ? Ii(e, Nf, is) : r } function ld(e, t) { return e && e.length ? Ii(e, Ko(t, 2), is) : r } var fd = wo((function (e, t) { return e * t }), 1), dd = Ao("round"), pd = wo((function (e, t) { return e - t }), 0); function gd(e) { return e && e.length ? Vr(e, Nf) : 0 } function bd(e, t) { return e && e.length ? Vr(e, Ko(t, 2)) : 0 } return On.after = Ru, On.ary = xu, On.assign = el, On.assignIn = tl, On.assignInWith = rl, On.assignWith = nl, On.at = il, On.before = Nu, On.bind = Tu, On.bindAll = Sf, On.bindKey = Cu, On.castArray = Zu, On.chain = Fc, On.chunk = Da, On.compact = La, On.concat = Ma, On.cond = If, On.conforms = jf, On.constant = Pf, On.countBy = ru, On.create = sl, On.curry = Uu, On.curryRight = Du, On.debounce = Lu, On.defaults = ol, On.defaultsDeep = al, On.defer = Mu, On.delay = ku, On.difference = ka, On.differenceBy = za, On.differenceWith = Ba, On.drop = Ha, On.dropRight = qa, On.dropRightWhile = Va, On.dropWhile = Ka, On.fill = Fa, On.filter = iu, On.flatMap = au, On.flatMapDeep = cu, On.flatMapDepth = uu, On.flatten = Ja, On.flattenDeep = Ga, On.flattenDepth = Ya, On.flip = zu, On.flow = Rf, On.flowRight = xf, On.fromPairs = Xa, On.functions = pl, On.functionsIn = gl, On.groupBy = fu, On.initial = ec, On.intersection = tc, On.intersectionBy = rc, On.intersectionWith = nc, On.invert = _l, On.invertBy = ml, On.invokeMap = pu, On.iteratee = Tf, On.keyBy = gu, On.keys = El, On.keysIn = Ol, On.map = bu, On.mapKeys = Sl, On.mapValues = Il, On.matches = Cf, On.matchesProperty = Uf, On.memoize = Bu, On.merge = jl, On.mergeWith = Pl, On.method = Df, On.methodOf = Lf, On.mixin = Mf, On.negate = Hu, On.nthArg = Bf, On.omit = Al, On.omitBy = Rl, On.once = qu, On.orderBy = yu, On.over = Hf, On.overArgs = Vu, On.overEvery = qf, On.overSome = Vf, On.partial = Ku, On.partialRight = Fu, On.partition = vu, On.pick = xl, On.pickBy = Nl, On.property = Kf, On.propertyOf = Ff, On.pull = cc, On.pullAll = uc, On.pullAllBy = hc, On.pullAllWith = lc, On.pullAt = fc, On.range = $f, On.rangeRight = Wf, On.rearg = $u, On.reject = wu, On.remove = dc, On.rest = Wu, On.reverse = pc, On.sampleSize = Ou, On.set = Cl, On.setWith = Ul, On.shuffle = Su, On.slice = gc, On.sortBy = Pu, On.sortedUniq = Ec, On.sortedUniqBy = Oc, On.split = uf, On.spread = Ju, On.tail = Sc, On.take = Ic, On.takeRight = jc, On.takeRightWhile = Pc, On.takeWhile = Ac, On.tap = $c, On.throttle = Gu, On.thru = Wc, On.toArray = $h, On.toPairs = Dl, On.toPairsIn = Ll, On.toPath = ed, On.toPlainObject = Xh, On.transform = Ml, On.unary = Yu, On.union = Rc, On.unionBy = xc, On.unionWith = Nc, On.uniq = Tc, On.uniqBy = Cc, On.uniqWith = Uc, On.unset = kl, On.unzip = Dc, On.unzipWith = Lc, On.update = zl, On.updateWith = Bl, On.values = Hl, On.valuesIn = ql, On.without = Mc, On.words = Ef, On.wrap = Xu, On.xor = kc, On.xorBy = zc, On.xorWith = Bc, On.zip = Hc, On.zipObject = qc, On.zipObjectDeep = Vc, On.zipWith = Kc, On.entries = Dl, On.entriesIn = Ll, On.extend = tl, On.extendWith = rl, Mf(On, On), On.add = rd, On.attempt = Of, On.camelCase = $l, On.capitalize = Wl, On.ceil = nd, On.clamp = Vl, On.clone = Qu, On.cloneDeep = th, On.cloneDeepWith = rh, On.cloneWith = eh, On.conformsTo = nh, On.deburr = Jl, On.defaultTo = Af, On.divide = id, On.endsWith = Gl, On.eq = ih, On.escape = Yl, On.escapeRegExp = Xl, On.every = nu, On.find = su, On.findIndex = $a, On.findKey = cl, On.findLast = ou, On.findLastIndex = Wa, On.findLastKey = ul, On.floor = sd, On.forEach = hu, On.forEachRight = lu, On.forIn = hl, On.forInRight = ll, On.forOwn = fl, On.forOwnRight = dl, On.get = bl, On.gt = sh, On.gte = oh, On.has = yl, On.hasIn = vl, On.head = Za, On.identity = Nf, On.includes = du, On.indexOf = Qa, On.inRange = Kl, On.invoke = wl, On.isArguments = ah, On.isArray = ch, On.isArrayBuffer = uh, On.isArrayLike = hh, On.isArrayLikeObject = lh, On.isBoolean = fh, On.isBuffer = dh, On.isDate = ph, On.isElement = gh, On.isEmpty = bh, On.isEqual = yh, On.isEqualWith = vh, On.isError = _h, On.isFinite = mh, On.isFunction = wh, On.isInteger = Eh, On.isLength = Oh, On.isMap = jh, On.isMatch = Ph, On.isMatchWith = Ah, On.isNaN = Rh, On.isNative = xh, On.isNil = Th, On.isNull = Nh, On.isNumber = Ch, On.isObject = Sh, On.isObjectLike = Ih, On.isPlainObject = Uh, On.isRegExp = Dh, On.isSafeInteger = Lh, On.isSet = Mh, On.isString = kh, On.isSymbol = zh, On.isTypedArray = Bh, On.isUndefined = Hh, On.isWeakMap = qh, On.isWeakSet = Vh, On.join = ic, On.kebabCase = Zl, On.last = sc, On.lastIndexOf = oc, On.lowerCase = Ql, On.lowerFirst = ef, On.lt = Kh, On.lte = Fh, On.max = od, On.maxBy = ad, On.mean = cd, On.meanBy = ud, On.min = hd, On.minBy = ld, On.stubArray = Jf, On.stubFalse = Gf, On.stubObject = Yf, On.stubString = Xf, On.stubTrue = Zf, On.multiply = fd, On.nth = ac, On.noConflict = kf, On.noop = zf, On.now = Au, On.pad = tf, On.padEnd = rf, On.padStart = nf, On.parseInt = sf, On.random = Fl, On.reduce = _u, On.reduceRight = mu, On.repeat = of, On.replace = af, On.result = Tl, On.round = dd, On.runInContext = e, On.sample = Eu, On.size = Iu, On.snakeCase = cf, On.some = ju, On.sortedIndex = bc, On.sortedIndexBy = yc, On.sortedIndexOf = vc, On.sortedLastIndex = _c, On.sortedLastIndexBy = mc, On.sortedLastIndexOf = wc, On.startCase = hf, On.startsWith = lf, On.subtract = pd, On.sum = gd, On.sumBy = bd, On.template = ff, On.times = Qf, On.toFinite = Wh, On.toInteger = Jh, On.toLength = Gh, On.toLower = df, On.toNumber = Yh, On.toSafeInteger = Zh, On.toString = Qh, On.toUpper = pf, On.trim = gf, On.trimEnd = bf, On.trimStart = yf, On.truncate = vf, On.unescape = _f, On.uniqueId = td, On.upperCase = mf, On.upperFirst = wf, On.each = hu, On.eachRight = lu, On.first = Za, Mf(On, function () { var e = {}; return Ni(On, (function (t, r) { lt.call(On.prototype, r) || (e[r] = t) })), e }(), { chain: !1 }), On.VERSION = n, _r(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], (function (e) { On[e].placeholder = On })), _r(["drop", "take"], (function (e, t) { Pn.prototype[e] = function (n) { n = n === r ? 1 : Bt(Jh(n), 0); var i = this.__filtered__ && !t ? new Pn(this) : this.clone(); return i.__filtered__ ? i.__takeCount__ = Vt(n, i.__takeCount__) : i.__views__.push({ size: Vt(n, k), type: e + (i.__dir__ < 0 ? "Right" : "") }), i }, Pn.prototype[e + "Right"] = function (t) { return this.reverse()[e](t).reverse() } })), _r(["filter", "map", "takeWhile"], (function (e, t) { var r = t + 1, n = r == N || r == C; Pn.prototype[e] = function (e) { var t = this.clone(); return t.__iteratees__.push({ iteratee: Ko(e, 3), type: r }), t.__filtered__ = t.__filtered__ || n, t } })), _r(["head", "last"], (function (e, t) { var r = "take" + (t ? "Right" : ""); Pn.prototype[e] = function () { return this[r](1).value()[0] } })), _r(["initial", "tail"], (function (e, t) { var r = "drop" + (t ? "" : "Right"); Pn.prototype[e] = function () { return this.__filtered__ ? new Pn(this) : this[r](1) } })), Pn.prototype.compact = function () { return this.filter(Nf) }, Pn.prototype.find = function (e) { return this.filter(e).head() }, Pn.prototype.findLast = function (e) { return this.reverse().find(e) }, Pn.prototype.invokeMap = ms((function (e, t) { return "function" == typeof e ? new Pn(this) : this.map((function (r) { return Vi(r, e, t) })) })), Pn.prototype.reject = function (e) { return this.filter(Hu(Ko(e))) }, Pn.prototype.slice = function (e, t) { e = Jh(e); var n = this; return n.__filtered__ && (e > 0 || t < 0) ? new Pn(n) : (e < 0 ? n = n.takeRight(-e) : e && (n = n.drop(e)), t !== r && (t = Jh(t), n = t < 0 ? n.dropRight(-t) : n.take(t - e)), n) }, Pn.prototype.takeRightWhile = function (e) { return this.reverse().takeWhile(e).reverse() }, Pn.prototype.toArray = function () { return this.take(k) }, Ni(Pn.prototype, (function (e, t) { var n = /^(?:filter|find|map|reject)|While$/.test(t), i = /^(?:head|last)$/.test(t), s = On[i ? "take" + ("last" == t ? "Right" : "") : t], o = i || /^find/.test(t); s && (On.prototype[t] = function () { var t = this.__wrapped__, a = i ? [1] : arguments, c = t instanceof Pn, u = a[0], h = c || ch(t), l = function (e) { var t = s.apply(On, jr([e], a)); return i && f ? t[0] : t }; h && n && "function" == typeof u && 1 != u.length && (c = h = !1); var f = this.__chain__, d = !!this.__actions__.length, p = o && !f, g = c && !d; if (!o && h) { t = g ? t : new Pn(this); var b = e.apply(t, a); return b.__actions__.push({ func: Wc, args: [l], thisArg: r }), new jn(b, f) } return p && g ? e.apply(this, a) : (b = this.thru(l), p ? i ? b.value()[0] : b.value() : b) }) })), _r(["pop", "push", "shift", "sort", "splice", "unshift"], (function (e) { var t = ot[e], r = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru", n = /^(?:pop|shift)$/.test(e); On.prototype[e] = function () { var e = arguments; if (n && !this.__chain__) { var i = this.value(); return t.apply(ch(i) ? i : [], e) } return this[r]((function (r) { return t.apply(ch(r) ? r : [], e) })) } })), Ni(Pn.prototype, (function (e, t) { var r = On[t]; if (r) { var n = r.name + ""; lt.call(ur, n) || (ur[n] = []), ur[n].push({ name: t, func: r }) } })), ur[_o(r, v).name] = [{ name: "wrapper", func: r }], Pn.prototype.clone = An, Pn.prototype.reverse = Rn, Pn.prototype.value = xn, On.prototype.at = Jc, On.prototype.chain = Gc, On.prototype.commit = Yc, On.prototype.next = Xc, On.prototype.plant = Qc, On.prototype.reverse = eu, On.prototype.toJSON = On.prototype.valueOf = On.prototype.value = tu, On.prototype.first = On.prototype.head, Pt && (On.prototype[Pt] = Zc), On }, En = wn(); ar ? ((ar.exports = En)._ = En, or._ = En) : sr._ = En }).call(y) })(v, v.exports); var _ = Object.defineProperty, m = Object.defineProperties, w = Object.getOwnPropertyDescriptors, E = Object.getOwnPropertySymbols, O = Object.prototype.hasOwnProperty, S = Object.prototype.propertyIsEnumerable, I = (e, t, r) => t in e ? _(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, j = (e, t) => { for (var r in t || (t = {})) O.call(t, r) && I(e, r, t[r]); if (E) for (var r of E(t)) S.call(t, r) && I(e, r, t[r]); return e }, P = (e, t) => m(e, w(t)); function A(e, t, r) { let n; const i = R(e); return t.rpcMap && (n = t.rpcMap[i]), n || (n = `${g}?chainId=eip155:${i}&projectId=${r}`), n } function R(e) { return e.includes("eip155") ? Number(e.split(":")[1]) : Number(e) } function x(e, t) { if (!t.includes(e)) throw new Error(`Chain '${e}' not approved. Please use one of the following: ${t.toString()}`) } function N(e) { return e.map(e => `${e.split(":")[0]}:${e.split(":")[1]}`) } function T(e, t) { const r = Object.keys(t.namespaces).filter(t => t.includes(e)); if (!r.length) return []; const n = []; return r.forEach(e => { const r = t.namespaces[e].accounts; n.push(...r) }), n } function C(e, t = {}) { const r = U(e), n = U(t); return v.exports.merge(r, n) } function U(e) { var t, r, n, s; const o = {}; if (!Object(i["U"])(e)) return o; for (const [a, c] of Object.entries(e)) { const e = Object(i["B"])(a) ? [a] : c.chains, u = c.methods || [], h = c.events || [], l = c.rpcMap || {}, f = Object(i["ib"])(a); o[f] = P(j(j({}, o[f]), c), { chains: Object(i["fb"])(e, null == (t = o[f]) ? void 0 : t.chains), methods: Object(i["fb"])(u, null == (r = o[f]) ? void 0 : r.methods), events: Object(i["fb"])(h, null == (n = o[f]) ? void 0 : n.events), rpcMap: j(j({}, l), null == (s = o[f]) ? void 0 : s.rpcMap) }) } return o } const D = {}, L = e => D[e], M = (e, t) => { D[e] = t }; class k { constructor(e) { this.name = "polkadot", this.namespace = e.namespace, this.events = L("events"), this.client = L("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { if (this.chainId = e, !this.httpProviders[e]) { const r = t || A(`${this.name}:${e}`, this.namespace); if (!r) throw new Error("No RPC url provided for chainId: " + e); this.setHttpProvider(e, r) } this.events.emit(b.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`) } getAccounts() { const e = this.namespace.accounts; return e && e.filter(e => e.split(":")[1] === this.chainId.toString()).map(e => e.split(":")[2]) || [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach(t => { var r; e[t] = this.createHttpProvider(t, null == (r = this.namespace.rpcMap) ? void 0 : r[t]) }), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const r = this.createHttpProvider(e, t); r && (this.httpProviders[e] = r) } createHttpProvider(e, t) { const r = t || A(e, this.namespace); return typeof r > "u" ? void 0 : new a["a"](new o["b"](r, L("disableProviderPing"))) } } class z { constructor(e) { this.name = "eip155", this.namespace = e.namespace, this.events = L("events"), this.client = L("client"), this.httpProviders = this.createHttpProviders(), this.chainId = parseInt(this.getDefaultChain()) } async request(e) { var t; switch (e.request.method) { case "eth_requestAccounts": return this.getAccounts(); case "eth_accounts": return this.getAccounts(); case "wallet_switchEthereumChain": return this.handleSwitchChain(e.request.params ? null == (t = e.request.params[0]) ? void 0 : t.chainId : "0x0"), null; case "eth_chainId": return parseInt(this.getDefaultChain()) }return this.namespace.methods.includes(e.request.method) ? await this.client.request(e) : this.getHttpProvider().request(e.request) } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } setDefaultChain(e, t) { const r = R(e); if (!this.httpProviders[r]) { const e = t || A(`${this.name}:${r}`, this.namespace, this.client.core.projectId); if (!e) throw new Error("No RPC url provided for chainId: " + r); this.setHttpProvider(r, e) } this.chainId = r, this.events.emit(b.DEFAULT_CHAIN_CHANGED, `${this.name}:${r}`) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId.toString(); if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } createHttpProvider(e, t) { const r = t || A(`${this.name}:${e}`, this.namespace, this.client.core.projectId); return typeof r > "u" ? void 0 : new a["a"](new o["a"](r, L("disableProviderPing"))) } setHttpProvider(e, t) { const r = this.createHttpProvider(e, t); r && (this.httpProviders[e] = r) } createHttpProviders() { const e = {}; return this.namespace.chains.forEach(t => { var r; const n = R(t); e[n] = this.createHttpProvider(n, null == (r = this.namespace.rpcMap) ? void 0 : r[t]) }), e } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter(e => e.split(":")[1] === this.chainId.toString()).map(e => e.split(":")[2]))] : [] } getHttpProvider() { const e = this.chainId, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } handleSwitchChain(e) { const t = parseInt(e, 16), r = `${this.name}:${t}`; x(r, this.namespace.chains), this.setDefaultChain("" + t) } } class B { constructor(e) { this.name = "solana", this.namespace = e.namespace, this.events = L("events"), this.client = L("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { if (!this.httpProviders[e]) { const r = t || A(`${this.name}:${e}`, this.namespace, this.client.core.projectId); if (!r) throw new Error("No RPC url provided for chainId: " + e); this.setHttpProvider(e, r) } this.chainId = e, this.events.emit(b.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`) } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter(e => e.split(":")[1] === this.chainId.toString()).map(e => e.split(":")[2]))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach(t => { var r; e[t] = this.createHttpProvider(t, null == (r = this.namespace.rpcMap) ? void 0 : r[t]) }), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const r = this.createHttpProvider(e, t); r && (this.httpProviders[e] = r) } createHttpProvider(e, t) { const r = t || A(e, this.namespace, this.client.core.projectId); return typeof r > "u" ? void 0 : new a["a"](new o["b"](r, L("disableProviderPing"))) } } class H { constructor(e) { this.name = "cosmos", this.namespace = e.namespace, this.events = L("events"), this.client = L("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { if (this.chainId = e, !this.httpProviders[e]) { const r = t || A(`${this.name}:${e}`, this.namespace, this.client.core.projectId); if (!r) throw new Error("No RPC url provided for chainId: " + e); this.setHttpProvider(e, r) } this.events.emit(b.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`) } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter(e => e.split(":")[1] === this.chainId.toString()).map(e => e.split(":")[2]))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach(t => { var r; e[t] = this.createHttpProvider(t, null == (r = this.namespace.rpcMap) ? void 0 : r[t]) }), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const r = this.createHttpProvider(e, t); r && (this.httpProviders[e] = r) } createHttpProvider(e, t) { const r = t || A(e, this.namespace, this.client.core.projectId); return typeof r > "u" ? void 0 : new a["a"](new o["b"](r, L("disableProviderPing"))) } } class q { constructor(e) { this.name = "cip34", this.namespace = e.namespace, this.events = L("events"), this.client = L("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { if (this.chainId = e, !this.httpProviders[e]) { const r = t || this.getCardanoRPCUrl(e); if (!r) throw new Error("No RPC url provided for chainId: " + e); this.setHttpProvider(e, r) } this.events.emit(b.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`) } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter(e => e.split(":")[1] === this.chainId.toString()).map(e => e.split(":")[2]))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach(t => { const r = this.getCardanoRPCUrl(t); e[t] = this.createHttpProvider(t, r) }), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } getCardanoRPCUrl(e) { const t = this.namespace.rpcMap; if (t) return t[e] } setHttpProvider(e, t) { const r = this.createHttpProvider(e, t); r && (this.httpProviders[e] = r) } createHttpProvider(e, t) { const r = t || this.getCardanoRPCUrl(e); return typeof r > "u" ? void 0 : new a["a"](new o["b"](r, L("disableProviderPing"))) } } class V { constructor(e) { this.name = "elrond", this.namespace = e.namespace, this.events = L("events"), this.client = L("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { if (!this.httpProviders[e]) { const r = t || A(`${this.name}:${e}`, this.namespace, this.client.core.projectId); if (!r) throw new Error("No RPC url provided for chainId: " + e); this.setHttpProvider(e, r) } this.chainId = e, this.events.emit(b.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`) } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter(e => e.split(":")[1] === this.chainId.toString()).map(e => e.split(":")[2]))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach(t => { var r; e[t] = this.createHttpProvider(t, null == (r = this.namespace.rpcMap) ? void 0 : r[t]) }), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const r = this.createHttpProvider(e, t); r && (this.httpProviders[e] = r) } createHttpProvider(e, t) { const r = t || A(e, this.namespace, this.client.core.projectId); return typeof r > "u" ? void 0 : new a["a"](new o["b"](r, L("disableProviderPing"))) } } class K { constructor(e) { this.name = "multiversx", this.namespace = e.namespace, this.events = L("events"), this.client = L("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders() } updateNamespace(e) { this.namespace = Object.assign(this.namespace, e) } requestAccounts() { return this.getAccounts() } request(e) { return this.namespace.methods.includes(e.request.method) ? this.client.request(e) : this.getHttpProvider().request(e.request) } setDefaultChain(e, t) { if (!this.httpProviders[e]) { const r = t || A(`${this.name}:${e}`, this.namespace, this.client.core.projectId); if (!r) throw new Error("No RPC url provided for chainId: " + e); this.setHttpProvider(e, r) } this.chainId = e, this.events.emit(b.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`) } getDefaultChain() { if (this.chainId) return this.chainId; if (this.namespace.defaultChain) return this.namespace.defaultChain; const e = this.namespace.chains[0]; if (!e) throw new Error("ChainId not found"); return e.split(":")[1] } getAccounts() { const e = this.namespace.accounts; return e ? [...new Set(e.filter(e => e.split(":")[1] === this.chainId.toString()).map(e => e.split(":")[2]))] : [] } createHttpProviders() { const e = {}; return this.namespace.chains.forEach(t => { var r; e[t] = this.createHttpProvider(t, null == (r = this.namespace.rpcMap) ? void 0 : r[t]) }), e } getHttpProvider() { const e = `${this.name}:${this.chainId}`, t = this.httpProviders[e]; if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`); return t } setHttpProvider(e, t) { const r = this.createHttpProvider(e, t); r && (this.httpProviders[e] = r) } createHttpProvider(e, t) { const r = t || A(e, this.namespace, this.client.core.projectId); return typeof r > "u" ? void 0 : new a["a"](new o["b"](r, L("disableProviderPing"))) } } var F = Object.defineProperty, $ = Object.defineProperties, W = Object.getOwnPropertyDescriptors, J = Object.getOwnPropertySymbols, G = Object.prototype.hasOwnProperty, Y = Object.prototype.propertyIsEnumerable, X = (e, t, r) => t in e ? F(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, Z = (e, t) => { for (var r in t || (t = {})) G.call(t, r) && X(e, r, t[r]); if (J) for (var r of J(t)) Y.call(t, r) && X(e, r, t[r]); return e }, Q = (e, t) => $(e, W(t)); class ee { constructor(e) { this.events = new u.a, this.rpcProviders = {}, this.shouldAbortPairingAttempt = !1, this.maxPairingAttempts = 10, this.disableProviderPing = !1, this.providerOpts = e, this.logger = typeof (null === e || void 0 === e ? void 0 : e.logger) < "u" && "string" != typeof (null === e || void 0 === e ? void 0 : e.logger) ? e.logger : Object(s["pino"])(Object(s["getDefaultLoggerOptions"])({ level: (null === e || void 0 === e ? void 0 : e.logger) || h })), this.disableProviderPing = (null === e || void 0 === e ? void 0 : e.disableProviderPing) || !1 } static async init(e) { const t = new ee(e); return await t.initialize(), t } async request(e, t) { const [r, n] = this.validateChain(t); if (!this.session) throw new Error("Please call connect() before request()"); return await this.getProvider(r).request({ request: Z({}, e), chainId: `${r}:${n}`, topic: this.session.topic }) } sendAsync(e, t, r) { this.request(e, r).then(e => t(null, e)).catch(e => t(e, void 0)) } async enable() { if (!this.client) throw new Error("Sign Client not initialized"); return this.session || await this.connect({ namespaces: this.namespaces, optionalNamespaces: this.optionalNamespaces, sessionProperties: this.sessionProperties }), await this.requestAccounts() } async disconnect() { var e; if (!this.session) throw new Error("Please call connect() before enable()"); await this.client.disconnect({ topic: null == (e = this.session) ? void 0 : e.topic, reason: Object(i["w"])("USER_DISCONNECTED") }), await this.cleanup() } async connect(e) { if (!this.client) throw new Error("Sign Client not initialized"); if (this.setNamespaces(e), await this.cleanupPendingPairings(), !e.skipPairing) return await this.pair(e.pairingTopic) } on(e, t) { this.events.on(e, t) } once(e, t) { this.events.once(e, t) } removeListener(e, t) { this.events.removeListener(e, t) } off(e, t) { this.events.off(e, t) } get isWalletConnect() { return !0 } async pair(e) { this.shouldAbortPairingAttempt = !1; let t = 0; do { if (this.shouldAbortPairingAttempt) throw new Error("Pairing aborted"); if (t >= this.maxPairingAttempts) throw new Error("Max auto pairing attempts reached"); const { uri: r, approval: i } = await this.client.connect({ pairingTopic: e, requiredNamespaces: this.namespaces, optionalNamespaces: this.optionalNamespaces, sessionProperties: this.sessionProperties }); r && (this.uri = r, this.events.emit("display_uri", r)), await i().then(e => { this.session = e }).catch(e => { if (e.message !== n["a"]) throw e; t++ }) } while (!this.session); return this.onConnect(), this.session } setDefaultChain(e, t) { try { const [r, n] = this.validateChain(e); this.getProvider(r).setDefaultChain(n, t) } catch (r) { if (!/Please call connect/.test(r.message)) throw r } } async cleanupPendingPairings(e = {}) { this.logger.info("Cleaning up inactive pairings..."); const t = this.client.pairing.getAll(); if (Object(i["L"])(t)) { for (const r of t) e.deletePairings ? this.client.core.expirer.set(r.topic, 0) : await this.client.core.relayer.subscriber.unsubscribe(r.topic); this.logger.info("Inactive pairings cleared: " + t.length) } } abortPairingAttempt() { this.shouldAbortPairingAttempt = !0 } async checkStorage() { if (this.namespaces = await this.getFromStore("namespaces") || {}, this.optionalNamespaces = await this.getFromStore("optionalNamespaces") || {}, this.client.session.length) { const e = this.client.session.keys.length - 1; this.session = this.client.session.get(this.client.session.keys[e]), this.createProviders() } } async initialize() { this.logger.trace("Initialized"), await this.createClient(), await this.checkStorage(), this.registerEventListeners() } async createClient() { this.client = this.providerOpts.client || await n["b"].init({ logger: this.providerOpts.logger || h, relayUrl: this.providerOpts.relayUrl || l, projectId: this.providerOpts.projectId, metadata: this.providerOpts.metadata, storageOptions: this.providerOpts.storageOptions, name: this.providerOpts.name }), this.logger.trace("SignClient Initialized") } createProviders() { if (!this.client) throw new Error("Sign Client not initialized"); if (!this.session) throw new Error("Session not initialized. Please call connect() before enable()"); const e = [...new Set(Object.keys(this.session.namespaces).map(e => Object(i["ib"])(e)))]; M("client", this.client), M("events", this.events), M("disableProviderPing", this.disableProviderPing), e.forEach(e => { if (!this.session) return; const t = T(e, this.session), r = N(t), n = C(this.namespaces, this.optionalNamespaces), i = Q(Z({}, n[e]), { accounts: t, chains: r }); switch (e) { case "eip155": this.rpcProviders[e] = new z({ namespace: i }); break; case "solana": this.rpcProviders[e] = new B({ namespace: i }); break; case "cosmos": this.rpcProviders[e] = new H({ namespace: i }); break; case "polkadot": this.rpcProviders[e] = new k({ namespace: i }); break; case "cip34": this.rpcProviders[e] = new q({ namespace: i }); break; case "elrond": this.rpcProviders[e] = new V({ namespace: i }); break; case "multiversx": this.rpcProviders[e] = new K({ namespace: i }); break } }) } registerEventListeners() { if (typeof this.client > "u") throw new Error("Sign Client is not initialized"); this.client.on("session_ping", e => { this.events.emit("session_ping", e) }), this.client.on("session_event", e => { const { params: t } = e, { event: r } = t; "accountsChanged" === r.name ? this.events.emit("accountsChanged", r.data) : "chainChanged" === r.name ? this.onChainChanged(t.chainId) : this.events.emit(r.name, r.data), this.events.emit("session_event", e) }), this.client.on("session_update", ({ topic: e, params: t }) => { var r; const { namespaces: n } = t, i = null == (r = this.client) ? void 0 : r.session.get(e); this.session = Q(Z({}, i), { namespaces: n }), this.onSessionUpdate(), this.events.emit("session_update", { topic: e, params: t }) }), this.client.on("session_delete", async e => { await this.cleanup(), this.events.emit("session_delete", e), this.events.emit("disconnect", Q(Z({}, Object(i["w"])("USER_DISCONNECTED")), { data: e.topic })) }), this.on(b.DEFAULT_CHAIN_CHANGED, e => { this.onChainChanged(e, !0) }) } getProvider(e) { if (!this.rpcProviders[e]) throw new Error("Provider not found: " + e); return this.rpcProviders[e] } onSessionUpdate() { Object.keys(this.rpcProviders).forEach(e => { var t; this.getProvider(e).updateNamespace(null == (t = this.session) ? void 0 : t.namespaces[e]) }) } setNamespaces(e) { const { namespaces: t, optionalNamespaces: r, sessionProperties: n } = e; if (!t || !Object.keys(t).length) throw new Error("Namespaces must be not empty"); this.namespaces = t, this.optionalNamespaces = r, this.sessionProperties = n, this.persist("namespaces", t), this.persist("optionalNamespaces", r) } validateChain(e) { const [t, r] = (null === e || void 0 === e ? void 0 : e.split(":")) || ["", ""]; if (t && !Object.keys(this.namespaces).map(e => Object(i["ib"])(e)).includes(t)) throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`); if (t && r) return [t, r]; const n = Object(i["ib"])(Object.keys(this.namespaces)[0]), s = this.rpcProviders[n].getDefaultChain(); return [n, s] } async requestAccounts() { const [e] = this.validateChain(); return await this.getProvider(e).requestAccounts() } onChainChanged(e, t = !1) { var r; const [n, i] = this.validateChain(e); t || this.getProvider(n).setDefaultChain(i), (null != (r = this.namespaces[n]) ? r : this.namespaces[`${n}:${i}`]).defaultChain = i, this.persist("namespaces", this.namespaces), this.events.emit("chainChanged", i) } onConnect() { this.createProviders(), this.events.emit("connect", { session: this.session }) } async cleanup() { this.session = void 0, await this.cleanupPendingPairings({ deletePairings: !0 }) } persist(e, t) { this.client.core.storage.setItem(`${p}/${e}`, t) } async getFromStore(e) { return await this.client.core.storage.getItem(`${p}/${e}`) } } const te = ee
          }.call(this, r("c8ba"))
     }, b452: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.KeyValueStorage = void 0; const n = r("9ab4"), i = r("cc00"), s = n.__importDefault(r("3174")), o = r("12b0"); class a { constructor() { this.localStorage = s.default } getKeys() { return n.__awaiter(this, void 0, void 0, (function* () { return Object.keys(this.localStorage) })) } getEntries() { return n.__awaiter(this, void 0, void 0, (function* () { return Object.entries(this.localStorage).map(o.parseEntry) })) } getItem(e) { return n.__awaiter(this, void 0, void 0, (function* () { const t = this.localStorage.getItem(e); if (null !== t) return i.safeJsonParse(t) })) } setItem(e, t) { return n.__awaiter(this, void 0, void 0, (function* () { this.localStorage.setItem(e, i.safeJsonStringify(t)) })) } removeItem(e) { return n.__awaiter(this, void 0, void 0, (function* () { this.localStorage.removeItem(e) })) } } t.KeyValueStorage = a, t.default = a }, b754: function (e, t, r) { "use strict"; r("d9e2"), r("86f2"), r("6fbc") }, b830: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = r("9ab4"); n.__exportStar(r("55a8"), t) }, bc60: function (e, t, r) { "use strict"; function n(e, t) { for (let r = 0; r < e.byteLength; r++) { if (e[r] < t[r]) return -1; if (e[r] > t[r]) return 1 } return e.byteLength > t.byteLength ? 1 : e.byteLength < t.byteLength ? -1 : 0 } Object.defineProperty(t, "__esModule", { value: !0 }), t.compare = n }, bcbf: function (e, t, r) { var n = r("f5df"); e.exports = function (e) { var t = n(e); return "BigInt64Array" == t || "BigUint64Array" == t } }, bdea: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = r("9ab4"); n.__exportStar(r("fc63"), t), n.__exportStar(r("e1fd"), t) }, bdff: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("c6f1"), i = r("d029"); function s(e, t = "utf8") { const r = n[t]; if (!r) throw new Error(`Unsupported encoding "${t}"`); return "utf8" !== t && "utf-8" !== t || null == globalThis.Buffer || null == globalThis.Buffer.from ? r.decoder.decode(`${r.prefix}${e}`) : i.asUint8Array(globalThis.Buffer.from(e, "utf-8")) } t.fromString = s }, c100: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.generateChildLogger = t.formatChildLoggerContext = t.getLoggerContext = t.setBrowserLoggerContext = t.getBrowserLoggerContext = t.getDefaultLoggerOptions = void 0; const n = r("40bb"); function i(e) { return Object.assign(Object.assign({}, e), { level: (null === e || void 0 === e ? void 0 : e.level) || n.PINO_LOGGER_DEFAULTS.level }) } function s(e, t = n.PINO_CUSTOM_CONTEXT_KEY) { return e[t] || "" } function o(e, t, r = n.PINO_CUSTOM_CONTEXT_KEY) { return e[r] = t, e } function a(e, t = n.PINO_CUSTOM_CONTEXT_KEY) { let r = ""; return r = "undefined" === typeof e.bindings ? s(e, t) : e.bindings().context || "", r } function c(e, t, r = n.PINO_CUSTOM_CONTEXT_KEY) { const i = a(e, r), s = i.trim() ? `${i}/${t}` : t; return s } function u(e, t, r = n.PINO_CUSTOM_CONTEXT_KEY) { const i = c(e, t, r), s = e.child({ context: i }); return o(s, i, r) } t.getDefaultLoggerOptions = i, t.getBrowserLoggerContext = s, t.setBrowserLoggerContext = o, t.getLoggerContext = a, t.formatChildLoggerContext = c, t.generateChildLogger = u }, c162: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("290c"), i = r("ff6a"); t.DIGEST_LENGTH = 64, t.BLOCK_SIZE = 128; var s = function () { function e() { this.digestLength = t.DIGEST_LENGTH, this.blockSize = t.BLOCK_SIZE, this._stateHi = new Int32Array(8), this._stateLo = new Int32Array(8), this._tempHi = new Int32Array(16), this._tempLo = new Int32Array(16), this._buffer = new Uint8Array(256), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this.reset() } return e.prototype._initState = function () { this._stateHi[0] = 1779033703, this._stateHi[1] = 3144134277, this._stateHi[2] = 1013904242, this._stateHi[3] = 2773480762, this._stateHi[4] = 1359893119, this._stateHi[5] = 2600822924, this._stateHi[6] = 528734635, this._stateHi[7] = 1541459225, this._stateLo[0] = 4089235720, this._stateLo[1] = 2227873595, this._stateLo[2] = 4271175723, this._stateLo[3] = 1595750129, this._stateLo[4] = 2917565137, this._stateLo[5] = 725511199, this._stateLo[6] = 4215389547, this._stateLo[7] = 327033209 }, e.prototype.reset = function () { return this._initState(), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this }, e.prototype.clean = function () { i.wipe(this._buffer), i.wipe(this._tempHi), i.wipe(this._tempLo), this.reset() }, e.prototype.update = function (e, r) { if (void 0 === r && (r = e.length), this._finished) throw new Error("SHA512: can't update because hash was finished."); var n = 0; if (this._bytesHashed += r, this._bufferLength > 0) { while (this._bufferLength < t.BLOCK_SIZE && r > 0) this._buffer[this._bufferLength++] = e[n++], r--; this._bufferLength === this.blockSize && (a(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, this.blockSize), this._bufferLength = 0) } r >= this.blockSize && (n = a(this._tempHi, this._tempLo, this._stateHi, this._stateLo, e, n, r), r %= this.blockSize); while (r > 0) this._buffer[this._bufferLength++] = e[n++], r--; return this }, e.prototype.finish = function (e) { if (!this._finished) { var t = this._bytesHashed, r = this._bufferLength, i = t / 536870912 | 0, s = t << 3, o = t % 128 < 112 ? 128 : 256; this._buffer[r] = 128; for (var c = r + 1; c < o - 8; c++)this._buffer[c] = 0; n.writeUint32BE(i, this._buffer, o - 8), n.writeUint32BE(s, this._buffer, o - 4), a(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, o), this._finished = !0 } for (c = 0; c < this.digestLength / 8; c++)n.writeUint32BE(this._stateHi[c], e, 8 * c), n.writeUint32BE(this._stateLo[c], e, 8 * c + 4); return this }, e.prototype.digest = function () { var e = new Uint8Array(this.digestLength); return this.finish(e), e }, e.prototype.saveState = function () { if (this._finished) throw new Error("SHA256: cannot save finished state"); return { stateHi: new Int32Array(this._stateHi), stateLo: new Int32Array(this._stateLo), buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0, bufferLength: this._bufferLength, bytesHashed: this._bytesHashed } }, e.prototype.restoreState = function (e) { return this._stateHi.set(e.stateHi), this._stateLo.set(e.stateLo), this._bufferLength = e.bufferLength, e.buffer && this._buffer.set(e.buffer), this._bytesHashed = e.bytesHashed, this._finished = !1, this }, e.prototype.cleanSavedState = function (e) { i.wipe(e.stateHi), i.wipe(e.stateLo), e.buffer && i.wipe(e.buffer), e.bufferLength = 0, e.bytesHashed = 0 }, e }(); t.SHA512 = s; var o = new Int32Array([1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591]); function a(e, t, r, i, s, a, c) { var u, h, l, f, d, p, g, b, y = r[0], v = r[1], _ = r[2], m = r[3], w = r[4], E = r[5], O = r[6], S = r[7], I = i[0], j = i[1], P = i[2], A = i[3], R = i[4], x = i[5], N = i[6], T = i[7]; while (c >= 128) { for (var C = 0; C < 16; C++) { var U = 8 * C + a; e[C] = n.readUint32BE(s, U), t[C] = n.readUint32BE(s, U + 4) } for (C = 0; C < 80; C++) { var D = y, L = v, M = _, k = m, z = w, B = E, H = O, q = S, V = I, K = j, F = P, $ = A, W = R, J = x, G = N, Y = T; if (u = S, h = T, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = (w >>> 14 | R << 18) ^ (w >>> 18 | R << 14) ^ (R >>> 9 | w << 23), h = (R >>> 14 | w << 18) ^ (R >>> 18 | w << 14) ^ (w >>> 9 | R << 23), d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, u = w & E ^ ~w & O, h = R & x ^ ~R & N, d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, u = o[2 * C], h = o[2 * C + 1], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, u = e[C % 16], h = t[C % 16], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, l = 65535 & g | b << 16, f = 65535 & d | p << 16, u = l, h = f, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = (y >>> 28 | I << 4) ^ (I >>> 2 | y << 30) ^ (I >>> 7 | y << 25), h = (I >>> 28 | y << 4) ^ (y >>> 2 | I << 30) ^ (y >>> 7 | I << 25), d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, u = y & v ^ y & _ ^ v & _, h = I & j ^ I & P ^ j & P, d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, q = 65535 & g | b << 16, Y = 65535 & d | p << 16, u = k, h = $, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = l, h = f, d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, k = 65535 & g | b << 16, $ = 65535 & d | p << 16, v = D, _ = L, m = M, w = k, E = z, O = B, S = H, y = q, j = V, P = K, A = F, R = $, x = W, N = J, T = G, I = Y, C % 16 === 15) for (U = 0; U < 16; U++)u = e[U], h = t[U], d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = e[(U + 9) % 16], h = t[(U + 9) % 16], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, l = e[(U + 1) % 16], f = t[(U + 1) % 16], u = (l >>> 1 | f << 31) ^ (l >>> 8 | f << 24) ^ l >>> 7, h = (f >>> 1 | l << 31) ^ (f >>> 8 | l << 24) ^ (f >>> 7 | l << 25), d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, l = e[(U + 14) % 16], f = t[(U + 14) % 16], u = (l >>> 19 | f << 13) ^ (f >>> 29 | l << 3) ^ l >>> 6, h = (f >>> 19 | l << 13) ^ (l >>> 29 | f << 3) ^ (f >>> 6 | l << 26), d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, e[U] = 65535 & g | b << 16, t[U] = 65535 & d | p << 16 } u = y, h = I, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = r[0], h = i[0], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, r[0] = y = 65535 & g | b << 16, i[0] = I = 65535 & d | p << 16, u = v, h = j, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = r[1], h = i[1], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, r[1] = v = 65535 & g | b << 16, i[1] = j = 65535 & d | p << 16, u = _, h = P, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = r[2], h = i[2], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, r[2] = _ = 65535 & g | b << 16, i[2] = P = 65535 & d | p << 16, u = m, h = A, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = r[3], h = i[3], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, r[3] = m = 65535 & g | b << 16, i[3] = A = 65535 & d | p << 16, u = w, h = R, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = r[4], h = i[4], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, r[4] = w = 65535 & g | b << 16, i[4] = R = 65535 & d | p << 16, u = E, h = x, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = r[5], h = i[5], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, r[5] = E = 65535 & g | b << 16, i[5] = x = 65535 & d | p << 16, u = O, h = N, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = r[6], h = i[6], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, r[6] = O = 65535 & g | b << 16, i[6] = N = 65535 & d | p << 16, u = S, h = T, d = 65535 & h, p = h >>> 16, g = 65535 & u, b = u >>> 16, u = r[7], h = i[7], d += 65535 & h, p += h >>> 16, g += 65535 & u, b += u >>> 16, p += d >>> 16, g += p >>> 16, b += g >>> 16, r[7] = S = 65535 & g | b << 16, i[7] = T = 65535 & d | p << 16, a += 128, c -= 128 } return a } function c(e) { var t = new s; t.update(e); var r = t.digest(); return t.clean(), r } t.hash = c }, c4e5: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"); const i = n.baseX({ prefix: "9", name: "base10", alphabet: "0123456789" }); t.base10 = i }, c6f1: function (e, t, r) { "use strict"; var n = r("b280"), i = r("67b0"); function s(e, t, r, n) { return { name: e, prefix: t, encoder: { name: e, prefix: t, encode: r }, decoder: { decode: n } } } const o = s("utf8", "u", e => { const t = new TextDecoder("utf8"); return "u" + t.decode(e) }, e => { const t = new TextEncoder; return t.encode(e.substring(1)) }), a = s("ascii", "a", e => { let t = "a"; for (let r = 0; r < e.length; r++)t += String.fromCharCode(e[r]); return t }, e => { e = e.substring(1); const t = i.allocUnsafe(e.length); for (let r = 0; r < e.length; r++)t[r] = e.charCodeAt(r); return t }), c = { utf8: o, "utf-8": o, hex: n.bases.base16, latin1: a, ascii: a, binary: a, ...n.bases }; e.exports = c }, c73d: function (e, t, r) { "use strict"; var n = r("23e7"), i = r("da84"), s = r("edd0"), o = r("83ab"), a = TypeError, c = Object.defineProperty, u = i.self !== i; try { if (o) { var h = Object.getOwnPropertyDescriptor(i, "self"); !u && h && h.get && h.enumerable || s(i, "self", { get: function () { return i }, set: function (e) { if (this !== i) throw a("Illegal invocation"); c(i, "self", { value: e, writable: !0, configurable: !0, enumerable: !0 }) }, configurable: !0, enumerable: !0 }) } else n({ global: !0, simple: !0, forced: u }, { self: i }) } catch (l) { } }, c9ad: function (e, t, r) { "use strict"; r.d(t, "d", (function () { return o })), r.d(t, "b", (function () { return a })), r.d(t, "c", (function () { return c })), r.d(t, "a", (function () { return u })); var n = r("cbd4"), i = r("acd6"); function s(e = 3) { const t = Date.now() * Math.pow(10, e), r = Math.floor(Math.random() * Math.pow(10, e)); return t + r } function o(e = 6) { return BigInt(s(e)) } function a(e, t, r) { return { id: r || s(), jsonrpc: "2.0", method: e, params: t } } function c(e, t) { return { id: e, jsonrpc: "2.0", result: t } } function u(e, t, r) { return { id: e, jsonrpc: "2.0", error: h(t, r) } } function h(e, t) { return "undefined" === typeof e ? Object(n["a"])(i["b"]) : ("string" === typeof e && (e = Object.assign(Object.assign({}, Object(n["a"])(i["d"])), { message: e })), "undefined" !== typeof t && (e.data = t), Object(n["c"])(e.code) && (e = Object(n["b"])(e.code)), e) } }, ca74: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("290c"), i = r("ff6a"); t.DIGEST_LENGTH = 32, t.BLOCK_SIZE = 64; var s = function () { function e() { this.digestLength = t.DIGEST_LENGTH, this.blockSize = t.BLOCK_SIZE, this._state = new Int32Array(8), this._temp = new Int32Array(64), this._buffer = new Uint8Array(128), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this.reset() } return e.prototype._initState = function () { this._state[0] = 1779033703, this._state[1] = 3144134277, this._state[2] = 1013904242, this._state[3] = 2773480762, this._state[4] = 1359893119, this._state[5] = 2600822924, this._state[6] = 528734635, this._state[7] = 1541459225 }, e.prototype.reset = function () { return this._initState(), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this }, e.prototype.clean = function () { i.wipe(this._buffer), i.wipe(this._temp), this.reset() }, e.prototype.update = function (e, t) { if (void 0 === t && (t = e.length), this._finished) throw new Error("SHA256: can't update because hash was finished."); var r = 0; if (this._bytesHashed += t, this._bufferLength > 0) { while (this._bufferLength < this.blockSize && t > 0) this._buffer[this._bufferLength++] = e[r++], t--; this._bufferLength === this.blockSize && (a(this._temp, this._state, this._buffer, 0, this.blockSize), this._bufferLength = 0) } t >= this.blockSize && (r = a(this._temp, this._state, e, r, t), t %= this.blockSize); while (t > 0) this._buffer[this._bufferLength++] = e[r++], t--; return this }, e.prototype.finish = function (e) { if (!this._finished) { var t = this._bytesHashed, r = this._bufferLength, i = t / 536870912 | 0, s = t << 3, o = t % 64 < 56 ? 64 : 128; this._buffer[r] = 128; for (var c = r + 1; c < o - 8; c++)this._buffer[c] = 0; n.writeUint32BE(i, this._buffer, o - 8), n.writeUint32BE(s, this._buffer, o - 4), a(this._temp, this._state, this._buffer, 0, o), this._finished = !0 } for (c = 0; c < this.digestLength / 4; c++)n.writeUint32BE(this._state[c], e, 4 * c); return this }, e.prototype.digest = function () { var e = new Uint8Array(this.digestLength); return this.finish(e), e }, e.prototype.saveState = function () { if (this._finished) throw new Error("SHA256: cannot save finished state"); return { state: new Int32Array(this._state), buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0, bufferLength: this._bufferLength, bytesHashed: this._bytesHashed } }, e.prototype.restoreState = function (e) { return this._state.set(e.state), this._bufferLength = e.bufferLength, e.buffer && this._buffer.set(e.buffer), this._bytesHashed = e.bytesHashed, this._finished = !1, this }, e.prototype.cleanSavedState = function (e) { i.wipe(e.state), e.buffer && i.wipe(e.buffer), e.bufferLength = 0, e.bytesHashed = 0 }, e }(); t.SHA256 = s; var o = new Int32Array([1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]); function a(e, t, r, i, s) { while (s >= 64) { for (var a = t[0], c = t[1], u = t[2], h = t[3], l = t[4], f = t[5], d = t[6], p = t[7], g = 0; g < 16; g++) { var b = i + 4 * g; e[g] = n.readUint32BE(r, b) } for (g = 16; g < 64; g++) { var y = e[g - 2], v = (y >>> 17 | y << 15) ^ (y >>> 19 | y << 13) ^ y >>> 10; y = e[g - 15]; var _ = (y >>> 7 | y << 25) ^ (y >>> 18 | y << 14) ^ y >>> 3; e[g] = (v + e[g - 7] | 0) + (_ + e[g - 16] | 0) } for (g = 0; g < 64; g++) { v = (((l >>> 6 | l << 26) ^ (l >>> 11 | l << 21) ^ (l >>> 25 | l << 7)) + (l & f ^ ~l & d) | 0) + (p + (o[g] + e[g] | 0) | 0) | 0, _ = ((a >>> 2 | a << 30) ^ (a >>> 13 | a << 19) ^ (a >>> 22 | a << 10)) + (a & c ^ a & u ^ c & u) | 0; p = d, d = f, f = l, l = h + v | 0, h = u, u = c, c = a, a = v + _ | 0 } t[0] += a, t[1] += c, t[2] += u, t[3] += h, t[4] += l, t[5] += f, t[6] += d, t[7] += p, i += 64, s -= 64 } return i } function c(e) { var t = new s; t.update(e); var r = t.digest(); return t.clean(), r } t.hash = c }, cad0: function (e, t, r) { "use strict"; function n(e) { return "object" === typeof e && "id" in e && "jsonrpc" in e && "2.0" === e.jsonrpc } function i(e) { return n(e) && "method" in e } function s(e) { return n(e) && (o(e) || a(e)) } function o(e) { return "result" in e } function a(e) { return "error" in e } r.d(t, "b", (function () { return i })), r.d(t, "c", (function () { return s })), r.d(t, "d", (function () { return o })), r.d(t, "a", (function () { return a })) }, cbd4: function (e, t, r) { "use strict"; r.d(t, "c", (function () { return i })), r.d(t, "a", (function () { return s })), r.d(t, "b", (function () { return o })), r.d(t, "d", (function () { return a })); r("d9e2"); var n = r("acd6"); function i(e) { return n["c"].includes(e) } function s(e) { return Object.keys(n["f"]).includes(e) ? n["f"][e] : n["f"][n["a"]] } function o(e) { const t = Object.values(n["f"]).find(t => t.code === e); return t || n["f"][n["a"]] } function a(e, t, r) { return e.message.includes("getaddrinfo ENOTFOUND") || e.message.includes("connect ECONNREFUSED") ? new Error(`Unavailable ${r} RPC url at ${t}`) : e } }, cbe5: function (e, t, r) { "use strict"; r.d(t, "a", (function () { return s })), r.d(t, "b", (function () { return o })); r("d9e2"); const n = e => JSON.stringify(e, (e, t) => "bigint" === typeof t ? t.toString() + "n" : t), i = e => { const t = /([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g, r = e.replace(t, '$1"$2n"$3'); return JSON.parse(r, (e, t) => { const r = "string" === typeof t && t.match(/^\d+n$/); return r ? BigInt(t.substring(0, t.length - 1)) : t }) }; function s(e) { if ("string" !== typeof e) throw new Error("Cannot safe json parse value of type " + typeof e); try { return i(e) } catch (t) { return e } } function o(e) { return "string" === typeof e ? e : n(e) || "" } }, cc00: function (e, t, r) { "use strict"; function n(e) { if ("string" !== typeof e) throw new Error("Cannot safe json parse value of type " + typeof e); try { return JSON.parse(e) } catch (t) { return e } } function i(e) { return "string" === typeof e ? e : JSON.stringify(e, (e, t) => "undefined" === typeof t ? null : t) } Object.defineProperty(t, "__esModule", { value: !0 }), t.safeJsonParse = n, t.safeJsonStringify = i }, ced8: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.ONE_YEAR = t.FOUR_WEEKS = t.THREE_WEEKS = t.TWO_WEEKS = t.ONE_WEEK = t.THIRTY_DAYS = t.SEVEN_DAYS = t.FIVE_DAYS = t.THREE_DAYS = t.ONE_DAY = t.TWENTY_FOUR_HOURS = t.TWELVE_HOURS = t.SIX_HOURS = t.THREE_HOURS = t.ONE_HOUR = t.SIXTY_MINUTES = t.THIRTY_MINUTES = t.TEN_MINUTES = t.FIVE_MINUTES = t.ONE_MINUTE = t.SIXTY_SECONDS = t.THIRTY_SECONDS = t.TEN_SECONDS = t.FIVE_SECONDS = t.ONE_SECOND = void 0, t.ONE_SECOND = 1, t.FIVE_SECONDS = 5, t.TEN_SECONDS = 10, t.THIRTY_SECONDS = 30, t.SIXTY_SECONDS = 60, t.ONE_MINUTE = t.SIXTY_SECONDS, t.FIVE_MINUTES = 5 * t.ONE_MINUTE, t.TEN_MINUTES = 10 * t.ONE_MINUTE, t.THIRTY_MINUTES = 30 * t.ONE_MINUTE, t.SIXTY_MINUTES = 60 * t.ONE_MINUTE, t.ONE_HOUR = t.SIXTY_MINUTES, t.THREE_HOURS = 3 * t.ONE_HOUR, t.SIX_HOURS = 6 * t.ONE_HOUR, t.TWELVE_HOURS = 12 * t.ONE_HOUR, t.TWENTY_FOUR_HOURS = 24 * t.ONE_HOUR, t.ONE_DAY = t.TWENTY_FOUR_HOURS, t.THREE_DAYS = 3 * t.ONE_DAY, t.FIVE_DAYS = 5 * t.ONE_DAY, t.SEVEN_DAYS = 7 * t.ONE_DAY, t.THIRTY_DAYS = 30 * t.ONE_DAY, t.ONE_WEEK = t.SEVEN_DAYS, t.TWO_WEEKS = 2 * t.ONE_WEEK, t.THREE_WEEKS = 3 * t.ONE_WEEK, t.FOUR_WEEKS = 4 * t.ONE_WEEK, t.ONE_YEAR = 365 * t.ONE_DAY }, d029: function (e, t, r) { "use strict"; function n(e) { return null != globalThis.Buffer ? new Uint8Array(e.buffer, e.byteOffset, e.byteLength) : e } Object.defineProperty(t, "__esModule", { value: !0 }), t.asUint8Array = n }, d3f8: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"); const i = n.rfc4648({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 }); t.base2 = i }, d429: function (e, t, r) { var n = r("07fa"), i = r("5926"), s = RangeError; e.exports = function (e, t, r, o) { var a = n(e), c = i(r), u = c < 0 ? a + c : c; if (u >= a || u < 0) throw s("Incorrect index"); for (var h = new t(a), l = 0; l < a; l++)h[l] = l === u ? o : e[l]; return h } }, d4dd: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("fb86"), i = r("ac1b"), s = r("dd7b"), o = r("9a44"), a = r("29f9"); t.CID = n.CID, t.varint = i, t.bytes = s, t.hasher = o, t.digest = a }, db00: function (e, t, r) { "use strict"; r.r(t), r.d(t, "IEvents", (function () { return n })); class n { } }, dc74: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("6e41"), i = r("dd7b"); class s { constructor(e, t, r) { this.name = e, this.prefix = t, this.baseEncode = r } encode(e) { if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`; throw Error("Unknown type, must be binary type") } } class o { constructor(e, t, r) { if (this.name = e, this.prefix = t, void 0 === t.codePointAt(0)) throw new Error("Invalid prefix character"); this.prefixCodePoint = t.codePointAt(0), this.baseDecode = r } decode(e) { if ("string" === typeof e) { if (e.codePointAt(0) !== this.prefixCodePoint) throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`); return this.baseDecode(e.slice(this.prefix.length)) } throw Error("Can only multibase decode strings") } or(e) { return c(this, e) } } class a { constructor(e) { this.decoders = e } or(e) { return c(this, e) } decode(e) { const t = e[0], r = this.decoders[t]; if (r) return r.decode(e); throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`) } } const c = (e, t) => new a({ ...e.decoders || { [e.prefix]: e }, ...t.decoders || { [t.prefix]: t } }); class u { constructor(e, t, r, n) { this.name = e, this.prefix = t, this.baseEncode = r, this.baseDecode = n, this.encoder = new s(e, t, r), this.decoder = new o(e, t, n) } encode(e) { return this.encoder.encode(e) } decode(e) { return this.decoder.decode(e) } } const h = ({ name: e, prefix: t, encode: r, decode: n }) => new u(e, t, r, n), l = ({ prefix: e, name: t, alphabet: r }) => { const { encode: s, decode: o } = n(r, t); return h({ prefix: e, name: t, encode: s, decode: e => i.coerce(o(e)) }) }, f = (e, t, r, n) => { const i = {}; for (let h = 0; h < t.length; ++h)i[t[h]] = h; let s = e.length; while ("=" === e[s - 1]) --s; const o = new Uint8Array(s * r / 8 | 0); let a = 0, c = 0, u = 0; for (let h = 0; h < s; ++h) { const t = i[e[h]]; if (void 0 === t) throw new SyntaxError(`Non-${n} character`); c = c << r | t, a += r, a >= 8 && (a -= 8, o[u++] = 255 & c >> a) } if (a >= r || 255 & c << 8 - a) throw new SyntaxError("Unexpected end of data"); return o }, d = (e, t, r) => { const n = "=" === t[t.length - 1], i = (1 << r) - 1; let s = "", o = 0, a = 0; for (let c = 0; c < e.length; ++c) { a = a << 8 | e[c], o += 8; while (o > r) o -= r, s += t[i & a >> o] } if (o && (s += t[i & a << r - o]), n) while (s.length * r & 7) s += "="; return s }, p = ({ name: e, prefix: t, bitsPerChar: r, alphabet: n }) => h({ prefix: t, name: e, encode(e) { return d(e, n, r) }, decode(t) { return f(t, n, r, e) } }); t.Codec = u, t.baseX = l, t.from = h, t.or = c, t.rfc4648 = p }, dcf9: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("67b0"), i = r("d029"); function s(e, t) { if (e.length !== t.length) throw new Error("Inputs should have the same length"); const r = n.allocUnsafe(e.length); for (let n = 0; n < e.length; n++)r[n] = e[n] ^ t[n]; return i.asUint8Array(r) } t.xor = s }, dd7b: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); const n = new Uint8Array(0), i = e => e.reduce((e, t) => e + t.toString(16).padStart(2, "0"), ""), s = e => { const t = e.match(/../g); return t ? new Uint8Array(t.map(e => parseInt(e, 16))) : n }, o = (e, t) => { if (e === t) return !0; if (e.byteLength !== t.byteLength) return !1; for (let r = 0; r < e.byteLength; r++)if (e[r] !== t[r]) return !1; return !0 }, a = e => { if (e instanceof Uint8Array && "Uint8Array" === e.constructor.name) return e; if (e instanceof ArrayBuffer) return new Uint8Array(e); if (ArrayBuffer.isView(e)) return new Uint8Array(e.buffer, e.byteOffset, e.byteLength); throw new Error("Unknown type, must be binary type") }, c = e => e instanceof ArrayBuffer || ArrayBuffer.isView(e), u = e => (new TextEncoder).encode(e), h = e => (new TextDecoder).decode(e); t.coerce = a, t.empty = n, t.equals = o, t.fromHex = s, t.fromString = u, t.isBinary = c, t.toHex = i, t.toString = h }, df75: function (e, t, r) { var n = r("ca84"), i = r("7839"); e.exports = Object.keys || function (e) { return n(e, i) } }, df7e: function (e, t, r) { var n = r("07fa"); e.exports = function (e, t) { for (var r = n(e), i = new t(r), s = 0; s < r; s++)i[s] = e[r - s - 1]; return i } }, dfb9: function (e, t, r) { var n = r("07fa"); e.exports = function (e, t) { var r = 0, i = n(t), s = new e(i); while (i > r) s[r] = t[r++]; return s } }, e060: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.sharedKey = t.generateKeyPair = t.generateKeyPairFromSeed = t.scalarMultBase = t.scalarMult = t.SHARED_KEY_LENGTH = t.SECRET_KEY_LENGTH = t.PUBLIC_KEY_LENGTH = void 0; const n = r("e5f1"), i = r("ff6a"); function s(e) { const t = new Float64Array(16); if (e) for (let r = 0; r < e.length; r++)t[r] = e[r]; return t } t.PUBLIC_KEY_LENGTH = 32, t.SECRET_KEY_LENGTH = 32, t.SHARED_KEY_LENGTH = 32; const o = new Uint8Array(32); o[0] = 9; const a = s([56129, 1]); function c(e) { let t = 1; for (let r = 0; r < 16; r++) { let n = e[r] + t + 65535; t = Math.floor(n / 65536), e[r] = n - 65536 * t } e[0] += t - 1 + 37 * (t - 1) } function u(e, t, r) { const n = ~(r - 1); for (let i = 0; i < 16; i++) { const r = n & (e[i] ^ t[i]); e[i] ^= r, t[i] ^= r } } function h(e, t) { const r = s(), n = s(); for (let i = 0; i < 16; i++)n[i] = t[i]; c(n), c(n), c(n); for (let i = 0; i < 2; i++) { r[0] = n[0] - 65517; for (let t = 1; t < 15; t++)r[t] = n[t] - 65535 - (r[t - 1] >> 16 & 1), r[t - 1] &= 65535; r[15] = n[15] - 32767 - (r[14] >> 16 & 1); const e = r[15] >> 16 & 1; r[14] &= 65535, u(n, r, 1 - e) } for (let i = 0; i < 16; i++)e[2 * i] = 255 & n[i], e[2 * i + 1] = n[i] >> 8 } function l(e, t) { for (let r = 0; r < 16; r++)e[r] = t[2 * r] + (t[2 * r + 1] << 8); e[15] &= 32767 } function f(e, t, r) { for (let n = 0; n < 16; n++)e[n] = t[n] + r[n] } function d(e, t, r) { for (let n = 0; n < 16; n++)e[n] = t[n] - r[n] } function p(e, t, r) { let n, i, s = 0, o = 0, a = 0, c = 0, u = 0, h = 0, l = 0, f = 0, d = 0, p = 0, g = 0, b = 0, y = 0, v = 0, _ = 0, m = 0, w = 0, E = 0, O = 0, S = 0, I = 0, j = 0, P = 0, A = 0, R = 0, x = 0, N = 0, T = 0, C = 0, U = 0, D = 0, L = r[0], M = r[1], k = r[2], z = r[3], B = r[4], H = r[5], q = r[6], V = r[7], K = r[8], F = r[9], $ = r[10], W = r[11], J = r[12], G = r[13], Y = r[14], X = r[15]; n = t[0], s += n * L, o += n * M, a += n * k, c += n * z, u += n * B, h += n * H, l += n * q, f += n * V, d += n * K, p += n * F, g += n * $, b += n * W, y += n * J, v += n * G, _ += n * Y, m += n * X, n = t[1], o += n * L, a += n * M, c += n * k, u += n * z, h += n * B, l += n * H, f += n * q, d += n * V, p += n * K, g += n * F, b += n * $, y += n * W, v += n * J, _ += n * G, m += n * Y, w += n * X, n = t[2], a += n * L, c += n * M, u += n * k, h += n * z, l += n * B, f += n * H, d += n * q, p += n * V, g += n * K, b += n * F, y += n * $, v += n * W, _ += n * J, m += n * G, w += n * Y, E += n * X, n = t[3], c += n * L, u += n * M, h += n * k, l += n * z, f += n * B, d += n * H, p += n * q, g += n * V, b += n * K, y += n * F, v += n * $, _ += n * W, m += n * J, w += n * G, E += n * Y, O += n * X, n = t[4], u += n * L, h += n * M, l += n * k, f += n * z, d += n * B, p += n * H, g += n * q, b += n * V, y += n * K, v += n * F, _ += n * $, m += n * W, w += n * J, E += n * G, O += n * Y, S += n * X, n = t[5], h += n * L, l += n * M, f += n * k, d += n * z, p += n * B, g += n * H, b += n * q, y += n * V, v += n * K, _ += n * F, m += n * $, w += n * W, E += n * J, O += n * G, S += n * Y, I += n * X, n = t[6], l += n * L, f += n * M, d += n * k, p += n * z, g += n * B, b += n * H, y += n * q, v += n * V, _ += n * K, m += n * F, w += n * $, E += n * W, O += n * J, S += n * G, I += n * Y, j += n * X, n = t[7], f += n * L, d += n * M, p += n * k, g += n * z, b += n * B, y += n * H, v += n * q, _ += n * V, m += n * K, w += n * F, E += n * $, O += n * W, S += n * J, I += n * G, j += n * Y, P += n * X, n = t[8], d += n * L, p += n * M, g += n * k, b += n * z, y += n * B, v += n * H, _ += n * q, m += n * V, w += n * K, E += n * F, O += n * $, S += n * W, I += n * J, j += n * G, P += n * Y, A += n * X, n = t[9], p += n * L, g += n * M, b += n * k, y += n * z, v += n * B, _ += n * H, m += n * q, w += n * V, E += n * K, O += n * F, S += n * $, I += n * W, j += n * J, P += n * G, A += n * Y, R += n * X, n = t[10], g += n * L, b += n * M, y += n * k, v += n * z, _ += n * B, m += n * H, w += n * q, E += n * V, O += n * K, S += n * F, I += n * $, j += n * W, P += n * J, A += n * G, R += n * Y, x += n * X, n = t[11], b += n * L, y += n * M, v += n * k, _ += n * z, m += n * B, w += n * H, E += n * q, O += n * V, S += n * K, I += n * F, j += n * $, P += n * W, A += n * J, R += n * G, x += n * Y, N += n * X, n = t[12], y += n * L, v += n * M, _ += n * k, m += n * z, w += n * B, E += n * H, O += n * q, S += n * V, I += n * K, j += n * F, P += n * $, A += n * W, R += n * J, x += n * G, N += n * Y, T += n * X, n = t[13], v += n * L, _ += n * M, m += n * k, w += n * z, E += n * B, O += n * H, S += n * q, I += n * V, j += n * K, P += n * F, A += n * $, R += n * W, x += n * J, N += n * G, T += n * Y, C += n * X, n = t[14], _ += n * L, m += n * M, w += n * k, E += n * z, O += n * B, S += n * H, I += n * q, j += n * V, P += n * K, A += n * F, R += n * $, x += n * W, N += n * J, T += n * G, C += n * Y, U += n * X, n = t[15], m += n * L, w += n * M, E += n * k, O += n * z, S += n * B, I += n * H, j += n * q, P += n * V, A += n * K, R += n * F, x += n * $, N += n * W, T += n * J, C += n * G, U += n * Y, D += n * X, s += 38 * w, o += 38 * E, a += 38 * O, c += 38 * S, u += 38 * I, h += 38 * j, l += 38 * P, f += 38 * A, d += 38 * R, p += 38 * x, g += 38 * N, b += 38 * T, y += 38 * C, v += 38 * U, _ += 38 * D, i = 1, n = s + i + 65535, i = Math.floor(n / 65536), s = n - 65536 * i, n = o + i + 65535, i = Math.floor(n / 65536), o = n - 65536 * i, n = a + i + 65535, i = Math.floor(n / 65536), a = n - 65536 * i, n = c + i + 65535, i = Math.floor(n / 65536), c = n - 65536 * i, n = u + i + 65535, i = Math.floor(n / 65536), u = n - 65536 * i, n = h + i + 65535, i = Math.floor(n / 65536), h = n - 65536 * i, n = l + i + 65535, i = Math.floor(n / 65536), l = n - 65536 * i, n = f + i + 65535, i = Math.floor(n / 65536), f = n - 65536 * i, n = d + i + 65535, i = Math.floor(n / 65536), d = n - 65536 * i, n = p + i + 65535, i = Math.floor(n / 65536), p = n - 65536 * i, n = g + i + 65535, i = Math.floor(n / 65536), g = n - 65536 * i, n = b + i + 65535, i = Math.floor(n / 65536), b = n - 65536 * i, n = y + i + 65535, i = Math.floor(n / 65536), y = n - 65536 * i, n = v + i + 65535, i = Math.floor(n / 65536), v = n - 65536 * i, n = _ + i + 65535, i = Math.floor(n / 65536), _ = n - 65536 * i, n = m + i + 65535, i = Math.floor(n / 65536), m = n - 65536 * i, s += i - 1 + 37 * (i - 1), i = 1, n = s + i + 65535, i = Math.floor(n / 65536), s = n - 65536 * i, n = o + i + 65535, i = Math.floor(n / 65536), o = n - 65536 * i, n = a + i + 65535, i = Math.floor(n / 65536), a = n - 65536 * i, n = c + i + 65535, i = Math.floor(n / 65536), c = n - 65536 * i, n = u + i + 65535, i = Math.floor(n / 65536), u = n - 65536 * i, n = h + i + 65535, i = Math.floor(n / 65536), h = n - 65536 * i, n = l + i + 65535, i = Math.floor(n / 65536), l = n - 65536 * i, n = f + i + 65535, i = Math.floor(n / 65536), f = n - 65536 * i, n = d + i + 65535, i = Math.floor(n / 65536), d = n - 65536 * i, n = p + i + 65535, i = Math.floor(n / 65536), p = n - 65536 * i, n = g + i + 65535, i = Math.floor(n / 65536), g = n - 65536 * i, n = b + i + 65535, i = Math.floor(n / 65536), b = n - 65536 * i, n = y + i + 65535, i = Math.floor(n / 65536), y = n - 65536 * i, n = v + i + 65535, i = Math.floor(n / 65536), v = n - 65536 * i, n = _ + i + 65535, i = Math.floor(n / 65536), _ = n - 65536 * i, n = m + i + 65535, i = Math.floor(n / 65536), m = n - 65536 * i, s += i - 1 + 37 * (i - 1), e[0] = s, e[1] = o, e[2] = a, e[3] = c, e[4] = u, e[5] = h, e[6] = l, e[7] = f, e[8] = d, e[9] = p, e[10] = g, e[11] = b, e[12] = y, e[13] = v, e[14] = _, e[15] = m } function g(e, t) { p(e, t, t) } function b(e, t) { const r = s(); for (let n = 0; n < 16; n++)r[n] = t[n]; for (let n = 253; n >= 0; n--)g(r, r), 2 !== n && 4 !== n && p(r, r, t); for (let n = 0; n < 16; n++)e[n] = r[n] } function y(e, t) { const r = new Uint8Array(32), n = new Float64Array(80), i = s(), o = s(), c = s(), y = s(), v = s(), _ = s(); for (let s = 0; s < 31; s++)r[s] = e[s]; r[31] = 127 & e[31] | 64, r[0] &= 248, l(n, t); for (let s = 0; s < 16; s++)o[s] = n[s]; i[0] = y[0] = 1; for (let s = 254; s >= 0; --s) { const e = r[s >>> 3] >>> (7 & s) & 1; u(i, o, e), u(c, y, e), f(v, i, c), d(i, i, c), f(c, o, y), d(o, o, y), g(y, v), g(_, i), p(i, c, i), p(c, o, v), f(v, i, c), d(i, i, c), g(o, i), d(c, y, _), p(i, c, a), f(i, i, y), p(c, c, i), p(i, y, _), p(y, o, n), g(o, v), u(i, o, e), u(c, y, e) } for (let s = 0; s < 16; s++)n[s + 16] = i[s], n[s + 32] = c[s], n[s + 48] = o[s], n[s + 64] = y[s]; const m = n.subarray(32), w = n.subarray(16); b(m, m), p(w, w, m); const E = new Uint8Array(32); return h(E, w), E } function v(e) { return y(e, o) } function _(e) { if (e.length !== t.SECRET_KEY_LENGTH) throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`); const r = new Uint8Array(e), n = v(r); return { publicKey: n, secretKey: r } } function m(e) { const t = (0, n.randomBytes)(32, e), r = _(t); return (0, i.wipe)(t), r } function w(e, r, n = !1) { if (e.length !== t.PUBLIC_KEY_LENGTH) throw new Error("X25519: incorrect secret key length"); if (r.length !== t.PUBLIC_KEY_LENGTH) throw new Error("X25519: incorrect public key length"); const i = y(e, r); if (n) { let e = 0; for (let t = 0; t < i.length; t++)e |= i[t]; if (0 === e) throw new Error("X25519: invalid shared key") } return i } t.scalarMult = y, t.scalarMultBase = v, t.generateKeyPairFromSeed = _, t.generateKeyPair = m, t.sharedKey = w }, e163: function (e, t, r) { var n = r("1a2d"), i = r("1626"), s = r("7b0b"), o = r("f772"), a = r("e177"), c = o("IE_PROTO"), u = Object, h = u.prototype; e.exports = a ? u.getPrototypeOf : function (e) { var t = s(e); if (n(t, c)) return t[c]; var r = t.constructor; return i(r) && t instanceof r ? r.prototype : t instanceof u ? h : null } }, e177: function (e, t, r) { var n = r("d039"); e.exports = !n((function () { function e() { } return e.prototype.constructor = null, Object.getPrototypeOf(new e) !== e.prototype })) }, e1fd: function (e, t, r) { "use strict"; (function (e) { function r() { return "undefined" === typeof document && "undefined" !== typeof navigator && "ReactNative" === navigator.product } function n() { return "undefined" !== typeof e && "undefined" !== typeof e.versions && "undefined" !== typeof e.versions.node } function i() { return !r() && !n() } Object.defineProperty(t, "__esModule", { value: !0 }), t.isBrowser = t.isNode = t.isReactNative = void 0, t.isReactNative = r, t.isNode = n, t.isBrowser = i }).call(this, r("4362")) }, e4de: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("dc74"); const i = n.baseX({ name: "base58btc", prefix: "z", alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz" }), s = n.baseX({ name: "base58flickr", prefix: "Z", alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ" }); t.base58btc = i, t.base58flickr = s }, e512: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.NodeRandomSource = void 0; const n = r("ff6a"); class i { constructor() { this.isAvailable = !1, this.isInstantiated = !1; { const e = r(12); e && e.randomBytes && (this._crypto = e, this.isAvailable = !0, this.isInstantiated = !0) } } randomBytes(e) { if (!this.isAvailable || !this._crypto) throw new Error("Node.js random byte generator is not available."); let t = this._crypto.randomBytes(e); if (t.length !== e) throw new Error("NodeRandomSource: got fewer bytes than requested"); const r = new Uint8Array(e); for (let n = 0; n < r.length; n++)r[n] = t[n]; return (0, n.wipe)(t), r } } t.NodeRandomSource = i }, e5f1: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.randomStringForEntropy = t.randomString = t.randomUint32 = t.randomBytes = t.defaultRandomSource = void 0; const n = r("5cc4"), i = r("290c"), s = r("ff6a"); function o(e, r = t.defaultRandomSource) { return r.randomBytes(e) } function a(e = t.defaultRandomSource) { const r = o(4, e), n = (0, i.readUint32LE)(r); return (0, s.wipe)(r), n } t.defaultRandomSource = new n.SystemRandomSource, t.randomBytes = o, t.randomUint32 = a; const c = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"; function u(e, r = c, n = t.defaultRandomSource) { if (r.length < 2) throw new Error("randomString charset is too short"); if (r.length > 256) throw new Error("randomString charset is too long"); let i = ""; const a = r.length, u = 256 - 256 % a; while (e > 0) { const t = o(Math.ceil(256 * e / u), n); for (let n = 0; n < t.length && e > 0; n++) { const s = t[n]; s < u && (i += r.charAt(s % a), e--) } (0, s.wipe)(t) } return i } function h(e, r = c, n = t.defaultRandomSource) { const i = Math.ceil(e / (Math.log(r.length) / Math.LN2)); return u(i, r, n) } t.randomString = u, t.randomStringForEntropy = h }, ea98: function (e, t, r) { "use strict"; var n = r("23e7"), i = r("e330"), s = r("1d80"), o = r("5926"), a = r("577e"), c = r("d039"), u = i("".charAt), h = c((function () { return "\ud842" !== "".at(-2) })); n({ target: "String", proto: !0, forced: h }, { at: function (e) { var t = a(s(this)), r = t.length, n = o(e), i = n >= 0 ? n : r + n; return i < 0 || i >= r ? void 0 : u(t, i) } }) }, eaf0: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("c6f1"); function i(e, t = "utf8") { const r = n[t]; if (!r) throw new Error(`Unsupported encoding "${t}"`); return "utf8" !== t && "utf-8" !== t || null == globalThis.Buffer || null == globalThis.Buffer.from ? r.encoder.encode(e).substring(1) : globalThis.Buffer.from(e.buffer, e.byteOffset, e.byteLength).toString("utf8") } t.toString = i }, ebb5: function (e, t, r) { "use strict"; var n, i, s, o = r("4b11"), a = r("83ab"), c = r("da84"), u = r("1626"), h = r("861d"), l = r("1a2d"), f = r("f5df"), d = r("0d51"), p = r("9112"), g = r("cb2d"), b = r("edd0"), y = r("3a9b"), v = r("e163"), _ = r("d2bb"), m = r("b622"), w = r("90e3"), E = r("69f3"), O = E.enforce, S = E.get, I = c.Int8Array, j = I && I.prototype, P = c.Uint8ClampedArray, A = P && P.prototype, R = I && v(I), x = j && v(j), N = Object.prototype, T = c.TypeError, C = m("toStringTag"), U = w("TYPED_ARRAY_TAG"), D = "TypedArrayConstructor", L = o && !!_ && "Opera" !== f(c.opera), M = !1, k = { Int8Array: 1, Uint8Array: 1, Uint8ClampedArray: 1, Int16Array: 2, Uint16Array: 2, Int32Array: 4, Uint32Array: 4, Float32Array: 4, Float64Array: 8 }, z = { BigInt64Array: 8, BigUint64Array: 8 }, B = function (e) { if (!h(e)) return !1; var t = f(e); return "DataView" === t || l(k, t) || l(z, t) }, H = function (e) { var t = v(e); if (h(t)) { var r = S(t); return r && l(r, D) ? r[D] : H(t) } }, q = function (e) { if (!h(e)) return !1; var t = f(e); return l(k, t) || l(z, t) }, V = function (e) { if (q(e)) return e; throw T("Target is not a typed array") }, K = function (e) { if (u(e) && (!_ || y(R, e))) return e; throw T(d(e) + " is not a typed array constructor") }, F = function (e, t, r, n) { if (a) { if (r) for (var i in k) { var s = c[i]; if (s && l(s.prototype, e)) try { delete s.prototype[e] } catch (o) { try { s.prototype[e] = t } catch (u) { } } } x[e] && !r || g(x, e, r ? t : L && j[e] || t, n) } }, $ = function (e, t, r) { var n, i; if (a) { if (_) { if (r) for (n in k) if (i = c[n], i && l(i, e)) try { delete i[e] } catch (s) { } if (R[e] && !r) return; try { return g(R, e, r ? t : L && R[e] || t) } catch (s) { } } for (n in k) i = c[n], !i || i[e] && !r || g(i, e, t) } }; for (n in k) i = c[n], s = i && i.prototype, s ? O(s)[D] = i : L = !1; for (n in z) i = c[n], s = i && i.prototype, s && (O(s)[D] = i); if ((!L || !u(R) || R === Function.prototype) && (R = function () { throw T("Incorrect invocation") }, L)) for (n in k) c[n] && _(c[n], R); if ((!L || !x || x === N) && (x = R.prototype, L)) for (n in k) c[n] && _(c[n].prototype, x); if (L && v(A) !== x && _(A, x), a && !l(x, C)) for (n in M = !0, b(x, C, { configurable: !0, get: function () { return h(this) ? this[U] : void 0 } }), k) c[n] && p(c[n], U, n); e.exports = { NATIVE_ARRAY_BUFFER_VIEWS: L, TYPED_ARRAY_TAG: M && U, aTypedArray: V, aTypedArrayConstructor: K, exportTypedArrayMethod: F, exportTypedArrayStaticMethod: $, getTypedArrayConstructor: H, isView: B, isTypedArray: q, TypedArray: R, TypedArrayPrototype: x } }, ed96: function (e, t, r) { "use strict"; function n(e, t) { var r = e >>> 16 & 65535, n = 65535 & e, i = t >>> 16 & 65535, s = 65535 & t; return n * s + (r * s + n * i << 16 >>> 0) | 0 } function i(e, t) { return e + t | 0 } function s(e, t) { return e - t | 0 } function o(e, t) { return e << t | e >>> 32 - t } function a(e, t) { return e << 32 - t | e >>> t } function c(e) { return "number" === typeof e && isFinite(e) && Math.floor(e) === e } Object.defineProperty(t, "__esModule", { value: !0 }), t.mul = Math.imul || n, t.add = i, t.sub = s, t.rotl = o, t.rotr = a, t.isInteger = Number.isInteger || c, t.MAX_SAFE_INTEGER = 9007199254740991, t.isSafeInteger = function (e) { return t.isInteger(e) && e >= -t.MAX_SAFE_INTEGER && e <= t.MAX_SAFE_INTEGER } }, edd0: function (e, t, r) { var n = r("13d2"), i = r("9bf2"); e.exports = function (e, t, r) { return r.get && n(r.get, t, { getter: !0 }), r.set && n(r.set, t, { setter: !0 }), i.f(e, t, r) } }, ef2c: function (e, t, r) { "use strict"; r.d(t, "d", (function () { return h })), r.d(t, "a", (function () { return l })), r.d(t, "c", (function () { return p })), r.d(t, "e", (function () { return g })), r.d(t, "b", (function () { return b })); r("d9e2"); var n = r("a828"), i = r("eaf0"), s = r("bdff"), o = r("cbe5"), a = r("3d45"); function c(e) { return Object(o["a"])(Object(i["toString"])(Object(s["fromString"])(e, a["g"]), a["e"])) } function u(e) { return Object(i["toString"])(Object(s["fromString"])(Object(o["b"])(e), a["e"]), a["g"]) } function h(e) { const t = Object(s["fromString"])(a["m"], a["l"]), r = a["k"] + Object(i["toString"])(Object(n["concat"])([t, e]), a["l"]); return [a["d"], a["c"], r].join(a["b"]) } function l(e) { const [t, r, n] = e.split(a["b"]); if (t !== a["d"] || r !== a["c"]) throw new Error('Issuer must be a DID with method "key"'); const o = n.slice(0, 1); if (o !== a["k"]) throw new Error("Issuer must be a key in mulicodec format"); const c = Object(s["fromString"])(n.slice(1), a["l"]), u = Object(i["toString"])(c.slice(0, 2), a["l"]); if (u !== a["m"]) throw new Error('Issuer must be a public key with type "Ed25519"'); const h = c.slice(2); if (h.length !== a["n"]) throw new Error("Issuer must be a public key with length 32 bytes"); return h } function f(e) { return Object(i["toString"])(e, a["g"]) } function d(e) { return Object(s["fromString"])(e, a["g"]) } function p(e) { return Object(s["fromString"])([u(e.header), u(e.payload)].join(a["f"]), a["a"]) } function g(e) { return [u(e.header), u(e.payload), f(e.signature)].join(a["f"]) } function b(e) { const t = e.split(a["f"]), r = c(t[0]), n = c(t[1]), i = d(t[2]), o = Object(s["fromString"])(t.slice(0, 2).join(a["f"]), a["a"]); return { header: r, payload: n, signature: i, data: o } } }, f234: function (e, t, r) { "use strict"; var n = "%[a-f0-9]{2}", i = new RegExp("(" + n + ")|([^%]+?)", "gi"), s = new RegExp("(" + n + ")+", "gi"); function o(e, t) { try { return [decodeURIComponent(e.join(""))] } catch (i) { } if (1 === e.length) return e; t = t || 1; var r = e.slice(0, t), n = e.slice(t); return Array.prototype.concat.call([], o(r), o(n)) } function a(e) { try { return decodeURIComponent(e) } catch (n) { for (var t = e.match(i) || [], r = 1; r < t.length; r++)e = o(t, r).join(""), t = e.match(i) || []; return e } } function c(e) { var t = { "%FE%FF": "", "%FF%FE": "" }, r = s.exec(e); while (r) { try { t[r[0]] = decodeURIComponent(r[0]) } catch (u) { var n = a(r[0]); n !== r[0] && (t[r[0]] = n) } r = s.exec(e) } t["%C2"] = ""; for (var i = Object.keys(t), o = 0; o < i.length; o++) { var c = i[o]; e = e.replace(new RegExp(c, "g"), t[c]) } return e } e.exports = function (e) { if ("string" !== typeof e) throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof e + "`"); try { return e = e.replace(/\+/g, " "), decodeURIComponent(e) } catch (t) { return c(e) } } }, f32c: function (e, t, r) { "use strict"; e.exports = (e, t) => { if ("string" !== typeof e || "string" !== typeof t) throw new TypeError("Expected the arguments to be of type `string`"); if ("" === t) return [e]; const r = e.indexOf(t); return -1 === r ? [e] : [e.slice(0, r), e.slice(r + t.length)] } }, f495: function (e, t, r) { var n = r("c04e"), i = TypeError; e.exports = function (e) { var t = n(e, "number"); if ("number" == typeof t) throw i("Can't convert number to bigint"); return BigInt(t) } }, f4dd: function (e, t, r) { "use strict"; var n = r("23e7"), i = r("d58f").right, s = r("a640"), o = r("2d00"), a = r("605d"), c = !a && o > 79 && o < 83, u = c || !s("reduceRight"); n({ target: "Array", proto: !0, forced: u }, { reduceRight: function (e) { return i(this, e, arguments.length, arguments.length > 1 ? arguments[1] : void 0) } }) }, f4f9: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("477e"), i = r("ff6a"), s = function () { function e(e, t, r, i) { void 0 === r && (r = new Uint8Array(0)), this._counter = new Uint8Array(1), this._hash = e, this._info = i; var s = n.hmac(this._hash, r, t); this._hmac = new n.HMAC(e, s), this._buffer = new Uint8Array(this._hmac.digestLength), this._bufpos = this._buffer.length } return e.prototype._fillBuffer = function () { this._counter[0]++; var e = this._counter[0]; if (0 === e) throw new Error("hkdf: cannot expand more"); this._hmac.reset(), e > 1 && this._hmac.update(this._buffer), this._info && this._hmac.update(this._info), this._hmac.update(this._counter), this._hmac.finish(this._buffer), this._bufpos = 0 }, e.prototype.expand = function (e) { for (var t = new Uint8Array(e), r = 0; r < t.length; r++)this._bufpos === this._buffer.length && this._fillBuffer(), t[r] = this._buffer[this._bufpos++]; return t }, e.prototype.clean = function () { this._hmac.clean(), i.wipe(this._buffer), i.wipe(this._counter), this._bufpos = 0 }, e }(); t.HKDF = s }, f72d: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.parseEntry = void 0; const n = r("cc00"); function i(e) { var t; return [e[0], n.safeJsonParse(null !== (t = e[1]) && void 0 !== t ? t : "")] } t.parseEntry = i }, f8cd: function (e, t, r) { var n = r("5926"), i = RangeError; e.exports = function (e) { var t = n(e); if (t < 0) throw i("The argument can't be less than 0"); return t } }, f900: function (e, t) { }, fb86: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("ac1b"), i = r("29f9"), s = r("e4de"), o = r("17fb"), a = r("dd7b"); class c { constructor(e, t, r, n) { this.code = t, this.version = e, this.multihash = r, this.bytes = n, this.byteOffset = n.byteOffset, this.byteLength = n.byteLength, this.asCID = this, this._baseCache = new Map, Object.defineProperties(this, { byteOffset: y, byteLength: y, code: b, version: b, multihash: b, bytes: b, _baseCache: y, asCID: y }) } toV0() { switch (this.version) { case 0: return this; default: { const { code: e, multihash: t } = this; if (e !== f) throw new Error("Cannot convert a non dag-pb CID to CIDv0"); if (t.code !== d) throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0"); return c.createV0(t) } } } toV1() { switch (this.version) { case 0: { const { code: e, digest: t } = this.multihash, r = i.create(e, t); return c.createV1(this.code, r) } case 1: return this; default: throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`) } } equals(e) { return e && this.code === e.code && this.version === e.version && i.equals(this.multihash, e.multihash) } toString(e) { const { bytes: t, version: r, _baseCache: n } = this; switch (r) { case 0: return h(t, n, e || s.base58btc.encoder); default: return l(t, n, e || o.base32.encoder) } } toJSON() { return { code: this.code, version: this.version, hash: this.multihash.bytes } } get [Symbol.toStringTag]() { return "CID" } [Symbol.for("nodejs.util.inspect.custom")]() { return "CID(" + this.toString() + ")" } static isCID(e) { return _(/^0\.0/, m), !(!e || !e[g] && e.asCID !== e) } get toBaseEncodedString() { throw new Error("Deprecated, use .toString()") } get codec() { throw new Error('"codec" property is deprecated, use integer "code" property instead') } get buffer() { throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead") } get multibaseName() { throw new Error('"multibaseName" property is deprecated') } get prefix() { throw new Error('"prefix" property is deprecated') } static asCID(e) { if (e instanceof c) return e; if (null != e && e.asCID === e) { const { version: t, code: r, multihash: n, bytes: i } = e; return new c(t, r, n, i || p(t, r, n.bytes)) } if (null != e && !0 === e[g]) { const { version: t, multihash: r, code: n } = e, s = i.decode(r); return c.create(t, n, s) } return null } static create(e, t, r) { if ("number" !== typeof t) throw new Error("String codecs are no longer supported"); switch (e) { case 0: if (t !== f) throw new Error(`Version 0 CID must use dag-pb (code: ${f}) block encoding`); return new c(e, t, r, r.bytes); case 1: { const n = p(e, t, r.bytes); return new c(e, t, r, n) } default: throw new Error("Invalid version") } } static createV0(e) { return c.create(0, f, e) } static createV1(e, t) { return c.create(1, e, t) } static decode(e) { const [t, r] = c.decodeFirst(e); if (r.length) throw new Error("Incorrect length"); return t } static decodeFirst(e) { const t = c.inspectBytes(e), r = t.size - t.multihashSize, n = a.coerce(e.subarray(r, r + t.multihashSize)); if (n.byteLength !== t.multihashSize) throw new Error("Incorrect length"); const s = n.subarray(t.multihashSize - t.digestSize), o = new i.Digest(t.multihashCode, t.digestSize, s, n), u = 0 === t.version ? c.createV0(o) : c.createV1(t.codec, o); return [u, e.subarray(t.size)] } static inspectBytes(e) { let t = 0; const r = () => { const [r, i] = n.decode(e.subarray(t)); return t += i, r }; let i = r(), s = f; if (18 === i ? (i = 0, t = 0) : 1 === i && (s = r()), 0 !== i && 1 !== i) throw new RangeError("Invalid CID version " + i); const o = t, a = r(), c = r(), u = t + c, h = u - o; return { version: i, codec: s, multihashCode: a, digestSize: c, multihashSize: h, size: u } } static parse(e, t) { const [r, n] = u(e, t), i = c.decode(n); return i._baseCache.set(r, e), i } } const u = (e, t) => { switch (e[0]) { case "Q": { const r = t || s.base58btc; return [s.base58btc.prefix, r.decode(`${s.base58btc.prefix}${e}`)] } case s.base58btc.prefix: { const r = t || s.base58btc; return [s.base58btc.prefix, r.decode(e)] } case o.base32.prefix: { const r = t || o.base32; return [o.base32.prefix, r.decode(e)] } default: if (null == t) throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided"); return [e[0], t.decode(e)] } }, h = (e, t, r) => { const { prefix: n } = r; if (n !== s.base58btc.prefix) throw Error(`Cannot string encode V0 in ${r.name} encoding`); const i = t.get(n); if (null == i) { const i = r.encode(e).slice(1); return t.set(n, i), i } return i }, l = (e, t, r) => { const { prefix: n } = r, i = t.get(n); if (null == i) { const i = r.encode(e); return t.set(n, i), i } return i }, f = 112, d = 18, p = (e, t, r) => { const i = n.encodingLength(e), s = i + n.encodingLength(t), o = new Uint8Array(s + r.byteLength); return n.encodeTo(e, o, 0), n.encodeTo(t, o, i), o.set(r, s), o }, g = Symbol.for("@ipld/js-cid/CID"), b = { writable: !1, configurable: !1, enumerable: !0 }, y = { writable: !1, enumerable: !1, configurable: !1 }, v = "0.0.0-dev", _ = (e, t) => { if (!e.test(v)) throw new Error(t); console.warn(t) }, m = "CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"; t.CID = c }, fc63: function (e, t, r) { "use strict"; (function (e) { function r() { return (null === e || void 0 === e ? void 0 : e.crypto) || (null === e || void 0 === e ? void 0 : e.msCrypto) || {} } function n() { const e = r(); return e.subtle || e.webkitSubtle } function i() { return !!r() && !!n() } Object.defineProperty(t, "__esModule", { value: !0 }), t.isBrowserCryptoAvailable = t.getSubtleCrypto = t.getBrowerCrypto = void 0, t.getBrowerCrypto = r, t.getSubtleCrypto = n, t.isBrowserCryptoAvailable = i }).call(this, r("c8ba")) }, fca1: function (e, t, r) { "use strict"; r.d(t, "a", (function () { return s })); class n { } class i extends n { constructor() { super() } } class s extends i { constructor(e) { super() } } }, ff6a: function (e, t, r) { "use strict"; function n(e) { for (var t = 0; t < e.length; t++)e[t] = 0; return e } Object.defineProperty(t, "__esModule", { value: !0 }), t.wipe = n }
}]);
//# sourceMappingURL=universal-provider.c2d3314e.js.map